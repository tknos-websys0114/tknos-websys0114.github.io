function i(a){const{characterName:e,userName:r,chatHistory:c,timeAwareness:o,dateInput:n}=a,$=c.map(t=>`${t.sender==="user"?r:e}: ${t.text}`).join(`
`);let s="";if(o&&n){const t=n.replace(/-/g,".");s=`

**重要：**
- 这次约会的日期是：${t}
- 【必须】在你的记忆内容开头加上这个日期，格式为："${t} 内容..."
- 例如："${t} 今天和主一起..."`}const m=`你是一个"角色记忆整理器"，负责从对话记录中提取关键信息。

**背景：**
这是《刀剑乱舞》世界观中，审神者（${r}）与刀剑男士（${e}）之间的互动记录。

**要求：**
1. 【关键】：必须完全使用角色的口吻和语气（例如第一人称"我"），带有角色的情感色彩，严禁使用死板的旁白体。
2. 记录关键事件、角色的感受和想法
3. 保持角色的性格和说话风格
4. 字数控制在100-200字之间
5. 像写日记一样自然，可以有情感表达${o&&n?`
6. 必须在内容开头标注约会日期（格式：YYYY.MM.DD）`:""}
7. 【严禁】：禁止使用任何 Markdown 格式（如 **粗体**、- 列表、# 标题等）。只输出纯文字段落。

请直接输出纯文字内容，不要加标题、前缀或任何格式标记。`,u=`以下是${r}与${e} 之间的互动记录（按时间顺序排列）：

**对话记录：**
${$}

请你基于以上聊天内容，以${e}的口吻整理并输出记忆${s}`;return{systemPrompt:m,userPrompt:u}}export{i as buildMemorySummaryPrompt};
