function Uv(e,n){for(var r=0;r<n.length;r++){const a=n[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(a,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yu={exports:{}},gi={},bu={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function Hv(){if(Vp)return et;Vp=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function C(O,B,te){this.props=O,this.context=B,this.refs=y,this.updater=te||v}C.prototype.isReactComponent={},C.prototype.setState=function(O,B){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,B,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=C.prototype;function j(O,B,te){this.props=O,this.context=B,this.refs=y,this.updater=te||v}var T=j.prototype=new k;T.constructor=j,w(T,C.prototype),T.isPureReactComponent=!0;var D=Array.isArray,M=Object.prototype.hasOwnProperty,F={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function N(O,B,te){var X,G={},ee=null,ne=null;if(B!=null)for(X in B.ref!==void 0&&(ne=B.ref),B.key!==void 0&&(ee=""+B.key),B)M.call(B,X)&&!z.hasOwnProperty(X)&&(G[X]=B[X]);var oe=arguments.length-2;if(oe===1)G.children=te;else if(1<oe){for(var me=Array(oe),je=0;je<oe;je++)me[je]=arguments[je+2];G.children=me}if(O&&O.defaultProps)for(X in oe=O.defaultProps,oe)G[X]===void 0&&(G[X]=oe[X]);return{$$typeof:e,type:O,key:ee,ref:ne,props:G,_owner:F.current}}function P(O,B){return{$$typeof:e,type:O.type,key:B,ref:O.ref,props:O.props,_owner:O._owner}}function H(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function Z(O){var B={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(te){return B[te]})}var E=/\/+/g;function L(O,B){return typeof O=="object"&&O!==null&&O.key!=null?Z(""+O.key):B.toString(36)}function S(O,B,te,X,G){var ee=typeof O;(ee==="undefined"||ee==="boolean")&&(O=null);var ne=!1;if(O===null)ne=!0;else switch(ee){case"string":case"number":ne=!0;break;case"object":switch(O.$$typeof){case e:case n:ne=!0}}if(ne)return ne=O,G=G(ne),O=X===""?"."+L(ne,0):X,D(G)?(te="",O!=null&&(te=O.replace(E,"$&/")+"/"),S(G,B,te,"",function(je){return je})):G!=null&&(H(G)&&(G=P(G,te+(!G.key||ne&&ne.key===G.key?"":(""+G.key).replace(E,"$&/")+"/")+O)),B.push(G)),1;if(ne=0,X=X===""?".":X+":",D(O))for(var oe=0;oe<O.length;oe++){ee=O[oe];var me=X+L(ee,oe);ne+=S(ee,B,te,me,G)}else if(me=g(O),typeof me=="function")for(O=me.call(O),oe=0;!(ee=O.next()).done;)ee=ee.value,me=X+L(ee,oe++),ne+=S(ee,B,te,me,G);else if(ee==="object")throw B=String(O),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return ne}function K(O,B,te){if(O==null)return O;var X=[],G=0;return S(O,X,"","",function(ee){return B.call(te,ee,G++)}),X}function U(O){if(O._status===-1){var B=O._result;B=B(),B.then(function(te){(O._status===0||O._status===-1)&&(O._status=1,O._result=te)},function(te){(O._status===0||O._status===-1)&&(O._status=2,O._result=te)}),O._status===-1&&(O._status=0,O._result=B)}if(O._status===1)return O._result.default;throw O._result}var I={current:null},$={transition:null},W={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:$,ReactCurrentOwner:F};function Q(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:K,forEach:function(O,B,te){K(O,function(){B.apply(this,arguments)},te)},count:function(O){var B=0;return K(O,function(){B++}),B},toArray:function(O){return K(O,function(B){return B})||[]},only:function(O){if(!H(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},et.Component=C,et.Fragment=r,et.Profiler=i,et.PureComponent=j,et.StrictMode=a,et.Suspense=h,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,et.act=Q,et.cloneElement=function(O,B,te){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var X=w({},O.props),G=O.key,ee=O.ref,ne=O._owner;if(B!=null){if(B.ref!==void 0&&(ee=B.ref,ne=F.current),B.key!==void 0&&(G=""+B.key),O.type&&O.type.defaultProps)var oe=O.type.defaultProps;for(me in B)M.call(B,me)&&!z.hasOwnProperty(me)&&(X[me]=B[me]===void 0&&oe!==void 0?oe[me]:B[me])}var me=arguments.length-2;if(me===1)X.children=te;else if(1<me){oe=Array(me);for(var je=0;je<me;je++)oe[je]=arguments[je+2];X.children=oe}return{$$typeof:e,type:O.type,key:G,ref:ee,props:X,_owner:ne}},et.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:o,_context:O},O.Consumer=O},et.createElement=N,et.createFactory=function(O){var B=N.bind(null,O);return B.type=O,B},et.createRef=function(){return{current:null}},et.forwardRef=function(O){return{$$typeof:d,render:O}},et.isValidElement=H,et.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:U}},et.memo=function(O,B){return{$$typeof:x,type:O,compare:B===void 0?null:B}},et.startTransition=function(O){var B=$.transition;$.transition={};try{O()}finally{$.transition=B}},et.unstable_act=Q,et.useCallback=function(O,B){return I.current.useCallback(O,B)},et.useContext=function(O){return I.current.useContext(O)},et.useDebugValue=function(){},et.useDeferredValue=function(O){return I.current.useDeferredValue(O)},et.useEffect=function(O,B){return I.current.useEffect(O,B)},et.useId=function(){return I.current.useId()},et.useImperativeHandle=function(O,B,te){return I.current.useImperativeHandle(O,B,te)},et.useInsertionEffect=function(O,B){return I.current.useInsertionEffect(O,B)},et.useLayoutEffect=function(O,B){return I.current.useLayoutEffect(O,B)},et.useMemo=function(O,B){return I.current.useMemo(O,B)},et.useReducer=function(O,B,te){return I.current.useReducer(O,B,te)},et.useRef=function(O){return I.current.useRef(O)},et.useState=function(O){return I.current.useState(O)},et.useSyncExternalStore=function(O,B,te){return I.current.useSyncExternalStore(O,B,te)},et.useTransition=function(){return I.current.useTransition()},et.version="18.3.1",et}var Up;function Ed(){return Up||(Up=1,bu.exports=Hv()),bu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function Wv(){if(Hp)return gi;Hp=1;var e=Ed(),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,x){var f,p={},g=null,v=null;x!==void 0&&(g=""+x),h.key!==void 0&&(g=""+h.key),h.ref!==void 0&&(v=h.ref);for(f in h)a.call(h,f)&&!o.hasOwnProperty(f)&&(p[f]=h[f]);if(d&&d.defaultProps)for(f in h=d.defaultProps,h)p[f]===void 0&&(p[f]=h[f]);return{$$typeof:n,type:d,key:g,ref:v,props:p,_owner:i.current}}return gi.Fragment=r,gi.jsx=u,gi.jsxs=u,gi}var Wp;function $v(){return Wp||(Wp=1,yu.exports=Wv()),yu.exports}var l=$v(),Go={},wu={exports:{}},yn={},Su={exports:{}},ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function Kv(){return $p||($p=1,(function(e){function n($,W){var Q=$.length;$.push(W);e:for(;0<Q;){var O=Q-1>>>1,B=$[O];if(0<i(B,W))$[O]=W,$[Q]=B,Q=O;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var W=$[0],Q=$.pop();if(Q!==W){$[0]=Q;e:for(var O=0,B=$.length,te=B>>>1;O<te;){var X=2*(O+1)-1,G=$[X],ee=X+1,ne=$[ee];if(0>i(G,Q))ee<B&&0>i(ne,G)?($[O]=ne,$[ee]=Q,O=ee):($[O]=G,$[X]=Q,O=X);else if(ee<B&&0>i(ne,Q))$[O]=ne,$[ee]=Q,O=ee;else break e}}return W}function i($,W){var Q=$.sortIndex-W.sortIndex;return Q!==0?Q:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],x=[],f=1,p=null,g=3,v=!1,w=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var W=r(x);W!==null;){if(W.callback===null)a(x);else if(W.startTime<=$)a(x),W.sortIndex=W.expirationTime,n(h,W);else break;W=r(x)}}function D($){if(y=!1,T($),!w)if(r(h)!==null)w=!0,U(M);else{var W=r(x);W!==null&&I(D,W.startTime-$)}}function M($,W){w=!1,y&&(y=!1,k(N),N=-1),v=!0;var Q=g;try{for(T(W),p=r(h);p!==null&&(!(p.expirationTime>W)||$&&!Z());){var O=p.callback;if(typeof O=="function"){p.callback=null,g=p.priorityLevel;var B=O(p.expirationTime<=W);W=e.unstable_now(),typeof B=="function"?p.callback=B:p===r(h)&&a(h),T(W)}else a(h);p=r(h)}if(p!==null)var te=!0;else{var X=r(x);X!==null&&I(D,X.startTime-W),te=!1}return te}finally{p=null,g=Q,v=!1}}var F=!1,z=null,N=-1,P=5,H=-1;function Z(){return!(e.unstable_now()-H<P)}function E(){if(z!==null){var $=e.unstable_now();H=$;var W=!0;try{W=z(!0,$)}finally{W?L():(F=!1,z=null)}}else F=!1}var L;if(typeof j=="function")L=function(){j(E)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,K=S.port2;S.port1.onmessage=E,L=function(){K.postMessage(null)}}else L=function(){C(E,0)};function U($){z=$,F||(F=!0,L())}function I($,W){N=C(function(){$(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,U(M))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(h)},e.unstable_next=function($){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var Q=g;g=W;try{return $()}finally{g=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=g;g=$;try{return W()}finally{g=Q}},e.unstable_scheduleCallback=function($,W,Q){var O=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?O+Q:O):Q=O,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Q+B,$={id:f++,callback:W,priorityLevel:$,startTime:Q,expirationTime:B,sortIndex:-1},Q>O?($.sortIndex=Q,n(x,$),r(h)===null&&$===r(x)&&(y?(k(N),N=-1):y=!0,I(D,Q-O))):($.sortIndex=B,n(h,$),w||v||(w=!0,U(M))),$},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function($){var W=g;return function(){var Q=g;g=W;try{return $.apply(this,arguments)}finally{g=Q}}}})(ku)),ku}var Kp;function Gv(){return Kp||(Kp=1,Su.exports=Kv()),Su.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Zv(){if(Gp)return yn;Gp=1;var e=Ed(),n=Gv();function r(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function o(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(i[t]=s,t=0;t<s.length;t++)a.add(s[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t){return h.call(p,t)?!0:h.call(f,t)?!1:x.test(t)?p[t]=!0:(f[t]=!0,!1)}function v(t,s,c,m){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function w(t,s,c,m){if(s===null||typeof s>"u"||v(t,s,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function y(t,s,c,m,b,_,V){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=c,this.propertyName=t,this.type=s,this.sanitizeURL=_,this.removeEmptyString=V}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){C[t]=new y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];C[s]=new y(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){C[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){C[t]=new y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){C[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){C[t]=new y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){C[t]=new y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){C[t]=new y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){C[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function j(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(k,j);C[s]=new y(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(k,j);C[s]=new y(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(k,j);C[s]=new y(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){C[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)}),C.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){C[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)});function T(t,s,c,m){var b=C.hasOwnProperty(s)?C[s]:null;(b!==null?b.type!==0:m||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(w(s,c,b,m)&&(c=null),m||b===null?g(s)&&(c===null?t.removeAttribute(s):t.setAttribute(s,""+c)):b.mustUseProperty?t[b.propertyName]=c===null?b.type===3?!1:"":c:(s=b.attributeName,m=b.attributeNamespace,c===null?t.removeAttribute(s):(b=b.type,c=b===3||b===4&&c===!0?"":""+c,m?t.setAttributeNS(m,s,c):t.setAttribute(s,c))))}var D=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),F=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Z=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),$=Symbol.iterator;function W(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,O;function B(t){if(O===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+t}var te=!1;function X(t,s){if(!t||te)return"";te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(he){var m=he}Reflect.construct(t,[],s)}else{try{s.call()}catch(he){m=he}t.call(s.prototype)}else{try{throw Error()}catch(he){m=he}t()}}catch(he){if(he&&m&&typeof he.stack=="string"){for(var b=he.stack.split(`
`),_=m.stack.split(`
`),V=b.length-1,J=_.length-1;1<=V&&0<=J&&b[V]!==_[J];)J--;for(;1<=V&&0<=J;V--,J--)if(b[V]!==_[J]){if(V!==1||J!==1)do if(V--,J--,0>J||b[V]!==_[J]){var re=`
`+b[V].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=V&&0<=J);break}}}finally{te=!1,Error.prepareStackTrace=c}return(t=t?t.displayName||t.name:"")?B(t):""}function G(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=X(t.type,!1),t;case 11:return t=X(t.type.render,!1),t;case 1:return t=X(t.type,!0),t;default:return""}}function ee(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case F:return"Portal";case P:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case S:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z:return(t.displayName||"Context")+".Consumer";case H:return(t._context.displayName||"Context")+".Provider";case E:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return s=t.displayName||null,s!==null?s:ee(t.type)||"Memo";case U:s=t._payload,t=t._init;try{return ee(t(s))}catch{}}return null}function ne(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(s);case 8:return s===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function oe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function me(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function je(t){var s=me(t)?"checked":"value",c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),m=""+t[s];if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,_=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return b.call(this)},set:function(V){m=""+V,_.call(this,V)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(V){m=""+V},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Pe(t){t._valueTracker||(t._valueTracker=je(t))}function Ue(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return t&&(m=me(t)?t.checked?"true":"false":t.value),t=m,t!==c?(s.setValue(t),!0):!1}function nt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function R(t,s){var c=s.checked;return Q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??t._wrapperState.initialChecked})}function fe(t,s){var c=s.defaultValue==null?"":s.defaultValue,m=s.checked!=null?s.checked:s.defaultChecked;c=oe(s.value!=null?s.value:c),t._wrapperState={initialChecked:m,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ce(t,s){s=s.checked,s!=null&&T(t,"checked",s,!1)}function Y(t,s){ce(t,s);var c=oe(s.value),m=s.type;if(c!=null)m==="number"?(c===0&&t.value===""||t.value!=c)&&(t.value=""+c):t.value!==""+c&&(t.value=""+c);else if(m==="submit"||m==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?se(t,s.type,c):s.hasOwnProperty("defaultValue")&&se(t,s.type,oe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function q(t,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var m=s.type;if(!(m!=="submit"&&m!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,c||s===t.value||(t.value=s),t.defaultValue=s}c=t.name,c!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,c!==""&&(t.name=c)}function se(t,s,c){(s!=="number"||nt(t.ownerDocument)!==t)&&(c==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+c&&(t.defaultValue=""+c))}var ve=Array.isArray;function pe(t,s,c,m){if(t=t.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<t.length;c++)b=s.hasOwnProperty("$"+t[c].value),t[c].selected!==b&&(t[c].selected=b),b&&m&&(t[c].defaultSelected=!0)}else{for(c=""+oe(c),s=null,b=0;b<t.length;b++){if(t[b].value===c){t[b].selected=!0,m&&(t[b].defaultSelected=!0);return}s!==null||t[b].disabled||(s=t[b])}s!==null&&(s.selected=!0)}}function ie(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function we(t,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),c=s}t._wrapperState={initialValue:oe(c)}}function ke(t,s){var c=oe(s.value),m=oe(s.defaultValue);c!=null&&(c=""+c,c!==t.value&&(t.value=c),s.defaultValue==null&&t.defaultValue!==c&&(t.defaultValue=c)),m!=null&&(t.defaultValue=""+m)}function Se(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Me(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Me(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ve,ut=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,m,b){MSApp.execUnsafeLocalFunction(function(){return t(s,c,m,b)})}:t})(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ve.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function rt(t,s){if(s){var c=t.firstChild;if(c&&c===t.lastChild&&c.nodeType===3){c.nodeValue=s;return}}t.textContent=s}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nt=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(t){Nt.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),it[s]=it[t]})});function Xe(t,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||it.hasOwnProperty(t)&&it[t]?(""+s).trim():s+"px"}function xt(t,s){t=t.style;for(var c in s)if(s.hasOwnProperty(c)){var m=c.indexOf("--")===0,b=Xe(c,s[c],m);c==="float"&&(c="cssFloat"),m?t.setProperty(c,b):t[c]=b}}var sn=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mt(t,s){if(s){if(sn[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function sr(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $t=null,Sn=null,vt=null;function It(t){if(t=ti(t)){if(typeof $t!="function")throw Error(r(280));var s=t.stateNode;s&&(s=io(s),$t(t.stateNode,t.type,s))}}function Dn(t){Sn?vt?vt.push(t):vt=[t]:Sn=t}function pr(){if(Sn){var t=Sn,s=vt;if(vt=Sn=null,It(t),s)for(t=0;t<s.length;t++)It(s[t])}}function ss(t,s){return t(s)}function dn(){}var fn=!1;function Os(t,s,c){if(fn)return t(s,c);fn=!0;try{return ss(t,s,c)}finally{fn=!1,(Sn!==null||vt!==null)&&(dn(),pr())}}function Rr(t,s){var c=t.stateNode;if(c===null)return null;var m=io(c);if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(t=t.type,m=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!m;break e;default:t=!1}if(t)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var as=!1;if(d)try{var is={};Object.defineProperty(is,"passive",{get:function(){as=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{as=!1}function Bi(t,s,c,m,b,_,V,J,re){var he=Array.prototype.slice.call(arguments,3);try{s.apply(c,he)}catch(_e){this.onError(_e)}}var mr=!1,gr=null,zs=!1,za=null,os={onError:function(t){mr=!0,gr=t}};function ls(t,s,c,m,b,_,V,J,re){mr=!1,gr=null,Bi.apply(os,arguments)}function cs(t,s,c,m,b,_,V,J,re){if(ls.apply(this,arguments),mr){if(mr){var he=gr;mr=!1,gr=null}else throw Error(r(198));zs||(zs=!0,za=he)}}function Pn(t){var s=t,c=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(c=s.return),t=s.return;while(t)}return s.tag===3?c:null}function Yt(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Vi(t){if(Pn(t)!==t)throw Error(r(188))}function hn(t){var s=t.alternate;if(!s){if(s=Pn(t),s===null)throw Error(r(188));return s!==t?null:t}for(var c=t,m=s;;){var b=c.return;if(b===null)break;var _=b.alternate;if(_===null){if(m=b.return,m!==null){c=m;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===c)return Vi(b),t;if(_===m)return Vi(b),s;_=_.sibling}throw Error(r(188))}if(c.return!==m.return)c=b,m=_;else{for(var V=!1,J=b.child;J;){if(J===c){V=!0,c=b,m=_;break}if(J===m){V=!0,m=b,c=_;break}J=J.sibling}if(!V){for(J=_.child;J;){if(J===c){V=!0,c=_,m=b;break}if(J===m){V=!0,m=_,c=b;break}J=J.sibling}if(!V)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?t:s}function La(t){return t=hn(t),t!==null?Ui(t):null}function Ui(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Ui(t);if(s!==null)return s;t=t.sibling}return null}var Hi=n.unstable_scheduleCallback,Ba=n.unstable_cancelCallback,Kt=n.unstable_shouldYield,Ls=n.unstable_requestPaint,yt=n.unstable_now,Ll=n.unstable_getCurrentPriorityLevel,Va=n.unstable_ImmediatePriority,Wi=n.unstable_UserBlockingPriority,Bs=n.unstable_NormalPriority,Vs=n.unstable_LowPriority,xr=n.unstable_IdlePriority,Us=null,kn=null;function Bl(t){if(kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Us,t,void 0,(t.current.flags&128)===128)}catch{}}var Cn=Math.clz32?Math.clz32:Ul,Vl=Math.log,$i=Math.LN2;function Ul(t){return t>>>=0,t===0?32:31-(Vl(t)/$i|0)|0}var Hs=64,Ws=4194304;function us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $s(t,s){var c=t.pendingLanes;if(c===0)return 0;var m=0,b=t.suspendedLanes,_=t.pingedLanes,V=c&268435455;if(V!==0){var J=V&~b;J!==0?m=us(J):(_&=V,_!==0&&(m=us(_)))}else V=c&~b,V!==0?m=us(V):_!==0&&(m=us(_));if(m===0)return 0;if(s!==0&&s!==m&&(s&b)===0&&(b=m&-m,_=s&-s,b>=_||b===16&&(_&4194240)!==0))return s;if((m&4)!==0&&(m|=c&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=m;0<s;)c=31-Cn(s),b=1<<c,m|=t[c],s&=~b;return m}function Hl(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(t,s){for(var c=t.suspendedLanes,m=t.pingedLanes,b=t.expirationTimes,_=t.pendingLanes;0<_;){var V=31-Cn(_),J=1<<V,re=b[V];re===-1?((J&c)===0||(J&m)!==0)&&(b[V]=Hl(J,s)):re<=s&&(t.expiredLanes|=J),_&=~J}}function xe(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ye(){var t=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),t}function ge(t){for(var s=[],c=0;31>c;c++)s.push(t);return s}function Ye(t,s,c){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Cn(s),t[s]=c}function Ze(t,s){var c=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var m=t.eventTimes;for(t=t.expirationTimes;0<c;){var b=31-Cn(c),_=1<<b;s[b]=0,m[b]=-1,t[b]=-1,c&=~_}}function Qe(t,s){var c=t.entangledLanes|=s;for(t=t.entanglements;c;){var m=31-Cn(c),b=1<<m;b&s|t[m]&s&&(t[m]|=s),c&=~b}}var Be=0;function ct(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Tt,ft,st,an,Ks,Bt=!1,tt=[],De=null,Qt=null,Mn=null,ot=new Map,St=new Map,Rt=[],ds="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gs(t,s){switch(t){case"focusin":case"focusout":De=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":ot.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(s.pointerId)}}function fs(t,s,c,m,b,_){return t===null||t.nativeEvent!==_?(t={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:_,targetContainers:[b]},s!==null&&(s=ti(s),s!==null&&ft(s)),t):(t.eventSystemFlags|=m,s=t.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),t)}function hs(t,s,c,m,b){switch(s){case"focusin":return De=fs(De,t,s,c,m,b),!0;case"dragenter":return Qt=fs(Qt,t,s,c,m,b),!0;case"mouseover":return Mn=fs(Mn,t,s,c,m,b),!0;case"pointerover":var _=b.pointerId;return ot.set(_,fs(ot.get(_)||null,t,s,c,m,b)),!0;case"gotpointercapture":return _=b.pointerId,St.set(_,fs(St.get(_)||null,t,s,c,m,b)),!0}return!1}function _f(t){var s=ps(t.target);if(s!==null){var c=Pn(s);if(c!==null){if(s=c.tag,s===13){if(s=Yt(c),s!==null){t.blockedOn=s,Ks(t.priority,function(){st(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){t.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ki(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var c=Kl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(c===null){c=t.nativeEvent;var m=new c.constructor(c.type,c);Kn=m,c.target.dispatchEvent(m),Kn=null}else return s=ti(c),s!==null&&ft(s),t.blockedOn=c,!1;s.shift()}return!0}function Nf(t,s,c){Ki(t)&&c.delete(s)}function f2(){Bt=!1,De!==null&&Ki(De)&&(De=null),Qt!==null&&Ki(Qt)&&(Qt=null),Mn!==null&&Ki(Mn)&&(Mn=null),ot.forEach(Nf),St.forEach(Nf)}function Ua(t,s){t.blockedOn===s&&(t.blockedOn=null,Bt||(Bt=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,f2)))}function Ha(t){function s(b){return Ua(b,t)}if(0<tt.length){Ua(tt[0],t);for(var c=1;c<tt.length;c++){var m=tt[c];m.blockedOn===t&&(m.blockedOn=null)}}for(De!==null&&Ua(De,t),Qt!==null&&Ua(Qt,t),Mn!==null&&Ua(Mn,t),ot.forEach(s),St.forEach(s),c=0;c<Rt.length;c++)m=Rt[c],m.blockedOn===t&&(m.blockedOn=null);for(;0<Rt.length&&(c=Rt[0],c.blockedOn===null);)_f(c),c.blockedOn===null&&Rt.shift()}var Zs=D.ReactCurrentBatchConfig,Gi=!0;function h2(t,s,c,m){var b=Be,_=Zs.transition;Zs.transition=null;try{Be=1,$l(t,s,c,m)}finally{Be=b,Zs.transition=_}}function p2(t,s,c,m){var b=Be,_=Zs.transition;Zs.transition=null;try{Be=4,$l(t,s,c,m)}finally{Be=b,Zs.transition=_}}function $l(t,s,c,m){if(Gi){var b=Kl(t,s,c,m);if(b===null)cc(t,s,m,Zi,c),Gs(t,m);else if(hs(b,t,s,c,m))m.stopPropagation();else if(Gs(t,m),s&4&&-1<ds.indexOf(t)){for(;b!==null;){var _=ti(b);if(_!==null&&Tt(_),_=Kl(t,s,c,m),_===null&&cc(t,s,m,Zi,c),_===b)break;b=_}b!==null&&m.stopPropagation()}else cc(t,s,m,null,c)}}var Zi=null;function Kl(t,s,c,m){if(Zi=null,t=Tn(m),t=ps(t),t!==null)if(s=Pn(t),s===null)t=null;else if(c=s.tag,c===13){if(t=Yt(s),t!==null)return t;t=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Zi=t,null}function jf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ll()){case Va:return 1;case Wi:return 4;case Bs:case Vs:return 16;case xr:return 536870912;default:return 16}default:return 16}}var Fr=null,Gl=null,qi=null;function Ef(){if(qi)return qi;var t,s=Gl,c=s.length,m,b="value"in Fr?Fr.value:Fr.textContent,_=b.length;for(t=0;t<c&&s[t]===b[t];t++);var V=c-t;for(m=1;m<=V&&s[c-m]===b[_-m];m++);return qi=b.slice(t,1<m?1-m:void 0)}function Yi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function Af(){return!1}function _n(t){function s(c,m,b,_,V){this._reactName=c,this._targetInst=b,this.type=m,this.nativeEvent=_,this.target=V,this.currentTarget=null;for(var J in t)t.hasOwnProperty(J)&&(c=t[J],this[J]=c?c(_):_[J]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Qi:Af,this.isPropagationStopped=Af,this}return Q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),s}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=_n(qs),Wa=Q({},qs,{view:0,detail:0}),m2=_n(Wa),ql,Yl,$a,Xi=Q({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$a&&($a&&t.type==="mousemove"?(ql=t.screenX-$a.screenX,Yl=t.screenY-$a.screenY):Yl=ql=0,$a=t),ql)},movementY:function(t){return"movementY"in t?t.movementY:Yl}}),Tf=_n(Xi),g2=Q({},Xi,{dataTransfer:0}),x2=_n(g2),v2=Q({},Wa,{relatedTarget:0}),Ql=_n(v2),y2=Q({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),b2=_n(y2),w2=Q({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S2=_n(w2),k2=Q({},qs,{data:0}),Df=_n(k2),C2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j2(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=N2[t])?!!s[t]:!1}function Xl(){return j2}var E2=Q({},Wa,{key:function(t){if(t.key){var s=C2[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Yi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(t){return t.type==="keypress"?Yi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A2=_n(E2),T2=Q({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=_n(T2),D2=Q({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),P2=_n(D2),M2=Q({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=_n(M2),R2=Q({},Xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F2=_n(R2),O2=[9,13,27,32],Jl=d&&"CompositionEvent"in window,Ka=null;d&&"documentMode"in document&&(Ka=document.documentMode);var z2=d&&"TextEvent"in window&&!Ka,Mf=d&&(!Jl||Ka&&8<Ka&&11>=Ka),If=" ",Rf=!1;function Ff(t,s){switch(t){case"keyup":return O2.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Of(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function L2(t,s){switch(t){case"compositionend":return Of(s);case"keypress":return s.which!==32?null:(Rf=!0,If);case"textInput":return t=s.data,t===If&&Rf?null:t;default:return null}}function B2(t,s){if(Ys)return t==="compositionend"||!Jl&&Ff(t,s)?(t=Ef(),qi=Gl=Fr=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mf&&s.locale!=="ko"?null:s.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!V2[t.type]:s==="textarea"}function Lf(t,s,c,m){Dn(m),s=ro(s,"onChange"),0<s.length&&(c=new Zl("onChange","change",null,c,m),t.push({event:c,listeners:s}))}var Ga=null,Za=null;function U2(t){rh(t,0)}function Ji(t){var s=ta(t);if(Ue(s))return t}function H2(t,s){if(t==="change")return s}var Bf=!1;if(d){var ec;if(d){var tc="oninput"in document;if(!tc){var Vf=document.createElement("div");Vf.setAttribute("oninput","return;"),tc=typeof Vf.oninput=="function"}ec=tc}else ec=!1;Bf=ec&&(!document.documentMode||9<document.documentMode)}function Uf(){Ga&&(Ga.detachEvent("onpropertychange",Hf),Za=Ga=null)}function Hf(t){if(t.propertyName==="value"&&Ji(Za)){var s=[];Lf(s,Za,t,Tn(t)),Os(U2,s)}}function W2(t,s,c){t==="focusin"?(Uf(),Ga=s,Za=c,Ga.attachEvent("onpropertychange",Hf)):t==="focusout"&&Uf()}function $2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ji(Za)}function K2(t,s){if(t==="click")return Ji(s)}function G2(t,s){if(t==="input"||t==="change")return Ji(s)}function Z2(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gn=typeof Object.is=="function"?Object.is:Z2;function qa(t,s){if(Gn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var c=Object.keys(t),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var b=c[m];if(!h.call(s,b)||!Gn(t[b],s[b]))return!1}return!0}function Wf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $f(t,s){var c=Wf(t);t=0;for(var m;c;){if(c.nodeType===3){if(m=t+c.textContent.length,t<=s&&m>=s)return{node:c,offset:s-t};t=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Wf(c)}}function Kf(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Kf(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Gf(){for(var t=window,s=nt();s instanceof t.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)t=s.contentWindow;else break;s=nt(t.document)}return s}function nc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function q2(t){var s=Gf(),c=t.focusedElem,m=t.selectionRange;if(s!==c&&c&&c.ownerDocument&&Kf(c.ownerDocument.documentElement,c)){if(m!==null&&nc(c)){if(s=m.start,t=m.end,t===void 0&&(t=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(t,c.value.length);else if(t=(s=c.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var b=c.textContent.length,_=Math.min(m.start,b);m=m.end===void 0?_:Math.min(m.end,b),!t.extend&&_>m&&(b=m,m=_,_=b),b=$f(c,_);var V=$f(c,m);b&&V&&(t.rangeCount!==1||t.anchorNode!==b.node||t.anchorOffset!==b.offset||t.focusNode!==V.node||t.focusOffset!==V.offset)&&(s=s.createRange(),s.setStart(b.node,b.offset),t.removeAllRanges(),_>m?(t.addRange(s),t.extend(V.node,V.offset)):(s.setEnd(V.node,V.offset),t.addRange(s)))}}for(s=[],t=c;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)t=s[c],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y2=d&&"documentMode"in document&&11>=document.documentMode,Qs=null,rc=null,Ya=null,sc=!1;function Zf(t,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;sc||Qs==null||Qs!==nt(m)||(m=Qs,"selectionStart"in m&&nc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ya&&qa(Ya,m)||(Ya=m,m=ro(rc,"onSelect"),0<m.length&&(s=new Zl("onSelect","select",null,s,c),t.push({event:s,listeners:m}),s.target=Qs)))}function eo(t,s){var c={};return c[t.toLowerCase()]=s.toLowerCase(),c["Webkit"+t]="webkit"+s,c["Moz"+t]="moz"+s,c}var Xs={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionend:eo("Transition","TransitionEnd")},ac={},qf={};d&&(qf=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function to(t){if(ac[t])return ac[t];if(!Xs[t])return t;var s=Xs[t],c;for(c in s)if(s.hasOwnProperty(c)&&c in qf)return ac[t]=s[c];return t}var Yf=to("animationend"),Qf=to("animationiteration"),Xf=to("animationstart"),Jf=to("transitionend"),eh=new Map,th="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,s){eh.set(t,s),o(s,[t])}for(var ic=0;ic<th.length;ic++){var oc=th[ic],Q2=oc.toLowerCase(),X2=oc[0].toUpperCase()+oc.slice(1);Or(Q2,"on"+X2)}Or(Yf,"onAnimationEnd"),Or(Qf,"onAnimationIteration"),Or(Xf,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Jf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qa));function nh(t,s,c){var m=t.type||"unknown-event";t.currentTarget=c,cs(m,s,void 0,t),t.currentTarget=null}function rh(t,s){s=(s&4)!==0;for(var c=0;c<t.length;c++){var m=t[c],b=m.event;m=m.listeners;e:{var _=void 0;if(s)for(var V=m.length-1;0<=V;V--){var J=m[V],re=J.instance,he=J.currentTarget;if(J=J.listener,re!==_&&b.isPropagationStopped())break e;nh(b,J,he),_=re}else for(V=0;V<m.length;V++){if(J=m[V],re=J.instance,he=J.currentTarget,J=J.listener,re!==_&&b.isPropagationStopped())break e;nh(b,J,he),_=re}}}if(zs)throw t=za,zs=!1,za=null,t}function mt(t,s){var c=s[mc];c===void 0&&(c=s[mc]=new Set);var m=t+"__bubble";c.has(m)||(sh(s,t,2,!1),c.add(m))}function lc(t,s,c){var m=0;s&&(m|=4),sh(c,t,m,s)}var no="_reactListening"+Math.random().toString(36).slice(2);function Xa(t){if(!t[no]){t[no]=!0,a.forEach(function(c){c!=="selectionchange"&&(J2.has(c)||lc(c,!1,t),lc(c,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[no]||(s[no]=!0,lc("selectionchange",!1,s))}}function sh(t,s,c,m){switch(jf(s)){case 1:var b=h2;break;case 4:b=p2;break;default:b=$l}c=b.bind(null,s,c,t),b=void 0,!as||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),m?b!==void 0?t.addEventListener(s,c,{capture:!0,passive:b}):t.addEventListener(s,c,!0):b!==void 0?t.addEventListener(s,c,{passive:b}):t.addEventListener(s,c,!1)}function cc(t,s,c,m,b){var _=m;if((s&1)===0&&(s&2)===0&&m!==null)e:for(;;){if(m===null)return;var V=m.tag;if(V===3||V===4){var J=m.stateNode.containerInfo;if(J===b||J.nodeType===8&&J.parentNode===b)break;if(V===4)for(V=m.return;V!==null;){var re=V.tag;if((re===3||re===4)&&(re=V.stateNode.containerInfo,re===b||re.nodeType===8&&re.parentNode===b))return;V=V.return}for(;J!==null;){if(V=ps(J),V===null)return;if(re=V.tag,re===5||re===6){m=_=V;continue e}J=J.parentNode}}m=m.return}Os(function(){var he=_,_e=Tn(c),Ne=[];e:{var Ce=eh.get(t);if(Ce!==void 0){var Te=Zl,Re=t;switch(t){case"keypress":if(Yi(c)===0)break e;case"keydown":case"keyup":Te=A2;break;case"focusin":Re="focus",Te=Ql;break;case"focusout":Re="blur",Te=Ql;break;case"beforeblur":case"afterblur":Te=Ql;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=x2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=P2;break;case Yf:case Qf:case Xf:Te=b2;break;case Jf:Te=I2;break;case"scroll":Te=m2;break;case"wheel":Te=F2;break;case"copy":case"cut":case"paste":Te=S2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=Pf}var ze=(s&4)!==0,At=!ze&&t==="scroll",le=ze?Ce!==null?Ce+"Capture":null:Ce;ze=[];for(var ae=he,de;ae!==null;){de=ae;var Ee=de.stateNode;if(de.tag===5&&Ee!==null&&(de=Ee,le!==null&&(Ee=Rr(ae,le),Ee!=null&&ze.push(Ja(ae,Ee,de)))),At)break;ae=ae.return}0<ze.length&&(Ce=new Te(Ce,Re,null,c,_e),Ne.push({event:Ce,listeners:ze}))}}if((s&7)===0){e:{if(Ce=t==="mouseover"||t==="pointerover",Te=t==="mouseout"||t==="pointerout",Ce&&c!==Kn&&(Re=c.relatedTarget||c.fromElement)&&(ps(Re)||Re[vr]))break e;if((Te||Ce)&&(Ce=_e.window===_e?_e:(Ce=_e.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Te?(Re=c.relatedTarget||c.toElement,Te=he,Re=Re?ps(Re):null,Re!==null&&(At=Pn(Re),Re!==At||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Te=null,Re=he),Te!==Re)){if(ze=Tf,Ee="onMouseLeave",le="onMouseEnter",ae="mouse",(t==="pointerout"||t==="pointerover")&&(ze=Pf,Ee="onPointerLeave",le="onPointerEnter",ae="pointer"),At=Te==null?Ce:ta(Te),de=Re==null?Ce:ta(Re),Ce=new ze(Ee,ae+"leave",Te,c,_e),Ce.target=At,Ce.relatedTarget=de,Ee=null,ps(_e)===he&&(ze=new ze(le,ae+"enter",Re,c,_e),ze.target=de,ze.relatedTarget=At,Ee=ze),At=Ee,Te&&Re)t:{for(ze=Te,le=Re,ae=0,de=ze;de;de=Js(de))ae++;for(de=0,Ee=le;Ee;Ee=Js(Ee))de++;for(;0<ae-de;)ze=Js(ze),ae--;for(;0<de-ae;)le=Js(le),de--;for(;ae--;){if(ze===le||le!==null&&ze===le.alternate)break t;ze=Js(ze),le=Js(le)}ze=null}else ze=null;Te!==null&&ah(Ne,Ce,Te,ze,!1),Re!==null&&At!==null&&ah(Ne,At,Re,ze,!0)}}e:{if(Ce=he?ta(he):window,Te=Ce.nodeName&&Ce.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ce.type==="file")var Le=H2;else if(zf(Ce))if(Bf)Le=G2;else{Le=$2;var He=W2}else(Te=Ce.nodeName)&&Te.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(Le=K2);if(Le&&(Le=Le(t,he))){Lf(Ne,Le,c,_e);break e}He&&He(t,Ce,he),t==="focusout"&&(He=Ce._wrapperState)&&He.controlled&&Ce.type==="number"&&se(Ce,"number",Ce.value)}switch(He=he?ta(he):window,t){case"focusin":(zf(He)||He.contentEditable==="true")&&(Qs=He,rc=he,Ya=null);break;case"focusout":Ya=rc=Qs=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,Zf(Ne,c,_e);break;case"selectionchange":if(Y2)break;case"keydown":case"keyup":Zf(Ne,c,_e)}var We;if(Jl)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Ys?Ff(t,c)&&(Ge="onCompositionEnd"):t==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(Mf&&c.locale!=="ko"&&(Ys||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Ys&&(We=Ef()):(Fr=_e,Gl="value"in Fr?Fr.value:Fr.textContent,Ys=!0)),He=ro(he,Ge),0<He.length&&(Ge=new Df(Ge,t,null,c,_e),Ne.push({event:Ge,listeners:He}),We?Ge.data=We:(We=Of(c),We!==null&&(Ge.data=We)))),(We=z2?L2(t,c):B2(t,c))&&(he=ro(he,"onBeforeInput"),0<he.length&&(_e=new Df("onBeforeInput","beforeinput",null,c,_e),Ne.push({event:_e,listeners:he}),_e.data=We))}rh(Ne,s)})}function Ja(t,s,c){return{instance:t,listener:s,currentTarget:c}}function ro(t,s){for(var c=s+"Capture",m=[];t!==null;){var b=t,_=b.stateNode;b.tag===5&&_!==null&&(b=_,_=Rr(t,c),_!=null&&m.unshift(Ja(t,_,b)),_=Rr(t,s),_!=null&&m.push(Ja(t,_,b))),t=t.return}return m}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ah(t,s,c,m,b){for(var _=s._reactName,V=[];c!==null&&c!==m;){var J=c,re=J.alternate,he=J.stateNode;if(re!==null&&re===m)break;J.tag===5&&he!==null&&(J=he,b?(re=Rr(c,_),re!=null&&V.unshift(Ja(c,re,J))):b||(re=Rr(c,_),re!=null&&V.push(Ja(c,re,J)))),c=c.return}V.length!==0&&t.push({event:s,listeners:V})}var ev=/\r\n?/g,tv=/\u0000|\uFFFD/g;function ih(t){return(typeof t=="string"?t:""+t).replace(ev,`
`).replace(tv,"")}function so(t,s,c){if(s=ih(s),ih(t)!==s&&c)throw Error(r(425))}function ao(){}var uc=null,dc=null;function fc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hc=typeof setTimeout=="function"?setTimeout:void 0,nv=typeof clearTimeout=="function"?clearTimeout:void 0,oh=typeof Promise=="function"?Promise:void 0,rv=typeof queueMicrotask=="function"?queueMicrotask:typeof oh<"u"?function(t){return oh.resolve(null).then(t).catch(sv)}:hc;function sv(t){setTimeout(function(){throw t})}function pc(t,s){var c=s,m=0;do{var b=c.nextSibling;if(t.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(m===0){t.removeChild(b),Ha(s);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=b}while(c);Ha(s)}function zr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function lh(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var c=t.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return t;s--}else c==="/$"&&s++}t=t.previousSibling}return null}var ea=Math.random().toString(36).slice(2),ar="__reactFiber$"+ea,ei="__reactProps$"+ea,vr="__reactContainer$"+ea,mc="__reactEvents$"+ea,av="__reactListeners$"+ea,iv="__reactHandles$"+ea;function ps(t){var s=t[ar];if(s)return s;for(var c=t.parentNode;c;){if(s=c[vr]||c[ar]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(t=lh(t);t!==null;){if(c=t[ar])return c;t=lh(t)}return s}t=c,c=t.parentNode}return null}function ti(t){return t=t[ar]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function io(t){return t[ei]||null}var gc=[],na=-1;function Lr(t){return{current:t}}function gt(t){0>na||(t.current=gc[na],gc[na]=null,na--)}function ht(t,s){na++,gc[na]=t.current,t.current=s}var Br={},Xt=Lr(Br),pn=Lr(!1),ms=Br;function ra(t,s){var c=t.type.contextTypes;if(!c)return Br;var m=t.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var b={},_;for(_ in c)b[_]=s[_];return m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=b),b}function mn(t){return t=t.childContextTypes,t!=null}function oo(){gt(pn),gt(Xt)}function ch(t,s,c){if(Xt.current!==Br)throw Error(r(168));ht(Xt,s),ht(pn,c)}function uh(t,s,c){var m=t.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var b in m)if(!(b in s))throw Error(r(108,ne(t)||"Unknown",b));return Q({},c,m)}function lo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Br,ms=Xt.current,ht(Xt,t),ht(pn,pn.current),!0}function dh(t,s,c){var m=t.stateNode;if(!m)throw Error(r(169));c?(t=uh(t,s,ms),m.__reactInternalMemoizedMergedChildContext=t,gt(pn),gt(Xt),ht(Xt,t)):gt(pn),ht(pn,c)}var yr=null,co=!1,xc=!1;function fh(t){yr===null?yr=[t]:yr.push(t)}function ov(t){co=!0,fh(t)}function Vr(){if(!xc&&yr!==null){xc=!0;var t=0,s=Be;try{var c=yr;for(Be=1;t<c.length;t++){var m=c[t];do m=m(!0);while(m!==null)}yr=null,co=!1}catch(b){throw yr!==null&&(yr=yr.slice(t+1)),Hi(Va,Vr),b}finally{Be=s,xc=!1}}return null}var sa=[],aa=0,uo=null,fo=0,In=[],Rn=0,gs=null,br=1,wr="";function xs(t,s){sa[aa++]=fo,sa[aa++]=uo,uo=t,fo=s}function hh(t,s,c){In[Rn++]=br,In[Rn++]=wr,In[Rn++]=gs,gs=t;var m=br;t=wr;var b=32-Cn(m)-1;m&=~(1<<b),c+=1;var _=32-Cn(s)+b;if(30<_){var V=b-b%5;_=(m&(1<<V)-1).toString(32),m>>=V,b-=V,br=1<<32-Cn(s)+b|c<<b|m,wr=_+t}else br=1<<_|c<<b|m,wr=t}function vc(t){t.return!==null&&(xs(t,1),hh(t,1,0))}function yc(t){for(;t===uo;)uo=sa[--aa],sa[aa]=null,fo=sa[--aa],sa[aa]=null;for(;t===gs;)gs=In[--Rn],In[Rn]=null,wr=In[--Rn],In[Rn]=null,br=In[--Rn],In[Rn]=null}var Nn=null,jn=null,bt=!1,Zn=null;function ph(t,s){var c=Ln(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=t,s=t.deletions,s===null?(t.deletions=[c],t.flags|=16):s.push(c)}function mh(t,s){switch(t.tag){case 5:var c=t.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Nn=t,jn=zr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Nn=t,jn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=gs!==null?{id:br,overflow:wr}:null,t.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Ln(18,null,null,0),c.stateNode=s,c.return=t,t.child=c,Nn=t,jn=null,!0):!1;default:return!1}}function bc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wc(t){if(bt){var s=jn;if(s){var c=s;if(!mh(t,s)){if(bc(t))throw Error(r(418));s=zr(c.nextSibling);var m=Nn;s&&mh(t,s)?ph(m,c):(t.flags=t.flags&-4097|2,bt=!1,Nn=t)}}else{if(bc(t))throw Error(r(418));t.flags=t.flags&-4097|2,bt=!1,Nn=t}}}function gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function ho(t){if(t!==Nn)return!1;if(!bt)return gh(t),bt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!fc(t.type,t.memoizedProps)),s&&(s=jn)){if(bc(t))throw xh(),Error(r(418));for(;s;)ph(t,s),s=zr(s.nextSibling)}if(gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var c=t.data;if(c==="/$"){if(s===0){jn=zr(t.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}t=t.nextSibling}jn=null}}else jn=Nn?zr(t.stateNode.nextSibling):null;return!0}function xh(){for(var t=jn;t;)t=zr(t.nextSibling)}function ia(){jn=Nn=null,bt=!1}function Sc(t){Zn===null?Zn=[t]:Zn.push(t)}var lv=D.ReactCurrentBatchConfig;function ni(t,s,c){if(t=c.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var m=c.stateNode}if(!m)throw Error(r(147,t));var b=m,_=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(V){var J=b.refs;V===null?delete J[_]:J[_]=V},s._stringRef=_,s)}if(typeof t!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,t))}return t}function po(t,s){throw t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function vh(t){var s=t._init;return s(t._payload)}function yh(t){function s(le,ae){if(t){var de=le.deletions;de===null?(le.deletions=[ae],le.flags|=16):de.push(ae)}}function c(le,ae){if(!t)return null;for(;ae!==null;)s(le,ae),ae=ae.sibling;return null}function m(le,ae){for(le=new Map;ae!==null;)ae.key!==null?le.set(ae.key,ae):le.set(ae.index,ae),ae=ae.sibling;return le}function b(le,ae){return le=qr(le,ae),le.index=0,le.sibling=null,le}function _(le,ae,de){return le.index=de,t?(de=le.alternate,de!==null?(de=de.index,de<ae?(le.flags|=2,ae):de):(le.flags|=2,ae)):(le.flags|=1048576,ae)}function V(le){return t&&le.alternate===null&&(le.flags|=2),le}function J(le,ae,de,Ee){return ae===null||ae.tag!==6?(ae=hu(de,le.mode,Ee),ae.return=le,ae):(ae=b(ae,de),ae.return=le,ae)}function re(le,ae,de,Ee){var Le=de.type;return Le===z?_e(le,ae,de.props.children,Ee,de.key):ae!==null&&(ae.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===U&&vh(Le)===ae.type)?(Ee=b(ae,de.props),Ee.ref=ni(le,ae,de),Ee.return=le,Ee):(Ee=zo(de.type,de.key,de.props,null,le.mode,Ee),Ee.ref=ni(le,ae,de),Ee.return=le,Ee)}function he(le,ae,de,Ee){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==de.containerInfo||ae.stateNode.implementation!==de.implementation?(ae=pu(de,le.mode,Ee),ae.return=le,ae):(ae=b(ae,de.children||[]),ae.return=le,ae)}function _e(le,ae,de,Ee,Le){return ae===null||ae.tag!==7?(ae=_s(de,le.mode,Ee,Le),ae.return=le,ae):(ae=b(ae,de),ae.return=le,ae)}function Ne(le,ae,de){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=hu(""+ae,le.mode,de),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case M:return de=zo(ae.type,ae.key,ae.props,null,le.mode,de),de.ref=ni(le,null,ae),de.return=le,de;case F:return ae=pu(ae,le.mode,de),ae.return=le,ae;case U:var Ee=ae._init;return Ne(le,Ee(ae._payload),de)}if(ve(ae)||W(ae))return ae=_s(ae,le.mode,de,null),ae.return=le,ae;po(le,ae)}return null}function Ce(le,ae,de,Ee){var Le=ae!==null?ae.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return Le!==null?null:J(le,ae,""+de,Ee);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case M:return de.key===Le?re(le,ae,de,Ee):null;case F:return de.key===Le?he(le,ae,de,Ee):null;case U:return Le=de._init,Ce(le,ae,Le(de._payload),Ee)}if(ve(de)||W(de))return Le!==null?null:_e(le,ae,de,Ee,null);po(le,de)}return null}function Te(le,ae,de,Ee,Le){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return le=le.get(de)||null,J(ae,le,""+Ee,Le);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case M:return le=le.get(Ee.key===null?de:Ee.key)||null,re(ae,le,Ee,Le);case F:return le=le.get(Ee.key===null?de:Ee.key)||null,he(ae,le,Ee,Le);case U:var He=Ee._init;return Te(le,ae,de,He(Ee._payload),Le)}if(ve(Ee)||W(Ee))return le=le.get(de)||null,_e(ae,le,Ee,Le,null);po(ae,Ee)}return null}function Re(le,ae,de,Ee){for(var Le=null,He=null,We=ae,Ge=ae=0,Ht=null;We!==null&&Ge<de.length;Ge++){We.index>Ge?(Ht=We,We=null):Ht=We.sibling;var lt=Ce(le,We,de[Ge],Ee);if(lt===null){We===null&&(We=Ht);break}t&&We&&lt.alternate===null&&s(le,We),ae=_(lt,ae,Ge),He===null?Le=lt:He.sibling=lt,He=lt,We=Ht}if(Ge===de.length)return c(le,We),bt&&xs(le,Ge),Le;if(We===null){for(;Ge<de.length;Ge++)We=Ne(le,de[Ge],Ee),We!==null&&(ae=_(We,ae,Ge),He===null?Le=We:He.sibling=We,He=We);return bt&&xs(le,Ge),Le}for(We=m(le,We);Ge<de.length;Ge++)Ht=Te(We,le,Ge,de[Ge],Ee),Ht!==null&&(t&&Ht.alternate!==null&&We.delete(Ht.key===null?Ge:Ht.key),ae=_(Ht,ae,Ge),He===null?Le=Ht:He.sibling=Ht,He=Ht);return t&&We.forEach(function(Yr){return s(le,Yr)}),bt&&xs(le,Ge),Le}function ze(le,ae,de,Ee){var Le=W(de);if(typeof Le!="function")throw Error(r(150));if(de=Le.call(de),de==null)throw Error(r(151));for(var He=Le=null,We=ae,Ge=ae=0,Ht=null,lt=de.next();We!==null&&!lt.done;Ge++,lt=de.next()){We.index>Ge?(Ht=We,We=null):Ht=We.sibling;var Yr=Ce(le,We,lt.value,Ee);if(Yr===null){We===null&&(We=Ht);break}t&&We&&Yr.alternate===null&&s(le,We),ae=_(Yr,ae,Ge),He===null?Le=Yr:He.sibling=Yr,He=Yr,We=Ht}if(lt.done)return c(le,We),bt&&xs(le,Ge),Le;if(We===null){for(;!lt.done;Ge++,lt=de.next())lt=Ne(le,lt.value,Ee),lt!==null&&(ae=_(lt,ae,Ge),He===null?Le=lt:He.sibling=lt,He=lt);return bt&&xs(le,Ge),Le}for(We=m(le,We);!lt.done;Ge++,lt=de.next())lt=Te(We,le,Ge,lt.value,Ee),lt!==null&&(t&&lt.alternate!==null&&We.delete(lt.key===null?Ge:lt.key),ae=_(lt,ae,Ge),He===null?Le=lt:He.sibling=lt,He=lt);return t&&We.forEach(function(Vv){return s(le,Vv)}),bt&&xs(le,Ge),Le}function At(le,ae,de,Ee){if(typeof de=="object"&&de!==null&&de.type===z&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case M:e:{for(var Le=de.key,He=ae;He!==null;){if(He.key===Le){if(Le=de.type,Le===z){if(He.tag===7){c(le,He.sibling),ae=b(He,de.props.children),ae.return=le,le=ae;break e}}else if(He.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===U&&vh(Le)===He.type){c(le,He.sibling),ae=b(He,de.props),ae.ref=ni(le,He,de),ae.return=le,le=ae;break e}c(le,He);break}else s(le,He);He=He.sibling}de.type===z?(ae=_s(de.props.children,le.mode,Ee,de.key),ae.return=le,le=ae):(Ee=zo(de.type,de.key,de.props,null,le.mode,Ee),Ee.ref=ni(le,ae,de),Ee.return=le,le=Ee)}return V(le);case F:e:{for(He=de.key;ae!==null;){if(ae.key===He)if(ae.tag===4&&ae.stateNode.containerInfo===de.containerInfo&&ae.stateNode.implementation===de.implementation){c(le,ae.sibling),ae=b(ae,de.children||[]),ae.return=le,le=ae;break e}else{c(le,ae);break}else s(le,ae);ae=ae.sibling}ae=pu(de,le.mode,Ee),ae.return=le,le=ae}return V(le);case U:return He=de._init,At(le,ae,He(de._payload),Ee)}if(ve(de))return Re(le,ae,de,Ee);if(W(de))return ze(le,ae,de,Ee);po(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ae!==null&&ae.tag===6?(c(le,ae.sibling),ae=b(ae,de),ae.return=le,le=ae):(c(le,ae),ae=hu(de,le.mode,Ee),ae.return=le,le=ae),V(le)):c(le,ae)}return At}var oa=yh(!0),bh=yh(!1),mo=Lr(null),go=null,la=null,kc=null;function Cc(){kc=la=go=null}function _c(t){var s=mo.current;gt(mo),t._currentValue=s}function Nc(t,s,c){for(;t!==null;){var m=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),t===c)break;t=t.return}}function ca(t,s){go=t,kc=la=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(gn=!0),t.firstContext=null)}function Fn(t){var s=t._currentValue;if(kc!==t)if(t={context:t,memoizedValue:s,next:null},la===null){if(go===null)throw Error(r(308));la=t,go.dependencies={lanes:0,firstContext:t}}else la=la.next=t;return s}var vs=null;function jc(t){vs===null?vs=[t]:vs.push(t)}function wh(t,s,c,m){var b=s.interleaved;return b===null?(c.next=c,jc(s)):(c.next=b.next,b.next=c),s.interleaved=c,Sr(t,m)}function Sr(t,s){t.lanes|=s;var c=t.alternate;for(c!==null&&(c.lanes|=s),c=t,t=t.return;t!==null;)t.childLanes|=s,c=t.alternate,c!==null&&(c.childLanes|=s),c=t,t=t.return;return c.tag===3?c.stateNode:null}var Ur=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Hr(t,s,c){var m=t.updateQueue;if(m===null)return null;if(m=m.shared,(at&2)!==0){var b=m.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),m.pending=s,Sr(t,c)}return b=m.interleaved,b===null?(s.next=s,jc(m)):(s.next=b.next,b.next=s),m.interleaved=s,Sr(t,c)}function xo(t,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var m=s.lanes;m&=t.pendingLanes,c|=m,s.lanes=c,Qe(t,c)}}function kh(t,s){var c=t.updateQueue,m=t.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var b=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var V={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?b=_=V:_=_.next=V,c=c.next}while(c!==null);_===null?b=_=s:_=_.next=s}else b=_=s;c={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:m.shared,effects:m.effects},t.updateQueue=c;return}t=c.lastBaseUpdate,t===null?c.firstBaseUpdate=s:t.next=s,c.lastBaseUpdate=s}function vo(t,s,c,m){var b=t.updateQueue;Ur=!1;var _=b.firstBaseUpdate,V=b.lastBaseUpdate,J=b.shared.pending;if(J!==null){b.shared.pending=null;var re=J,he=re.next;re.next=null,V===null?_=he:V.next=he,V=re;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,J=_e.lastBaseUpdate,J!==V&&(J===null?_e.firstBaseUpdate=he:J.next=he,_e.lastBaseUpdate=re))}if(_!==null){var Ne=b.baseState;V=0,_e=he=re=null,J=_;do{var Ce=J.lane,Te=J.eventTime;if((m&Ce)===Ce){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var Re=t,ze=J;switch(Ce=s,Te=c,ze.tag){case 1:if(Re=ze.payload,typeof Re=="function"){Ne=Re.call(Te,Ne,Ce);break e}Ne=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=ze.payload,Ce=typeof Re=="function"?Re.call(Te,Ne,Ce):Re,Ce==null)break e;Ne=Q({},Ne,Ce);break e;case 2:Ur=!0}}J.callback!==null&&J.lane!==0&&(t.flags|=64,Ce=b.effects,Ce===null?b.effects=[J]:Ce.push(J))}else Te={eventTime:Te,lane:Ce,tag:J.tag,payload:J.payload,callback:J.callback,next:null},_e===null?(he=_e=Te,re=Ne):_e=_e.next=Te,V|=Ce;if(J=J.next,J===null){if(J=b.shared.pending,J===null)break;Ce=J,J=Ce.next,Ce.next=null,b.lastBaseUpdate=Ce,b.shared.pending=null}}while(!0);if(_e===null&&(re=Ne),b.baseState=re,b.firstBaseUpdate=he,b.lastBaseUpdate=_e,s=b.shared.interleaved,s!==null){b=s;do V|=b.lane,b=b.next;while(b!==s)}else _===null&&(b.shared.lanes=0);ws|=V,t.lanes=V,t.memoizedState=Ne}}function Ch(t,s,c){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var m=t[s],b=m.callback;if(b!==null){if(m.callback=null,m=c,typeof b!="function")throw Error(r(191,b));b.call(m)}}}var ri={},ir=Lr(ri),si=Lr(ri),ai=Lr(ri);function ys(t){if(t===ri)throw Error(r(174));return t}function Ac(t,s){switch(ht(ai,s),ht(si,t),ht(ir,ri),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:qe(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=qe(s,t)}gt(ir),ht(ir,s)}function ua(){gt(ir),gt(si),gt(ai)}function _h(t){ys(ai.current);var s=ys(ir.current),c=qe(s,t.type);s!==c&&(ht(si,t),ht(ir,c))}function Tc(t){si.current===t&&(gt(ir),gt(si))}var kt=Lr(0);function yo(t){for(var s=t;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dc=[];function Pc(){for(var t=0;t<Dc.length;t++)Dc[t]._workInProgressVersionPrimary=null;Dc.length=0}var bo=D.ReactCurrentDispatcher,Mc=D.ReactCurrentBatchConfig,bs=0,Ct=null,Ft=null,Vt=null,wo=!1,ii=!1,oi=0,cv=0;function Jt(){throw Error(r(321))}function Ic(t,s){if(s===null)return!1;for(var c=0;c<s.length&&c<t.length;c++)if(!Gn(t[c],s[c]))return!1;return!0}function Rc(t,s,c,m,b,_){if(bs=_,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,bo.current=t===null||t.memoizedState===null?hv:pv,t=c(m,b),ii){_=0;do{if(ii=!1,oi=0,25<=_)throw Error(r(301));_+=1,Vt=Ft=null,s.updateQueue=null,bo.current=mv,t=c(m,b)}while(ii)}if(bo.current=Co,s=Ft!==null&&Ft.next!==null,bs=0,Vt=Ft=Ct=null,wo=!1,s)throw Error(r(300));return t}function Fc(){var t=oi!==0;return oi=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ct.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function On(){if(Ft===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var s=Vt===null?Ct.memoizedState:Vt.next;if(s!==null)Vt=s,Ft=t;else{if(t===null)throw Error(r(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Vt===null?Ct.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function li(t,s){return typeof s=="function"?s(t):s}function Oc(t){var s=On(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=t;var m=Ft,b=m.baseQueue,_=c.pending;if(_!==null){if(b!==null){var V=b.next;b.next=_.next,_.next=V}m.baseQueue=b=_,c.pending=null}if(b!==null){_=b.next,m=m.baseState;var J=V=null,re=null,he=_;do{var _e=he.lane;if((bs&_e)===_e)re!==null&&(re=re.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),m=he.hasEagerState?he.eagerState:t(m,he.action);else{var Ne={lane:_e,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};re===null?(J=re=Ne,V=m):re=re.next=Ne,Ct.lanes|=_e,ws|=_e}he=he.next}while(he!==null&&he!==_);re===null?V=m:re.next=J,Gn(m,s.memoizedState)||(gn=!0),s.memoizedState=m,s.baseState=V,s.baseQueue=re,c.lastRenderedState=m}if(t=c.interleaved,t!==null){b=t;do _=b.lane,Ct.lanes|=_,ws|=_,b=b.next;while(b!==t)}else b===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function zc(t){var s=On(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=t;var m=c.dispatch,b=c.pending,_=s.memoizedState;if(b!==null){c.pending=null;var V=b=b.next;do _=t(_,V.action),V=V.next;while(V!==b);Gn(_,s.memoizedState)||(gn=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,m]}function Nh(){}function jh(t,s){var c=Ct,m=On(),b=s(),_=!Gn(m.memoizedState,b);if(_&&(m.memoizedState=b,gn=!0),m=m.queue,Lc(Th.bind(null,c,m,t),[t]),m.getSnapshot!==s||_||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,ci(9,Ah.bind(null,c,m,b,s),void 0,null),Ut===null)throw Error(r(349));(bs&30)!==0||Eh(c,s,b)}return b}function Eh(t,s,c){t.flags|=16384,t={getSnapshot:s,value:c},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.stores=[t]):(c=s.stores,c===null?s.stores=[t]:c.push(t))}function Ah(t,s,c,m){s.value=c,s.getSnapshot=m,Dh(s)&&Ph(t)}function Th(t,s,c){return c(function(){Dh(s)&&Ph(t)})}function Dh(t){var s=t.getSnapshot;t=t.value;try{var c=s();return!Gn(t,c)}catch{return!0}}function Ph(t){var s=Sr(t,1);s!==null&&Xn(s,t,1,-1)}function Mh(t){var s=or();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},s.queue=t,t=t.dispatch=fv.bind(null,Ct,t),[s.memoizedState,t]}function ci(t,s,c,m){return t={tag:t,create:s,destroy:c,deps:m,next:null},s=Ct.updateQueue,s===null?(s={lastEffect:null,stores:null},Ct.updateQueue=s,s.lastEffect=t.next=t):(c=s.lastEffect,c===null?s.lastEffect=t.next=t:(m=c.next,c.next=t,t.next=m,s.lastEffect=t)),t}function Ih(){return On().memoizedState}function So(t,s,c,m){var b=or();Ct.flags|=t,b.memoizedState=ci(1|s,c,void 0,m===void 0?null:m)}function ko(t,s,c,m){var b=On();m=m===void 0?null:m;var _=void 0;if(Ft!==null){var V=Ft.memoizedState;if(_=V.destroy,m!==null&&Ic(m,V.deps)){b.memoizedState=ci(s,c,_,m);return}}Ct.flags|=t,b.memoizedState=ci(1|s,c,_,m)}function Rh(t,s){return So(8390656,8,t,s)}function Lc(t,s){return ko(2048,8,t,s)}function Fh(t,s){return ko(4,2,t,s)}function Oh(t,s){return ko(4,4,t,s)}function zh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Lh(t,s,c){return c=c!=null?c.concat([t]):null,ko(4,4,zh.bind(null,s,t),c)}function Bc(){}function Bh(t,s){var c=On();s=s===void 0?null:s;var m=c.memoizedState;return m!==null&&s!==null&&Ic(s,m[1])?m[0]:(c.memoizedState=[t,s],t)}function Vh(t,s){var c=On();s=s===void 0?null:s;var m=c.memoizedState;return m!==null&&s!==null&&Ic(s,m[1])?m[0]:(t=t(),c.memoizedState=[t,s],t)}function Uh(t,s,c){return(bs&21)===0?(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=c):(Gn(c,s)||(c=ye(),Ct.lanes|=c,ws|=c,t.baseState=!0),s)}function uv(t,s){var c=Be;Be=c!==0&&4>c?c:4,t(!0);var m=Mc.transition;Mc.transition={};try{t(!1),s()}finally{Be=c,Mc.transition=m}}function Hh(){return On().memoizedState}function dv(t,s,c){var m=Gr(t);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},Wh(t))$h(s,c);else if(c=wh(t,s,c,m),c!==null){var b=ln();Xn(c,t,m,b),Kh(c,s,m)}}function fv(t,s,c){var m=Gr(t),b={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(Wh(t))$h(s,b);else{var _=t.alternate;if(t.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var V=s.lastRenderedState,J=_(V,c);if(b.hasEagerState=!0,b.eagerState=J,Gn(J,V)){var re=s.interleaved;re===null?(b.next=b,jc(s)):(b.next=re.next,re.next=b),s.interleaved=b;return}}catch{}finally{}c=wh(t,s,b,m),c!==null&&(b=ln(),Xn(c,t,m,b),Kh(c,s,m))}}function Wh(t){var s=t.alternate;return t===Ct||s!==null&&s===Ct}function $h(t,s){ii=wo=!0;var c=t.pending;c===null?s.next=s:(s.next=c.next,c.next=s),t.pending=s}function Kh(t,s,c){if((c&4194240)!==0){var m=s.lanes;m&=t.pendingLanes,c|=m,s.lanes=c,Qe(t,c)}}var Co={readContext:Fn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},hv={readContext:Fn,useCallback:function(t,s){return or().memoizedState=[t,s===void 0?null:s],t},useContext:Fn,useEffect:Rh,useImperativeHandle:function(t,s,c){return c=c!=null?c.concat([t]):null,So(4194308,4,zh.bind(null,s,t),c)},useLayoutEffect:function(t,s){return So(4194308,4,t,s)},useInsertionEffect:function(t,s){return So(4,2,t,s)},useMemo:function(t,s){var c=or();return s=s===void 0?null:s,t=t(),c.memoizedState=[t,s],t},useReducer:function(t,s,c){var m=or();return s=c!==void 0?c(s):s,m.memoizedState=m.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},m.queue=t,t=t.dispatch=dv.bind(null,Ct,t),[m.memoizedState,t]},useRef:function(t){var s=or();return t={current:t},s.memoizedState=t},useState:Mh,useDebugValue:Bc,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=Mh(!1),s=t[0];return t=uv.bind(null,t[1]),or().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,c){var m=Ct,b=or();if(bt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),Ut===null)throw Error(r(349));(bs&30)!==0||Eh(m,s,c)}b.memoizedState=c;var _={value:c,getSnapshot:s};return b.queue=_,Rh(Th.bind(null,m,_,t),[t]),m.flags|=2048,ci(9,Ah.bind(null,m,_,c,s),void 0,null),c},useId:function(){var t=or(),s=Ut.identifierPrefix;if(bt){var c=wr,m=br;c=(m&~(1<<32-Cn(m)-1)).toString(32)+c,s=":"+s+"R"+c,c=oi++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=cv++,s=":"+s+"r"+c.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},pv={readContext:Fn,useCallback:Bh,useContext:Fn,useEffect:Lc,useImperativeHandle:Lh,useInsertionEffect:Fh,useLayoutEffect:Oh,useMemo:Vh,useReducer:Oc,useRef:Ih,useState:function(){return Oc(li)},useDebugValue:Bc,useDeferredValue:function(t){var s=On();return Uh(s,Ft.memoizedState,t)},useTransition:function(){var t=Oc(li)[0],s=On().memoizedState;return[t,s]},useMutableSource:Nh,useSyncExternalStore:jh,useId:Hh,unstable_isNewReconciler:!1},mv={readContext:Fn,useCallback:Bh,useContext:Fn,useEffect:Lc,useImperativeHandle:Lh,useInsertionEffect:Fh,useLayoutEffect:Oh,useMemo:Vh,useReducer:zc,useRef:Ih,useState:function(){return zc(li)},useDebugValue:Bc,useDeferredValue:function(t){var s=On();return Ft===null?s.memoizedState=t:Uh(s,Ft.memoizedState,t)},useTransition:function(){var t=zc(li)[0],s=On().memoizedState;return[t,s]},useMutableSource:Nh,useSyncExternalStore:jh,useId:Hh,unstable_isNewReconciler:!1};function qn(t,s){if(t&&t.defaultProps){s=Q({},s),t=t.defaultProps;for(var c in t)s[c]===void 0&&(s[c]=t[c]);return s}return s}function Vc(t,s,c,m){s=t.memoizedState,c=c(m,s),c=c==null?s:Q({},s,c),t.memoizedState=c,t.lanes===0&&(t.updateQueue.baseState=c)}var _o={isMounted:function(t){return(t=t._reactInternals)?Pn(t)===t:!1},enqueueSetState:function(t,s,c){t=t._reactInternals;var m=ln(),b=Gr(t),_=kr(m,b);_.payload=s,c!=null&&(_.callback=c),s=Hr(t,_,b),s!==null&&(Xn(s,t,b,m),xo(s,t,b))},enqueueReplaceState:function(t,s,c){t=t._reactInternals;var m=ln(),b=Gr(t),_=kr(m,b);_.tag=1,_.payload=s,c!=null&&(_.callback=c),s=Hr(t,_,b),s!==null&&(Xn(s,t,b,m),xo(s,t,b))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var c=ln(),m=Gr(t),b=kr(c,m);b.tag=2,s!=null&&(b.callback=s),s=Hr(t,b,m),s!==null&&(Xn(s,t,m,c),xo(s,t,m))}};function Gh(t,s,c,m,b,_,V){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(m,_,V):s.prototype&&s.prototype.isPureReactComponent?!qa(c,m)||!qa(b,_):!0}function Zh(t,s,c){var m=!1,b=Br,_=s.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(b=mn(s)?ms:Xt.current,m=s.contextTypes,_=(m=m!=null)?ra(t,b):Br),s=new s(c,_),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=_o,t.stateNode=s,s._reactInternals=t,m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=b,t.__reactInternalMemoizedMaskedChildContext=_),s}function qh(t,s,c,m){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==t&&_o.enqueueReplaceState(s,s.state,null)}function Uc(t,s,c,m){var b=t.stateNode;b.props=c,b.state=t.memoizedState,b.refs={},Ec(t);var _=s.contextType;typeof _=="object"&&_!==null?b.context=Fn(_):(_=mn(s)?ms:Xt.current,b.context=ra(t,_)),b.state=t.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Vc(t,s,_,c),b.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(s=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),s!==b.state&&_o.enqueueReplaceState(b,b.state,null),vo(t,c,b,m),b.state=t.memoizedState),typeof b.componentDidMount=="function"&&(t.flags|=4194308)}function da(t,s){try{var c="",m=s;do c+=G(m),m=m.return;while(m);var b=c}catch(_){b=`
Error generating stack: `+_.message+`
`+_.stack}return{value:t,source:s,stack:b,digest:null}}function Hc(t,s,c){return{value:t,source:null,stack:c??null,digest:s??null}}function Wc(t,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function Yh(t,s,c){c=kr(-1,c),c.tag=3,c.payload={element:null};var m=s.value;return c.callback=function(){Po||(Po=!0,au=m),Wc(t,s)},c}function Qh(t,s,c){c=kr(-1,c),c.tag=3;var m=t.type.getDerivedStateFromError;if(typeof m=="function"){var b=s.value;c.payload=function(){return m(b)},c.callback=function(){Wc(t,s)}}var _=t.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Wc(t,s),typeof m!="function"&&($r===null?$r=new Set([this]):$r.add(this));var V=s.stack;this.componentDidCatch(s.value,{componentStack:V!==null?V:""})}),c}function Xh(t,s,c){var m=t.pingCache;if(m===null){m=t.pingCache=new gv;var b=new Set;m.set(s,b)}else b=m.get(s),b===void 0&&(b=new Set,m.set(s,b));b.has(c)||(b.add(c),t=Tv.bind(null,t,s,c),s.then(t,t))}function Jh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function ep(t,s,c,m,b){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=kr(-1,1),s.tag=2,Hr(c,s,1))),c.lanes|=1),t):(t.flags|=65536,t.lanes=b,t)}var xv=D.ReactCurrentOwner,gn=!1;function on(t,s,c,m){s.child=t===null?bh(s,null,c,m):oa(s,t.child,c,m)}function tp(t,s,c,m,b){c=c.render;var _=s.ref;return ca(s,b),m=Rc(t,s,c,m,_,b),c=Fc(),t!==null&&!gn?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~b,Cr(t,s,b)):(bt&&c&&vc(s),s.flags|=1,on(t,s,m,b),s.child)}function np(t,s,c,m,b){if(t===null){var _=c.type;return typeof _=="function"&&!fu(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=_,rp(t,s,_,m,b)):(t=zo(c.type,null,m,s,s.mode,b),t.ref=s.ref,t.return=s,s.child=t)}if(_=t.child,(t.lanes&b)===0){var V=_.memoizedProps;if(c=c.compare,c=c!==null?c:qa,c(V,m)&&t.ref===s.ref)return Cr(t,s,b)}return s.flags|=1,t=qr(_,m),t.ref=s.ref,t.return=s,s.child=t}function rp(t,s,c,m,b){if(t!==null){var _=t.memoizedProps;if(qa(_,m)&&t.ref===s.ref)if(gn=!1,s.pendingProps=m=_,(t.lanes&b)!==0)(t.flags&131072)!==0&&(gn=!0);else return s.lanes=t.lanes,Cr(t,s,b)}return $c(t,s,c,m,b)}function sp(t,s,c){var m=s.pendingProps,b=m.children,_=t!==null?t.memoizedState:null;if(m.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ha,En),En|=c;else{if((c&1073741824)===0)return t=_!==null?_.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,ht(ha,En),En|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:c,ht(ha,En),En|=m}else _!==null?(m=_.baseLanes|c,s.memoizedState=null):m=c,ht(ha,En),En|=m;return on(t,s,b,c),s.child}function ap(t,s){var c=s.ref;(t===null&&c!==null||t!==null&&t.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function $c(t,s,c,m,b){var _=mn(c)?ms:Xt.current;return _=ra(s,_),ca(s,b),c=Rc(t,s,c,m,_,b),m=Fc(),t!==null&&!gn?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~b,Cr(t,s,b)):(bt&&m&&vc(s),s.flags|=1,on(t,s,c,b),s.child)}function ip(t,s,c,m,b){if(mn(c)){var _=!0;lo(s)}else _=!1;if(ca(s,b),s.stateNode===null)jo(t,s),Zh(s,c,m),Uc(s,c,m,b),m=!0;else if(t===null){var V=s.stateNode,J=s.memoizedProps;V.props=J;var re=V.context,he=c.contextType;typeof he=="object"&&he!==null?he=Fn(he):(he=mn(c)?ms:Xt.current,he=ra(s,he));var _e=c.getDerivedStateFromProps,Ne=typeof _e=="function"||typeof V.getSnapshotBeforeUpdate=="function";Ne||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==m||re!==he)&&qh(s,V,m,he),Ur=!1;var Ce=s.memoizedState;V.state=Ce,vo(s,m,V,b),re=s.memoizedState,J!==m||Ce!==re||pn.current||Ur?(typeof _e=="function"&&(Vc(s,c,_e,m),re=s.memoizedState),(J=Ur||Gh(s,c,J,m,Ce,re,he))?(Ne||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(s.flags|=4194308)):(typeof V.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=re),V.props=m,V.state=re,V.context=he,m=J):(typeof V.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{V=s.stateNode,Sh(t,s),J=s.memoizedProps,he=s.type===s.elementType?J:qn(s.type,J),V.props=he,Ne=s.pendingProps,Ce=V.context,re=c.contextType,typeof re=="object"&&re!==null?re=Fn(re):(re=mn(c)?ms:Xt.current,re=ra(s,re));var Te=c.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(J!==Ne||Ce!==re)&&qh(s,V,m,re),Ur=!1,Ce=s.memoizedState,V.state=Ce,vo(s,m,V,b);var Re=s.memoizedState;J!==Ne||Ce!==Re||pn.current||Ur?(typeof Te=="function"&&(Vc(s,c,Te,m),Re=s.memoizedState),(he=Ur||Gh(s,c,he,m,Ce,Re,re)||!1)?(_e||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(m,Re,re),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(m,Re,re)),typeof V.componentDidUpdate=="function"&&(s.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof V.componentDidUpdate!="function"||J===t.memoizedProps&&Ce===t.memoizedState||(s.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===t.memoizedProps&&Ce===t.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=Re),V.props=m,V.state=Re,V.context=re,m=he):(typeof V.componentDidUpdate!="function"||J===t.memoizedProps&&Ce===t.memoizedState||(s.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||J===t.memoizedProps&&Ce===t.memoizedState||(s.flags|=1024),m=!1)}return Kc(t,s,c,m,_,b)}function Kc(t,s,c,m,b,_){ap(t,s);var V=(s.flags&128)!==0;if(!m&&!V)return b&&dh(s,c,!1),Cr(t,s,_);m=s.stateNode,xv.current=s;var J=V&&typeof c.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,t!==null&&V?(s.child=oa(s,t.child,null,_),s.child=oa(s,null,J,_)):on(t,s,J,_),s.memoizedState=m.state,b&&dh(s,c,!0),s.child}function op(t){var s=t.stateNode;s.pendingContext?ch(t,s.pendingContext,s.pendingContext!==s.context):s.context&&ch(t,s.context,!1),Ac(t,s.containerInfo)}function lp(t,s,c,m,b){return ia(),Sc(b),s.flags|=256,on(t,s,c,m),s.child}var Gc={dehydrated:null,treeContext:null,retryLane:0};function Zc(t){return{baseLanes:t,cachePool:null,transitions:null}}function cp(t,s,c){var m=s.pendingProps,b=kt.current,_=!1,V=(s.flags&128)!==0,J;if((J=V)||(J=t!==null&&t.memoizedState===null?!1:(b&2)!==0),J?(_=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(b|=1),ht(kt,b&1),t===null)return wc(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(V=m.children,t=m.fallback,_?(m=s.mode,_=s.child,V={mode:"hidden",children:V},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=V):_=Lo(V,m,0,null),t=_s(t,m,c,null),_.return=s,t.return=s,_.sibling=t,s.child=_,s.child.memoizedState=Zc(c),s.memoizedState=Gc,t):qc(s,V));if(b=t.memoizedState,b!==null&&(J=b.dehydrated,J!==null))return vv(t,s,V,m,J,b,c);if(_){_=m.fallback,V=s.mode,b=t.child,J=b.sibling;var re={mode:"hidden",children:m.children};return(V&1)===0&&s.child!==b?(m=s.child,m.childLanes=0,m.pendingProps=re,s.deletions=null):(m=qr(b,re),m.subtreeFlags=b.subtreeFlags&14680064),J!==null?_=qr(J,_):(_=_s(_,V,c,null),_.flags|=2),_.return=s,m.return=s,m.sibling=_,s.child=m,m=_,_=s.child,V=t.child.memoizedState,V=V===null?Zc(c):{baseLanes:V.baseLanes|c,cachePool:null,transitions:V.transitions},_.memoizedState=V,_.childLanes=t.childLanes&~c,s.memoizedState=Gc,m}return _=t.child,t=_.sibling,m=qr(_,{mode:"visible",children:m.children}),(s.mode&1)===0&&(m.lanes=c),m.return=s,m.sibling=null,t!==null&&(c=s.deletions,c===null?(s.deletions=[t],s.flags|=16):c.push(t)),s.child=m,s.memoizedState=null,m}function qc(t,s){return s=Lo({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function No(t,s,c,m){return m!==null&&Sc(m),oa(s,t.child,null,c),t=qc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function vv(t,s,c,m,b,_,V){if(c)return s.flags&256?(s.flags&=-257,m=Hc(Error(r(422))),No(t,s,V,m)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(_=m.fallback,b=s.mode,m=Lo({mode:"visible",children:m.children},b,0,null),_=_s(_,b,V,null),_.flags|=2,m.return=s,_.return=s,m.sibling=_,s.child=m,(s.mode&1)!==0&&oa(s,t.child,null,V),s.child.memoizedState=Zc(V),s.memoizedState=Gc,_);if((s.mode&1)===0)return No(t,s,V,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var J=m.dgst;return m=J,_=Error(r(419)),m=Hc(_,m,void 0),No(t,s,V,m)}if(J=(V&t.childLanes)!==0,gn||J){if(m=Ut,m!==null){switch(V&-V){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(m.suspendedLanes|V))!==0?0:b,b!==0&&b!==_.retryLane&&(_.retryLane=b,Sr(t,b),Xn(m,t,b,-1))}return du(),m=Hc(Error(r(421))),No(t,s,V,m)}return b.data==="$?"?(s.flags|=128,s.child=t.child,s=Dv.bind(null,t),b._reactRetry=s,null):(t=_.treeContext,jn=zr(b.nextSibling),Nn=s,bt=!0,Zn=null,t!==null&&(In[Rn++]=br,In[Rn++]=wr,In[Rn++]=gs,br=t.id,wr=t.overflow,gs=s),s=qc(s,m.children),s.flags|=4096,s)}function up(t,s,c){t.lanes|=s;var m=t.alternate;m!==null&&(m.lanes|=s),Nc(t.return,s,c)}function Yc(t,s,c,m,b){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:b}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=c,_.tailMode=b)}function dp(t,s,c){var m=s.pendingProps,b=m.revealOrder,_=m.tail;if(on(t,s,m.children,c),m=kt.current,(m&2)!==0)m=m&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&up(t,c,s);else if(t.tag===19)up(t,c,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}m&=1}if(ht(kt,m),(s.mode&1)===0)s.memoizedState=null;else switch(b){case"forwards":for(c=s.child,b=null;c!==null;)t=c.alternate,t!==null&&yo(t)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),Yc(s,!1,b,c,_);break;case"backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(t=b.alternate,t!==null&&yo(t)===null){s.child=b;break}t=b.sibling,b.sibling=c,c=b,b=t}Yc(s,!0,c,null,_);break;case"together":Yc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function jo(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Cr(t,s,c){if(t!==null&&(s.dependencies=t.dependencies),ws|=s.lanes,(c&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,c=qr(t,t.pendingProps),s.child=c,c.return=s;t.sibling!==null;)t=t.sibling,c=c.sibling=qr(t,t.pendingProps),c.return=s;c.sibling=null}return s.child}function yv(t,s,c){switch(s.tag){case 3:op(s),ia();break;case 5:_h(s);break;case 1:mn(s.type)&&lo(s);break;case 4:Ac(s,s.stateNode.containerInfo);break;case 10:var m=s.type._context,b=s.memoizedProps.value;ht(mo,m._currentValue),m._currentValue=b;break;case 13:if(m=s.memoizedState,m!==null)return m.dehydrated!==null?(ht(kt,kt.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?cp(t,s,c):(ht(kt,kt.current&1),t=Cr(t,s,c),t!==null?t.sibling:null);ht(kt,kt.current&1);break;case 19:if(m=(c&s.childLanes)!==0,(t.flags&128)!==0){if(m)return dp(t,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ht(kt,kt.current),m)break;return null;case 22:case 23:return s.lanes=0,sp(t,s,c)}return Cr(t,s,c)}var fp,Qc,hp,pp;fp=function(t,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Qc=function(){},hp=function(t,s,c,m){var b=t.memoizedProps;if(b!==m){t=s.stateNode,ys(ir.current);var _=null;switch(c){case"input":b=R(t,b),m=R(t,m),_=[];break;case"select":b=Q({},b,{value:void 0}),m=Q({},m,{value:void 0}),_=[];break;case"textarea":b=ie(t,b),m=ie(t,m),_=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(t.onclick=ao)}Mt(c,m);var V;c=null;for(he in b)if(!m.hasOwnProperty(he)&&b.hasOwnProperty(he)&&b[he]!=null)if(he==="style"){var J=b[he];for(V in J)J.hasOwnProperty(V)&&(c||(c={}),c[V]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?_||(_=[]):(_=_||[]).push(he,null));for(he in m){var re=m[he];if(J=b?.[he],m.hasOwnProperty(he)&&re!==J&&(re!=null||J!=null))if(he==="style")if(J){for(V in J)!J.hasOwnProperty(V)||re&&re.hasOwnProperty(V)||(c||(c={}),c[V]="");for(V in re)re.hasOwnProperty(V)&&J[V]!==re[V]&&(c||(c={}),c[V]=re[V])}else c||(_||(_=[]),_.push(he,c)),c=re;else he==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,J=J?J.__html:void 0,re!=null&&J!==re&&(_=_||[]).push(he,re)):he==="children"?typeof re!="string"&&typeof re!="number"||(_=_||[]).push(he,""+re):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(re!=null&&he==="onScroll"&&mt("scroll",t),_||J===re||(_=[])):(_=_||[]).push(he,re))}c&&(_=_||[]).push("style",c);var he=_;(s.updateQueue=he)&&(s.flags|=4)}},pp=function(t,s,c,m){c!==m&&(s.flags|=4)};function ui(t,s){if(!bt)switch(t.tailMode){case"hidden":s=t.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?t.tail=null:c.sibling=null;break;case"collapsed":c=t.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:m.sibling=null}}function en(t){var s=t.alternate!==null&&t.alternate.child===t.child,c=0,m=0;if(s)for(var b=t.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=t,b=b.sibling;else for(b=t.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=t,b=b.sibling;return t.subtreeFlags|=m,t.childLanes=c,s}function bv(t,s,c){var m=s.pendingProps;switch(yc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return mn(s.type)&&oo(),en(s),null;case 3:return m=s.stateNode,ua(),gt(pn),gt(Xt),Pc(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(t===null||t.child===null)&&(ho(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zn!==null&&(lu(Zn),Zn=null))),Qc(t,s),en(s),null;case 5:Tc(s);var b=ys(ai.current);if(c=s.type,t!==null&&s.stateNode!=null)hp(t,s,c,m,b),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(r(166));return en(s),null}if(t=ys(ir.current),ho(s)){m=s.stateNode,c=s.type;var _=s.memoizedProps;switch(m[ar]=s,m[ei]=_,t=(s.mode&1)!==0,c){case"dialog":mt("cancel",m),mt("close",m);break;case"iframe":case"object":case"embed":mt("load",m);break;case"video":case"audio":for(b=0;b<Qa.length;b++)mt(Qa[b],m);break;case"source":mt("error",m);break;case"img":case"image":case"link":mt("error",m),mt("load",m);break;case"details":mt("toggle",m);break;case"input":fe(m,_),mt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},mt("invalid",m);break;case"textarea":we(m,_),mt("invalid",m)}Mt(c,_),b=null;for(var V in _)if(_.hasOwnProperty(V)){var J=_[V];V==="children"?typeof J=="string"?m.textContent!==J&&(_.suppressHydrationWarning!==!0&&so(m.textContent,J,t),b=["children",J]):typeof J=="number"&&m.textContent!==""+J&&(_.suppressHydrationWarning!==!0&&so(m.textContent,J,t),b=["children",""+J]):i.hasOwnProperty(V)&&J!=null&&V==="onScroll"&&mt("scroll",m)}switch(c){case"input":Pe(m),q(m,_,!0);break;case"textarea":Pe(m),Se(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=ao)}m=b,s.updateQueue=m,m!==null&&(s.flags|=4)}else{V=b.nodeType===9?b:b.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Me(c)),t==="http://www.w3.org/1999/xhtml"?c==="script"?(t=V.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof m.is=="string"?t=V.createElement(c,{is:m.is}):(t=V.createElement(c),c==="select"&&(V=t,m.multiple?V.multiple=!0:m.size&&(V.size=m.size))):t=V.createElementNS(t,c),t[ar]=s,t[ei]=m,fp(t,s,!1,!1),s.stateNode=t;e:{switch(V=sr(c,m),c){case"dialog":mt("cancel",t),mt("close",t),b=m;break;case"iframe":case"object":case"embed":mt("load",t),b=m;break;case"video":case"audio":for(b=0;b<Qa.length;b++)mt(Qa[b],t);b=m;break;case"source":mt("error",t),b=m;break;case"img":case"image":case"link":mt("error",t),mt("load",t),b=m;break;case"details":mt("toggle",t),b=m;break;case"input":fe(t,m),b=R(t,m),mt("invalid",t);break;case"option":b=m;break;case"select":t._wrapperState={wasMultiple:!!m.multiple},b=Q({},m,{value:void 0}),mt("invalid",t);break;case"textarea":we(t,m),b=ie(t,m),mt("invalid",t);break;default:b=m}Mt(c,b),J=b;for(_ in J)if(J.hasOwnProperty(_)){var re=J[_];_==="style"?xt(t,re):_==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&ut(t,re)):_==="children"?typeof re=="string"?(c!=="textarea"||re!=="")&&rt(t,re):typeof re=="number"&&rt(t,""+re):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?re!=null&&_==="onScroll"&&mt("scroll",t):re!=null&&T(t,_,re,V))}switch(c){case"input":Pe(t),q(t,m,!1);break;case"textarea":Pe(t),Se(t);break;case"option":m.value!=null&&t.setAttribute("value",""+oe(m.value));break;case"select":t.multiple=!!m.multiple,_=m.value,_!=null?pe(t,!!m.multiple,_,!1):m.defaultValue!=null&&pe(t,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(t.onclick=ao)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return en(s),null;case 6:if(t&&s.stateNode!=null)pp(t,s,t.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(r(166));if(c=ys(ai.current),ys(ir.current),ho(s)){if(m=s.stateNode,c=s.memoizedProps,m[ar]=s,(_=m.nodeValue!==c)&&(t=Nn,t!==null))switch(t.tag){case 3:so(m.nodeValue,c,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&so(m.nodeValue,c,(t.mode&1)!==0)}_&&(s.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[ar]=s,s.stateNode=m}return en(s),null;case 13:if(gt(kt),m=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&jn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)xh(),ia(),s.flags|=98560,_=!1;else if(_=ho(s),m!==null&&m.dehydrated!==null){if(t===null){if(!_)throw Error(r(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[ar]=s}else ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),_=!1}else Zn!==null&&(lu(Zn),Zn=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(m=m!==null,m!==(t!==null&&t.memoizedState!==null)&&m&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(kt.current&1)!==0?Ot===0&&(Ot=3):du())),s.updateQueue!==null&&(s.flags|=4),en(s),null);case 4:return ua(),Qc(t,s),t===null&&Xa(s.stateNode.containerInfo),en(s),null;case 10:return _c(s.type._context),en(s),null;case 17:return mn(s.type)&&oo(),en(s),null;case 19:if(gt(kt),_=s.memoizedState,_===null)return en(s),null;if(m=(s.flags&128)!==0,V=_.rendering,V===null)if(m)ui(_,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(V=yo(t),V!==null){for(s.flags|=128,ui(_,!1),m=V.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),s.subtreeFlags=0,m=c,c=s.child;c!==null;)_=c,t=m,_.flags&=14680066,V=_.alternate,V===null?(_.childLanes=0,_.lanes=t,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=V.childLanes,_.lanes=V.lanes,_.child=V.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=V.memoizedProps,_.memoizedState=V.memoizedState,_.updateQueue=V.updateQueue,_.type=V.type,t=V.dependencies,_.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),c=c.sibling;return ht(kt,kt.current&1|2),s.child}t=t.sibling}_.tail!==null&&yt()>pa&&(s.flags|=128,m=!0,ui(_,!1),s.lanes=4194304)}else{if(!m)if(t=yo(V),t!==null){if(s.flags|=128,m=!0,c=t.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),ui(_,!0),_.tail===null&&_.tailMode==="hidden"&&!V.alternate&&!bt)return en(s),null}else 2*yt()-_.renderingStartTime>pa&&c!==1073741824&&(s.flags|=128,m=!0,ui(_,!1),s.lanes=4194304);_.isBackwards?(V.sibling=s.child,s.child=V):(c=_.last,c!==null?c.sibling=V:s.child=V,_.last=V)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=yt(),s.sibling=null,c=kt.current,ht(kt,m?c&1|2:c&1),s):(en(s),null);case 22:case 23:return uu(),m=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==m&&(s.flags|=8192),m&&(s.mode&1)!==0?(En&1073741824)!==0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function wv(t,s){switch(yc(s),s.tag){case 1:return mn(s.type)&&oo(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ua(),gt(pn),gt(Xt),Pc(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return Tc(s),null;case 13:if(gt(kt),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ia()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return gt(kt),null;case 4:return ua(),null;case 10:return _c(s.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Eo=!1,tn=!1,Sv=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function fa(t,s){var c=t.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){jt(t,s,m)}else c.current=null}function Xc(t,s,c){try{c()}catch(m){jt(t,s,m)}}var mp=!1;function kv(t,s){if(uc=Gi,t=Gf(),nc(t)){if("selectionStart"in t)var c={start:t.selectionStart,end:t.selectionEnd};else e:{c=(c=t.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var b=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var V=0,J=-1,re=-1,he=0,_e=0,Ne=t,Ce=null;t:for(;;){for(var Te;Ne!==c||b!==0&&Ne.nodeType!==3||(J=V+b),Ne!==_||m!==0&&Ne.nodeType!==3||(re=V+m),Ne.nodeType===3&&(V+=Ne.nodeValue.length),(Te=Ne.firstChild)!==null;)Ce=Ne,Ne=Te;for(;;){if(Ne===t)break t;if(Ce===c&&++he===b&&(J=V),Ce===_&&++_e===m&&(re=V),(Te=Ne.nextSibling)!==null)break;Ne=Ce,Ce=Ne.parentNode}Ne=Te}c=J===-1||re===-1?null:{start:J,end:re}}else c=null}c=c||{start:0,end:0}}else c=null;for(dc={focusedElem:t,selectionRange:c},Gi=!1,Ie=s;Ie!==null;)if(s=Ie,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ie=t;else for(;Ie!==null;){s=Ie;try{var Re=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var ze=Re.memoizedProps,At=Re.memoizedState,le=s.stateNode,ae=le.getSnapshotBeforeUpdate(s.elementType===s.type?ze:qn(s.type,ze),At);le.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var de=s.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ee){jt(s,s.return,Ee)}if(t=s.sibling,t!==null){t.return=s.return,Ie=t;break}Ie=s.return}return Re=mp,mp=!1,Re}function di(t,s,c){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&t)===t){var _=b.destroy;b.destroy=void 0,_!==void 0&&Xc(s,c,_)}b=b.next}while(b!==m)}}function Ao(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&t)===t){var m=c.create;c.destroy=m()}c=c.next}while(c!==s)}}function Jc(t){var s=t.ref;if(s!==null){var c=t.stateNode;switch(t.tag){case 5:t=c;break;default:t=c}typeof s=="function"?s(t):s.current=t}}function gp(t){var s=t.alternate;s!==null&&(t.alternate=null,gp(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[ar],delete s[ei],delete s[mc],delete s[av],delete s[iv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function xp(t){return t.tag===5||t.tag===3||t.tag===4}function vp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||xp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eu(t,s,c){var m=t.tag;if(m===5||m===6)t=t.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(t,s):c.insertBefore(t,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(t,c)):(s=c,s.appendChild(t)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=ao));else if(m!==4&&(t=t.child,t!==null))for(eu(t,s,c),t=t.sibling;t!==null;)eu(t,s,c),t=t.sibling}function tu(t,s,c){var m=t.tag;if(m===5||m===6)t=t.stateNode,s?c.insertBefore(t,s):c.appendChild(t);else if(m!==4&&(t=t.child,t!==null))for(tu(t,s,c),t=t.sibling;t!==null;)tu(t,s,c),t=t.sibling}var Gt=null,Yn=!1;function Wr(t,s,c){for(c=c.child;c!==null;)yp(t,s,c),c=c.sibling}function yp(t,s,c){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Us,c)}catch{}switch(c.tag){case 5:tn||fa(c,s);case 6:var m=Gt,b=Yn;Gt=null,Wr(t,s,c),Gt=m,Yn=b,Gt!==null&&(Yn?(t=Gt,c=c.stateNode,t.nodeType===8?t.parentNode.removeChild(c):t.removeChild(c)):Gt.removeChild(c.stateNode));break;case 18:Gt!==null&&(Yn?(t=Gt,c=c.stateNode,t.nodeType===8?pc(t.parentNode,c):t.nodeType===1&&pc(t,c),Ha(t)):pc(Gt,c.stateNode));break;case 4:m=Gt,b=Yn,Gt=c.stateNode.containerInfo,Yn=!0,Wr(t,s,c),Gt=m,Yn=b;break;case 0:case 11:case 14:case 15:if(!tn&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var _=b,V=_.destroy;_=_.tag,V!==void 0&&((_&2)!==0||(_&4)!==0)&&Xc(c,s,V),b=b.next}while(b!==m)}Wr(t,s,c);break;case 1:if(!tn&&(fa(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(J){jt(c,s,J)}Wr(t,s,c);break;case 21:Wr(t,s,c);break;case 22:c.mode&1?(tn=(m=tn)||c.memoizedState!==null,Wr(t,s,c),tn=m):Wr(t,s,c);break;default:Wr(t,s,c)}}function bp(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var c=t.stateNode;c===null&&(c=t.stateNode=new Sv),s.forEach(function(m){var b=Pv.bind(null,t,m);c.has(m)||(c.add(m),m.then(b,b))})}}function Qn(t,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];try{var _=t,V=s,J=V;e:for(;J!==null;){switch(J.tag){case 5:Gt=J.stateNode,Yn=!1;break e;case 3:Gt=J.stateNode.containerInfo,Yn=!0;break e;case 4:Gt=J.stateNode.containerInfo,Yn=!0;break e}J=J.return}if(Gt===null)throw Error(r(160));yp(_,V,b),Gt=null,Yn=!1;var re=b.alternate;re!==null&&(re.return=null),b.return=null}catch(he){jt(b,s,he)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)wp(s,t),s=s.sibling}function wp(t,s){var c=t.alternate,m=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(s,t),lr(t),m&4){try{di(3,t,t.return),Ao(3,t)}catch(ze){jt(t,t.return,ze)}try{di(5,t,t.return)}catch(ze){jt(t,t.return,ze)}}break;case 1:Qn(s,t),lr(t),m&512&&c!==null&&fa(c,c.return);break;case 5:if(Qn(s,t),lr(t),m&512&&c!==null&&fa(c,c.return),t.flags&32){var b=t.stateNode;try{rt(b,"")}catch(ze){jt(t,t.return,ze)}}if(m&4&&(b=t.stateNode,b!=null)){var _=t.memoizedProps,V=c!==null?c.memoizedProps:_,J=t.type,re=t.updateQueue;if(t.updateQueue=null,re!==null)try{J==="input"&&_.type==="radio"&&_.name!=null&&ce(b,_),sr(J,V);var he=sr(J,_);for(V=0;V<re.length;V+=2){var _e=re[V],Ne=re[V+1];_e==="style"?xt(b,Ne):_e==="dangerouslySetInnerHTML"?ut(b,Ne):_e==="children"?rt(b,Ne):T(b,_e,Ne,he)}switch(J){case"input":Y(b,_);break;case"textarea":ke(b,_);break;case"select":var Ce=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!_.multiple;var Te=_.value;Te!=null?pe(b,!!_.multiple,Te,!1):Ce!==!!_.multiple&&(_.defaultValue!=null?pe(b,!!_.multiple,_.defaultValue,!0):pe(b,!!_.multiple,_.multiple?[]:"",!1))}b[ei]=_}catch(ze){jt(t,t.return,ze)}}break;case 6:if(Qn(s,t),lr(t),m&4){if(t.stateNode===null)throw Error(r(162));b=t.stateNode,_=t.memoizedProps;try{b.nodeValue=_}catch(ze){jt(t,t.return,ze)}}break;case 3:if(Qn(s,t),lr(t),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Ha(s.containerInfo)}catch(ze){jt(t,t.return,ze)}break;case 4:Qn(s,t),lr(t);break;case 13:Qn(s,t),lr(t),b=t.child,b.flags&8192&&(_=b.memoizedState!==null,b.stateNode.isHidden=_,!_||b.alternate!==null&&b.alternate.memoizedState!==null||(su=yt())),m&4&&bp(t);break;case 22:if(_e=c!==null&&c.memoizedState!==null,t.mode&1?(tn=(he=tn)||_e,Qn(s,t),tn=he):Qn(s,t),lr(t),m&8192){if(he=t.memoizedState!==null,(t.stateNode.isHidden=he)&&!_e&&(t.mode&1)!==0)for(Ie=t,_e=t.child;_e!==null;){for(Ne=Ie=_e;Ie!==null;){switch(Ce=Ie,Te=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:di(4,Ce,Ce.return);break;case 1:fa(Ce,Ce.return);var Re=Ce.stateNode;if(typeof Re.componentWillUnmount=="function"){m=Ce,c=Ce.return;try{s=m,Re.props=s.memoizedProps,Re.state=s.memoizedState,Re.componentWillUnmount()}catch(ze){jt(m,c,ze)}}break;case 5:fa(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){Cp(Ne);continue}}Te!==null?(Te.return=Ce,Ie=Te):Cp(Ne)}_e=_e.sibling}e:for(_e=null,Ne=t;;){if(Ne.tag===5){if(_e===null){_e=Ne;try{b=Ne.stateNode,he?(_=b.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(J=Ne.stateNode,re=Ne.memoizedProps.style,V=re!=null&&re.hasOwnProperty("display")?re.display:null,J.style.display=Xe("display",V))}catch(ze){jt(t,t.return,ze)}}}else if(Ne.tag===6){if(_e===null)try{Ne.stateNode.nodeValue=he?"":Ne.memoizedProps}catch(ze){jt(t,t.return,ze)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===t)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===t)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===t)break e;_e===Ne&&(_e=null),Ne=Ne.return}_e===Ne&&(_e=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:Qn(s,t),lr(t),m&4&&bp(t);break;case 21:break;default:Qn(s,t),lr(t)}}function lr(t){var s=t.flags;if(s&2){try{e:{for(var c=t.return;c!==null;){if(xp(c)){var m=c;break e}c=c.return}throw Error(r(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(rt(b,""),m.flags&=-33);var _=vp(t);tu(t,_,b);break;case 3:case 4:var V=m.stateNode.containerInfo,J=vp(t);eu(t,J,V);break;default:throw Error(r(161))}}catch(re){jt(t,t.return,re)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Cv(t,s,c){Ie=t,Sp(t)}function Sp(t,s,c){for(var m=(t.mode&1)!==0;Ie!==null;){var b=Ie,_=b.child;if(b.tag===22&&m){var V=b.memoizedState!==null||Eo;if(!V){var J=b.alternate,re=J!==null&&J.memoizedState!==null||tn;J=Eo;var he=tn;if(Eo=V,(tn=re)&&!he)for(Ie=b;Ie!==null;)V=Ie,re=V.child,V.tag===22&&V.memoizedState!==null?_p(b):re!==null?(re.return=V,Ie=re):_p(b);for(;_!==null;)Ie=_,Sp(_),_=_.sibling;Ie=b,Eo=J,tn=he}kp(t)}else(b.subtreeFlags&8772)!==0&&_!==null?(_.return=b,Ie=_):kp(t)}}function kp(t){for(;Ie!==null;){var s=Ie;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:tn||Ao(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!tn)if(c===null)m.componentDidMount();else{var b=s.elementType===s.type?c.memoizedProps:qn(s.type,c.memoizedProps);m.componentDidUpdate(b,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&Ch(s,_,m);break;case 3:var V=s.updateQueue;if(V!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Ch(s,V,c)}break;case 5:var J=s.stateNode;if(c===null&&s.flags&4){c=J;var re=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&c.focus();break;case"img":re.src&&(c.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var he=s.alternate;if(he!==null){var _e=he.memoizedState;if(_e!==null){var Ne=_e.dehydrated;Ne!==null&&Ha(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}tn||s.flags&512&&Jc(s)}catch(Ce){jt(s,s.return,Ce)}}if(s===t){Ie=null;break}if(c=s.sibling,c!==null){c.return=s.return,Ie=c;break}Ie=s.return}}function Cp(t){for(;Ie!==null;){var s=Ie;if(s===t){Ie=null;break}var c=s.sibling;if(c!==null){c.return=s.return,Ie=c;break}Ie=s.return}}function _p(t){for(;Ie!==null;){var s=Ie;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{Ao(4,s)}catch(re){jt(s,c,re)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var b=s.return;try{m.componentDidMount()}catch(re){jt(s,b,re)}}var _=s.return;try{Jc(s)}catch(re){jt(s,_,re)}break;case 5:var V=s.return;try{Jc(s)}catch(re){jt(s,V,re)}}}catch(re){jt(s,s.return,re)}if(s===t){Ie=null;break}var J=s.sibling;if(J!==null){J.return=s.return,Ie=J;break}Ie=s.return}}var _v=Math.ceil,To=D.ReactCurrentDispatcher,nu=D.ReactCurrentOwner,zn=D.ReactCurrentBatchConfig,at=0,Ut=null,Dt=null,Zt=0,En=0,ha=Lr(0),Ot=0,fi=null,ws=0,Do=0,ru=0,hi=null,xn=null,su=0,pa=1/0,_r=null,Po=!1,au=null,$r=null,Mo=!1,Kr=null,Io=0,pi=0,iu=null,Ro=-1,Fo=0;function ln(){return(at&6)!==0?yt():Ro!==-1?Ro:Ro=yt()}function Gr(t){return(t.mode&1)===0?1:(at&2)!==0&&Zt!==0?Zt&-Zt:lv.transition!==null?(Fo===0&&(Fo=ye()),Fo):(t=Be,t!==0||(t=window.event,t=t===void 0?16:jf(t.type)),t)}function Xn(t,s,c,m){if(50<pi)throw pi=0,iu=null,Error(r(185));Ye(t,c,m),((at&2)===0||t!==Ut)&&(t===Ut&&((at&2)===0&&(Do|=c),Ot===4&&Zr(t,Zt)),vn(t,m),c===1&&at===0&&(s.mode&1)===0&&(pa=yt()+500,co&&Vr()))}function vn(t,s){var c=t.callbackNode;Wl(t,s);var m=$s(t,t===Ut?Zt:0);if(m===0)c!==null&&Ba(c),t.callbackNode=null,t.callbackPriority=0;else if(s=m&-m,t.callbackPriority!==s){if(c!=null&&Ba(c),s===1)t.tag===0?ov(jp.bind(null,t)):fh(jp.bind(null,t)),rv(function(){(at&6)===0&&Vr()}),c=null;else{switch(ct(m)){case 1:c=Va;break;case 4:c=Wi;break;case 16:c=Bs;break;case 536870912:c=xr;break;default:c=Bs}c=Rp(c,Np.bind(null,t))}t.callbackPriority=s,t.callbackNode=c}}function Np(t,s){if(Ro=-1,Fo=0,(at&6)!==0)throw Error(r(327));var c=t.callbackNode;if(ma()&&t.callbackNode!==c)return null;var m=$s(t,t===Ut?Zt:0);if(m===0)return null;if((m&30)!==0||(m&t.expiredLanes)!==0||s)s=Oo(t,m);else{s=m;var b=at;at|=2;var _=Ap();(Ut!==t||Zt!==s)&&(_r=null,pa=yt()+500,ks(t,s));do try{Ev();break}catch(J){Ep(t,J)}while(!0);Cc(),To.current=_,at=b,Dt!==null?s=0:(Ut=null,Zt=0,s=Ot)}if(s!==0){if(s===2&&(b=xe(t),b!==0&&(m=b,s=ou(t,b))),s===1)throw c=fi,ks(t,0),Zr(t,m),vn(t,yt()),c;if(s===6)Zr(t,m);else{if(b=t.current.alternate,(m&30)===0&&!Nv(b)&&(s=Oo(t,m),s===2&&(_=xe(t),_!==0&&(m=_,s=ou(t,_))),s===1))throw c=fi,ks(t,0),Zr(t,m),vn(t,yt()),c;switch(t.finishedWork=b,t.finishedLanes=m,s){case 0:case 1:throw Error(r(345));case 2:Cs(t,xn,_r);break;case 3:if(Zr(t,m),(m&130023424)===m&&(s=su+500-yt(),10<s)){if($s(t,0)!==0)break;if(b=t.suspendedLanes,(b&m)!==m){ln(),t.pingedLanes|=t.suspendedLanes&b;break}t.timeoutHandle=hc(Cs.bind(null,t,xn,_r),s);break}Cs(t,xn,_r);break;case 4:if(Zr(t,m),(m&4194240)===m)break;for(s=t.eventTimes,b=-1;0<m;){var V=31-Cn(m);_=1<<V,V=s[V],V>b&&(b=V),m&=~_}if(m=b,m=yt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*_v(m/1960))-m,10<m){t.timeoutHandle=hc(Cs.bind(null,t,xn,_r),m);break}Cs(t,xn,_r);break;case 5:Cs(t,xn,_r);break;default:throw Error(r(329))}}}return vn(t,yt()),t.callbackNode===c?Np.bind(null,t):null}function ou(t,s){var c=hi;return t.current.memoizedState.isDehydrated&&(ks(t,s).flags|=256),t=Oo(t,s),t!==2&&(s=xn,xn=c,s!==null&&lu(s)),t}function lu(t){xn===null?xn=t:xn.push.apply(xn,t)}function Nv(t){for(var s=t;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var b=c[m],_=b.getSnapshot;b=b.value;try{if(!Gn(_(),b))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zr(t,s){for(s&=~ru,s&=~Do,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var c=31-Cn(s),m=1<<c;t[c]=-1,s&=~m}}function jp(t){if((at&6)!==0)throw Error(r(327));ma();var s=$s(t,0);if((s&1)===0)return vn(t,yt()),null;var c=Oo(t,s);if(t.tag!==0&&c===2){var m=xe(t);m!==0&&(s=m,c=ou(t,m))}if(c===1)throw c=fi,ks(t,0),Zr(t,s),vn(t,yt()),c;if(c===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Cs(t,xn,_r),vn(t,yt()),null}function cu(t,s){var c=at;at|=1;try{return t(s)}finally{at=c,at===0&&(pa=yt()+500,co&&Vr())}}function Ss(t){Kr!==null&&Kr.tag===0&&(at&6)===0&&ma();var s=at;at|=1;var c=zn.transition,m=Be;try{if(zn.transition=null,Be=1,t)return t()}finally{Be=m,zn.transition=c,at=s,(at&6)===0&&Vr()}}function uu(){En=ha.current,gt(ha)}function ks(t,s){t.finishedWork=null,t.finishedLanes=0;var c=t.timeoutHandle;if(c!==-1&&(t.timeoutHandle=-1,nv(c)),Dt!==null)for(c=Dt.return;c!==null;){var m=c;switch(yc(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&oo();break;case 3:ua(),gt(pn),gt(Xt),Pc();break;case 5:Tc(m);break;case 4:ua();break;case 13:gt(kt);break;case 19:gt(kt);break;case 10:_c(m.type._context);break;case 22:case 23:uu()}c=c.return}if(Ut=t,Dt=t=qr(t.current,null),Zt=En=s,Ot=0,fi=null,ru=Do=ws=0,xn=hi=null,vs!==null){for(s=0;s<vs.length;s++)if(c=vs[s],m=c.interleaved,m!==null){c.interleaved=null;var b=m.next,_=c.pending;if(_!==null){var V=_.next;_.next=b,m.next=V}c.pending=m}vs=null}return t}function Ep(t,s){do{var c=Dt;try{if(Cc(),bo.current=Co,wo){for(var m=Ct.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}wo=!1}if(bs=0,Vt=Ft=Ct=null,ii=!1,oi=0,nu.current=null,c===null||c.return===null){Ot=1,fi=s,Dt=null;break}e:{var _=t,V=c.return,J=c,re=s;if(s=Zt,J.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var he=re,_e=J,Ne=_e.tag;if((_e.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var Ce=_e.alternate;Ce?(_e.updateQueue=Ce.updateQueue,_e.memoizedState=Ce.memoizedState,_e.lanes=Ce.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=Jh(V);if(Te!==null){Te.flags&=-257,ep(Te,V,J,_,s),Te.mode&1&&Xh(_,he,s),s=Te,re=he;var Re=s.updateQueue;if(Re===null){var ze=new Set;ze.add(re),s.updateQueue=ze}else Re.add(re);break e}else{if((s&1)===0){Xh(_,he,s),du();break e}re=Error(r(426))}}else if(bt&&J.mode&1){var At=Jh(V);if(At!==null){(At.flags&65536)===0&&(At.flags|=256),ep(At,V,J,_,s),Sc(da(re,J));break e}}_=re=da(re,J),Ot!==4&&(Ot=2),hi===null?hi=[_]:hi.push(_),_=V;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var le=Yh(_,re,s);kh(_,le);break e;case 1:J=re;var ae=_.type,de=_.stateNode;if((_.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&($r===null||!$r.has(de)))){_.flags|=65536,s&=-s,_.lanes|=s;var Ee=Qh(_,J,s);kh(_,Ee);break e}}_=_.return}while(_!==null)}Dp(c)}catch(Le){s=Le,Dt===c&&c!==null&&(Dt=c=c.return);continue}break}while(!0)}function Ap(){var t=To.current;return To.current=Co,t===null?Co:t}function du(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ut===null||(ws&268435455)===0&&(Do&268435455)===0||Zr(Ut,Zt)}function Oo(t,s){var c=at;at|=2;var m=Ap();(Ut!==t||Zt!==s)&&(_r=null,ks(t,s));do try{jv();break}catch(b){Ep(t,b)}while(!0);if(Cc(),at=c,To.current=m,Dt!==null)throw Error(r(261));return Ut=null,Zt=0,Ot}function jv(){for(;Dt!==null;)Tp(Dt)}function Ev(){for(;Dt!==null&&!Kt();)Tp(Dt)}function Tp(t){var s=Ip(t.alternate,t,En);t.memoizedProps=t.pendingProps,s===null?Dp(t):Dt=s,nu.current=null}function Dp(t){var s=t;do{var c=s.alternate;if(t=s.return,(s.flags&32768)===0){if(c=bv(c,s,En),c!==null){Dt=c;return}}else{if(c=wv(c,s),c!==null){c.flags&=32767,Dt=c;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Dt=null;return}}if(s=s.sibling,s!==null){Dt=s;return}Dt=s=t}while(s!==null);Ot===0&&(Ot=5)}function Cs(t,s,c){var m=Be,b=zn.transition;try{zn.transition=null,Be=1,Av(t,s,c,m)}finally{zn.transition=b,Be=m}return null}function Av(t,s,c,m){do ma();while(Kr!==null);if((at&6)!==0)throw Error(r(327));c=t.finishedWork;var b=t.finishedLanes;if(c===null)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var _=c.lanes|c.childLanes;if(Ze(t,_),t===Ut&&(Dt=Ut=null,Zt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Mo||(Mo=!0,Rp(Bs,function(){return ma(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=zn.transition,zn.transition=null;var V=Be;Be=1;var J=at;at|=4,nu.current=null,kv(t,c),wp(c,t),q2(dc),Gi=!!uc,dc=uc=null,t.current=c,Cv(c),Ls(),at=J,Be=V,zn.transition=_}else t.current=c;if(Mo&&(Mo=!1,Kr=t,Io=b),_=t.pendingLanes,_===0&&($r=null),Bl(c.stateNode),vn(t,yt()),s!==null)for(m=t.onRecoverableError,c=0;c<s.length;c++)b=s[c],m(b.value,{componentStack:b.stack,digest:b.digest});if(Po)throw Po=!1,t=au,au=null,t;return(Io&1)!==0&&t.tag!==0&&ma(),_=t.pendingLanes,(_&1)!==0?t===iu?pi++:(pi=0,iu=t):pi=0,Vr(),null}function ma(){if(Kr!==null){var t=ct(Io),s=zn.transition,c=Be;try{if(zn.transition=null,Be=16>t?16:t,Kr===null)var m=!1;else{if(t=Kr,Kr=null,Io=0,(at&6)!==0)throw Error(r(331));var b=at;for(at|=4,Ie=t.current;Ie!==null;){var _=Ie,V=_.child;if((Ie.flags&16)!==0){var J=_.deletions;if(J!==null){for(var re=0;re<J.length;re++){var he=J[re];for(Ie=he;Ie!==null;){var _e=Ie;switch(_e.tag){case 0:case 11:case 15:di(8,_e,_)}var Ne=_e.child;if(Ne!==null)Ne.return=_e,Ie=Ne;else for(;Ie!==null;){_e=Ie;var Ce=_e.sibling,Te=_e.return;if(gp(_e),_e===he){Ie=null;break}if(Ce!==null){Ce.return=Te,Ie=Ce;break}Ie=Te}}}var Re=_.alternate;if(Re!==null){var ze=Re.child;if(ze!==null){Re.child=null;do{var At=ze.sibling;ze.sibling=null,ze=At}while(ze!==null)}}Ie=_}}if((_.subtreeFlags&2064)!==0&&V!==null)V.return=_,Ie=V;else e:for(;Ie!==null;){if(_=Ie,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:di(9,_,_.return)}var le=_.sibling;if(le!==null){le.return=_.return,Ie=le;break e}Ie=_.return}}var ae=t.current;for(Ie=ae;Ie!==null;){V=Ie;var de=V.child;if((V.subtreeFlags&2064)!==0&&de!==null)de.return=V,Ie=de;else e:for(V=ae;Ie!==null;){if(J=Ie,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:Ao(9,J)}}catch(Le){jt(J,J.return,Le)}if(J===V){Ie=null;break e}var Ee=J.sibling;if(Ee!==null){Ee.return=J.return,Ie=Ee;break e}Ie=J.return}}if(at=b,Vr(),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Us,t)}catch{}m=!0}return m}finally{Be=c,zn.transition=s}}return!1}function Pp(t,s,c){s=da(c,s),s=Yh(t,s,1),t=Hr(t,s,1),s=ln(),t!==null&&(Ye(t,1,s),vn(t,s))}function jt(t,s,c){if(t.tag===3)Pp(t,t,c);else for(;s!==null;){if(s.tag===3){Pp(s,t,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&($r===null||!$r.has(m))){t=da(c,t),t=Qh(s,t,1),s=Hr(s,t,1),t=ln(),s!==null&&(Ye(s,1,t),vn(s,t));break}}s=s.return}}function Tv(t,s,c){var m=t.pingCache;m!==null&&m.delete(s),s=ln(),t.pingedLanes|=t.suspendedLanes&c,Ut===t&&(Zt&c)===c&&(Ot===4||Ot===3&&(Zt&130023424)===Zt&&500>yt()-su?ks(t,0):ru|=c),vn(t,s)}function Mp(t,s){s===0&&((t.mode&1)===0?s=1:(s=Ws,Ws<<=1,(Ws&130023424)===0&&(Ws=4194304)));var c=ln();t=Sr(t,s),t!==null&&(Ye(t,s,c),vn(t,c))}function Dv(t){var s=t.memoizedState,c=0;s!==null&&(c=s.retryLane),Mp(t,c)}function Pv(t,s){var c=0;switch(t.tag){case 13:var m=t.stateNode,b=t.memoizedState;b!==null&&(c=b.retryLane);break;case 19:m=t.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(s),Mp(t,c)}var Ip;Ip=function(t,s,c){if(t!==null)if(t.memoizedProps!==s.pendingProps||pn.current)gn=!0;else{if((t.lanes&c)===0&&(s.flags&128)===0)return gn=!1,yv(t,s,c);gn=(t.flags&131072)!==0}else gn=!1,bt&&(s.flags&1048576)!==0&&hh(s,fo,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;jo(t,s),t=s.pendingProps;var b=ra(s,Xt.current);ca(s,c),b=Rc(null,s,m,t,b,c);var _=Fc();return s.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,mn(m)?(_=!0,lo(s)):_=!1,s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Ec(s),b.updater=_o,s.stateNode=b,b._reactInternals=s,Uc(s,m,t,c),s=Kc(null,s,m,!0,_,c)):(s.tag=0,bt&&_&&vc(s),on(null,s,b,c),s=s.child),s;case 16:m=s.elementType;e:{switch(jo(t,s),t=s.pendingProps,b=m._init,m=b(m._payload),s.type=m,b=s.tag=Iv(m),t=qn(m,t),b){case 0:s=$c(null,s,m,t,c);break e;case 1:s=ip(null,s,m,t,c);break e;case 11:s=tp(null,s,m,t,c);break e;case 14:s=np(null,s,m,qn(m.type,t),c);break e}throw Error(r(306,m,""))}return s;case 0:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:qn(m,b),$c(t,s,m,b,c);case 1:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:qn(m,b),ip(t,s,m,b,c);case 3:e:{if(op(s),t===null)throw Error(r(387));m=s.pendingProps,_=s.memoizedState,b=_.element,Sh(t,s),vo(s,m,null,c);var V=s.memoizedState;if(m=V.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){b=da(Error(r(423)),s),s=lp(t,s,m,c,b);break e}else if(m!==b){b=da(Error(r(424)),s),s=lp(t,s,m,c,b);break e}else for(jn=zr(s.stateNode.containerInfo.firstChild),Nn=s,bt=!0,Zn=null,c=bh(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ia(),m===b){s=Cr(t,s,c);break e}on(t,s,m,c)}s=s.child}return s;case 5:return _h(s),t===null&&wc(s),m=s.type,b=s.pendingProps,_=t!==null?t.memoizedProps:null,V=b.children,fc(m,b)?V=null:_!==null&&fc(m,_)&&(s.flags|=32),ap(t,s),on(t,s,V,c),s.child;case 6:return t===null&&wc(s),null;case 13:return cp(t,s,c);case 4:return Ac(s,s.stateNode.containerInfo),m=s.pendingProps,t===null?s.child=oa(s,null,m,c):on(t,s,m,c),s.child;case 11:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:qn(m,b),tp(t,s,m,b,c);case 7:return on(t,s,s.pendingProps,c),s.child;case 8:return on(t,s,s.pendingProps.children,c),s.child;case 12:return on(t,s,s.pendingProps.children,c),s.child;case 10:e:{if(m=s.type._context,b=s.pendingProps,_=s.memoizedProps,V=b.value,ht(mo,m._currentValue),m._currentValue=V,_!==null)if(Gn(_.value,V)){if(_.children===b.children&&!pn.current){s=Cr(t,s,c);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var J=_.dependencies;if(J!==null){V=_.child;for(var re=J.firstContext;re!==null;){if(re.context===m){if(_.tag===1){re=kr(-1,c&-c),re.tag=2;var he=_.updateQueue;if(he!==null){he=he.shared;var _e=he.pending;_e===null?re.next=re:(re.next=_e.next,_e.next=re),he.pending=re}}_.lanes|=c,re=_.alternate,re!==null&&(re.lanes|=c),Nc(_.return,c,s),J.lanes|=c;break}re=re.next}}else if(_.tag===10)V=_.type===s.type?null:_.child;else if(_.tag===18){if(V=_.return,V===null)throw Error(r(341));V.lanes|=c,J=V.alternate,J!==null&&(J.lanes|=c),Nc(V,c,s),V=_.sibling}else V=_.child;if(V!==null)V.return=_;else for(V=_;V!==null;){if(V===s){V=null;break}if(_=V.sibling,_!==null){_.return=V.return,V=_;break}V=V.return}_=V}on(t,s,b.children,c),s=s.child}return s;case 9:return b=s.type,m=s.pendingProps.children,ca(s,c),b=Fn(b),m=m(b),s.flags|=1,on(t,s,m,c),s.child;case 14:return m=s.type,b=qn(m,s.pendingProps),b=qn(m.type,b),np(t,s,m,b,c);case 15:return rp(t,s,s.type,s.pendingProps,c);case 17:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:qn(m,b),jo(t,s),s.tag=1,mn(m)?(t=!0,lo(s)):t=!1,ca(s,c),Zh(s,m,b),Uc(s,m,b,c),Kc(null,s,m,!0,t,c);case 19:return dp(t,s,c);case 22:return sp(t,s,c)}throw Error(r(156,s.tag))};function Rp(t,s){return Hi(t,s)}function Mv(t,s,c,m){this.tag=t,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,s,c,m){return new Mv(t,s,c,m)}function fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Iv(t){if(typeof t=="function")return fu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===E)return 11;if(t===K)return 14}return 2}function qr(t,s){var c=t.alternate;return c===null?(c=Ln(t.tag,s,t.key,t.mode),c.elementType=t.elementType,c.type=t.type,c.stateNode=t.stateNode,c.alternate=t,t.alternate=c):(c.pendingProps=s,c.type=t.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=t.flags&14680064,c.childLanes=t.childLanes,c.lanes=t.lanes,c.child=t.child,c.memoizedProps=t.memoizedProps,c.memoizedState=t.memoizedState,c.updateQueue=t.updateQueue,s=t.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=t.sibling,c.index=t.index,c.ref=t.ref,c}function zo(t,s,c,m,b,_){var V=2;if(m=t,typeof t=="function")fu(t)&&(V=1);else if(typeof t=="string")V=5;else e:switch(t){case z:return _s(c.children,b,_,s);case N:V=8,b|=8;break;case P:return t=Ln(12,c,s,b|2),t.elementType=P,t.lanes=_,t;case L:return t=Ln(13,c,s,b),t.elementType=L,t.lanes=_,t;case S:return t=Ln(19,c,s,b),t.elementType=S,t.lanes=_,t;case I:return Lo(c,b,_,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:V=10;break e;case Z:V=9;break e;case E:V=11;break e;case K:V=14;break e;case U:V=16,m=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return s=Ln(V,c,s,b),s.elementType=t,s.type=m,s.lanes=_,s}function _s(t,s,c,m){return t=Ln(7,t,m,s),t.lanes=c,t}function Lo(t,s,c,m){return t=Ln(22,t,m,s),t.elementType=I,t.lanes=c,t.stateNode={isHidden:!1},t}function hu(t,s,c){return t=Ln(6,t,null,s),t.lanes=c,t}function pu(t,s,c){return s=Ln(4,t.children!==null?t.children:[],t.key,s),s.lanes=c,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Rv(t,s,c,m,b){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function mu(t,s,c,m,b,_,V,J,re){return t=new Rv(t,s,c,J,re),s===1?(s=1,_===!0&&(s|=8)):s=0,_=Ln(3,null,null,s),t.current=_,_.stateNode=t,_.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(_),t}function Fv(t,s,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:m==null?null:""+m,children:t,containerInfo:s,implementation:c}}function Fp(t){if(!t)return Br;t=t._reactInternals;e:{if(Pn(t)!==t||t.tag!==1)throw Error(r(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(t.tag===1){var c=t.type;if(mn(c))return uh(t,c,s)}return s}function Op(t,s,c,m,b,_,V,J,re){return t=mu(c,m,!0,t,b,_,V,J,re),t.context=Fp(null),c=t.current,m=ln(),b=Gr(c),_=kr(m,b),_.callback=s??null,Hr(c,_,b),t.current.lanes=b,Ye(t,b,m),vn(t,m),t}function Bo(t,s,c,m){var b=s.current,_=ln(),V=Gr(b);return c=Fp(c),s.context===null?s.context=c:s.pendingContext=c,s=kr(_,V),s.payload={element:t},m=m===void 0?null:m,m!==null&&(s.callback=m),t=Hr(b,s,V),t!==null&&(Xn(t,b,V,_),xo(t,b,V)),V}function Vo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zp(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var c=t.retryLane;t.retryLane=c!==0&&c<s?c:s}}function gu(t,s){zp(t,s),(t=t.alternate)&&zp(t,s)}function Ov(){return null}var Lp=typeof reportError=="function"?reportError:function(t){console.error(t)};function xu(t){this._internalRoot=t}Uo.prototype.render=xu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));Bo(t,s,null,null)},Uo.prototype.unmount=xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Ss(function(){Bo(null,t,null,null)}),s[vr]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var s=an();t={blockedOn:null,target:t,priority:s};for(var c=0;c<Rt.length&&s!==0&&s<Rt[c].priority;c++);Rt.splice(c,0,t),c===0&&_f(t)}};function vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ho(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bp(){}function zv(t,s,c,m,b){if(b){if(typeof m=="function"){var _=m;m=function(){var he=Vo(V);_.call(he)}}var V=Op(s,m,t,0,null,!1,!1,"",Bp);return t._reactRootContainer=V,t[vr]=V.current,Xa(t.nodeType===8?t.parentNode:t),Ss(),V}for(;b=t.lastChild;)t.removeChild(b);if(typeof m=="function"){var J=m;m=function(){var he=Vo(re);J.call(he)}}var re=mu(t,0,!1,null,null,!1,!1,"",Bp);return t._reactRootContainer=re,t[vr]=re.current,Xa(t.nodeType===8?t.parentNode:t),Ss(function(){Bo(s,re,c,m)}),re}function Wo(t,s,c,m,b){var _=c._reactRootContainer;if(_){var V=_;if(typeof b=="function"){var J=b;b=function(){var re=Vo(V);J.call(re)}}Bo(s,V,t,b)}else V=zv(c,s,t,b,m);return Vo(V)}Tt=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var c=us(s.pendingLanes);c!==0&&(Qe(s,c|1),vn(s,yt()),(at&6)===0&&(pa=yt()+500,Vr()))}break;case 13:Ss(function(){var m=Sr(t,1);if(m!==null){var b=ln();Xn(m,t,1,b)}}),gu(t,1)}},ft=function(t){if(t.tag===13){var s=Sr(t,134217728);if(s!==null){var c=ln();Xn(s,t,134217728,c)}gu(t,134217728)}},st=function(t){if(t.tag===13){var s=Gr(t),c=Sr(t,s);if(c!==null){var m=ln();Xn(c,t,s,m)}gu(t,s)}},an=function(){return Be},Ks=function(t,s){var c=Be;try{return Be=t,s()}finally{Be=c}},$t=function(t,s,c){switch(s){case"input":if(Y(t,c),s=c.name,c.type==="radio"&&s!=null){for(c=t;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==t&&m.form===t.form){var b=io(m);if(!b)throw Error(r(90));Ue(m),Y(m,b)}}}break;case"textarea":ke(t,c);break;case"select":s=c.value,s!=null&&pe(t,!!c.multiple,s,!1)}},ss=cu,dn=Ss;var Lv={usingClientEntryPoint:!1,Events:[ti,ta,io,Dn,pr,cu]},mi={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bv={bundleType:mi.bundleType,version:mi.version,rendererPackageName:mi.rendererPackageName,rendererConfig:mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=La(t),t===null?null:t.stateNode},findFiberByHostInstance:mi.findFiberByHostInstance||Ov,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$o.isDisabled&&$o.supportsFiber)try{Us=$o.inject(Bv),kn=$o}catch{}}return yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lv,yn.createPortal=function(t,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(s))throw Error(r(200));return Fv(t,s,null,c)},yn.createRoot=function(t,s){if(!vu(t))throw Error(r(299));var c=!1,m="",b=Lp;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=mu(t,1,!1,null,null,c,!1,m,b),t[vr]=s.current,Xa(t.nodeType===8?t.parentNode:t),new xu(s)},yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=La(s),t=t===null?null:t.stateNode,t},yn.flushSync=function(t){return Ss(t)},yn.hydrate=function(t,s,c){if(!Ho(s))throw Error(r(200));return Wo(null,t,s,!0,c)},yn.hydrateRoot=function(t,s,c){if(!vu(t))throw Error(r(405));var m=c!=null&&c.hydratedSources||null,b=!1,_="",V=Lp;if(c!=null&&(c.unstable_strictMode===!0&&(b=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(V=c.onRecoverableError)),s=Op(s,null,t,1,c??null,b,!1,_,V),t[vr]=s.current,Xa(t),m)for(t=0;t<m.length;t++)c=m[t],b=c._getVersion,b=b(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,b]:s.mutableSourceEagerHydrationData.push(c,b);return new Uo(s)},yn.render=function(t,s,c){if(!Ho(s))throw Error(r(200));return Wo(null,t,s,!1,c)},yn.unmountComponentAtNode=function(t){if(!Ho(t))throw Error(r(40));return t._reactRootContainer?(Ss(function(){Wo(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1},yn.unstable_batchedUpdates=cu,yn.unstable_renderSubtreeIntoContainer=function(t,s,c,m){if(!Ho(c))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return Wo(t,s,c,!1,m)},yn.version="18.3.1-next-f1338f8080-20240426",yn}var Zp;function Y0(){if(Zp)return wu.exports;Zp=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),wu.exports=Zv(),wu.exports}var qp;function qv(){if(qp)return Go;qp=1;var e=Y0();return Go.createRoot=e.createRoot,Go.hydrateRoot=e.hydrateRoot,Go}var Yv=qv(),A=Ed();const Qv=jl(A),Q0=Uv({__proto__:null,default:Qv},[A]),Ad=A.createContext({});function Td(e){const n=A.useRef(null);return n.current===null&&(n.current=e()),n.current}const Dd=typeof window<"u",X0=Dd?A.useLayoutEffect:A.useEffect,El=A.createContext(null);function Pd(e,n){e.indexOf(n)===-1&&e.push(n)}function Md(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}const Ar=(e,n,r)=>r>n?n:r<e?e:r;let Id=()=>{};const Tr={},J0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function eg(e){return typeof e=="object"&&e!==null}const tg=e=>/^0[^.\s]+$/u.test(e);function Rd(e){let n;return()=>(n===void 0&&(n=e()),n)}const Un=e=>e,Xv=(e,n)=>r=>n(e(r)),Pi=(...e)=>e.reduce(Xv),Ci=(e,n,r)=>{const a=n-e;return a===0?1:(r-e)/a};class Fd{constructor(){this.subscriptions=[]}add(n){return Pd(this.subscriptions,n),()=>Md(this.subscriptions,n)}notify(n,r,a){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](n,r,a);else for(let o=0;o<i;o++){const u=this.subscriptions[o];u&&u(n,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dr=e=>e*1e3,Vn=e=>e/1e3;function ng(e,n){return n?e*(1e3/n):0}const rg=(e,n,r)=>(((1-3*r+3*n)*e+(3*r-6*n))*e+3*n)*e,Jv=1e-7,ey=12;function ty(e,n,r,a,i){let o,u,d=0;do u=n+(r-n)/2,o=rg(u,a,i)-e,o>0?r=u:n=u;while(Math.abs(o)>Jv&&++d<ey);return u}function Mi(e,n,r,a){if(e===n&&r===a)return Un;const i=o=>ty(o,0,1,e,r);return o=>o===0||o===1?o:rg(i(o),n,a)}const sg=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,ag=e=>n=>1-e(1-n),ig=Mi(.33,1.53,.69,.99),Od=ag(ig),og=sg(Od),lg=e=>(e*=2)<1?.5*Od(e):.5*(2-Math.pow(2,-10*(e-1))),zd=e=>1-Math.sin(Math.acos(e)),cg=ag(zd),ug=sg(zd),ny=Mi(.42,0,1,1),ry=Mi(0,0,.58,1),dg=Mi(.42,0,.58,1),sy=e=>Array.isArray(e)&&typeof e[0]!="number",fg=e=>Array.isArray(e)&&typeof e[0]=="number",ay={linear:Un,easeIn:ny,easeInOut:dg,easeOut:ry,circIn:zd,circInOut:ug,circOut:cg,backIn:Od,backInOut:og,backOut:ig,anticipate:lg},iy=e=>typeof e=="string",Yp=e=>{if(fg(e)){Id(e.length===4);const[n,r,a,i]=e;return Mi(n,r,a,i)}else if(iy(e))return ay[e];return e},Zo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oy(e,n){let r=new Set,a=new Set,i=!1,o=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(f){u.has(f)&&(x.schedule(f),e()),f(d)}const x={schedule:(f,p=!1,g=!1)=>{const w=g&&i?r:a;return p&&u.add(f),w.has(f)||w.add(f),f},cancel:f=>{a.delete(f),u.delete(f)},process:f=>{if(d=f,i){o=!0;return}i=!0,[r,a]=[a,r],r.forEach(h),r.clear(),i=!1,o&&(o=!1,x.process(f))}};return x}const ly=40;function hg(e,n){let r=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,u=Zo.reduce((T,D)=>(T[D]=oy(o),T),{}),{setup:d,read:h,resolveKeyframes:x,preUpdate:f,update:p,preRender:g,render:v,postRender:w}=u,y=()=>{const T=Tr.useManualTiming?i.timestamp:performance.now();r=!1,Tr.useManualTiming||(i.delta=a?1e3/60:Math.max(Math.min(T-i.timestamp,ly),1)),i.timestamp=T,i.isProcessing=!0,d.process(i),h.process(i),x.process(i),f.process(i),p.process(i),g.process(i),v.process(i),w.process(i),i.isProcessing=!1,r&&n&&(a=!1,e(y))},C=()=>{r=!0,a=!0,i.isProcessing||e(y)};return{schedule:Zo.reduce((T,D)=>{const M=u[D];return T[D]=(F,z=!1,N=!1)=>(r||C(),M.schedule(F,z,N)),T},{}),cancel:T=>{for(let D=0;D<Zo.length;D++)u[Zo[D]].cancel(T)},state:i,steps:u}}const{schedule:wt,cancel:es,state:qt,steps:Cu}=hg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let il;function cy(){il=void 0}const wn={now:()=>(il===void 0&&wn.set(qt.isProcessing||Tr.useManualTiming?qt.timestamp:performance.now()),il),set:e=>{il=e,queueMicrotask(cy)}},pg=e=>n=>typeof n=="string"&&n.startsWith(e),Ld=pg("--"),uy=pg("var(--"),Bd=e=>uy(e)?dy.test(e.split("/*")[0].trim()):!1,dy=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ma={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_i={...Ma,transform:e=>Ar(0,1,e)},qo={...Ma,default:1},bi=e=>Math.round(e*1e5)/1e5,Vd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fy(e){return e==null}const hy=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ud=(e,n)=>r=>!!(typeof r=="string"&&hy.test(r)&&r.startsWith(e)||n&&!fy(r)&&Object.prototype.hasOwnProperty.call(r,n)),mg=(e,n,r)=>a=>{if(typeof a!="string")return a;const[i,o,u,d]=a.match(Vd);return{[e]:parseFloat(i),[n]:parseFloat(o),[r]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},py=e=>Ar(0,255,e),_u={...Ma,transform:e=>Math.round(py(e))},As={test:Ud("rgb","red"),parse:mg("red","green","blue"),transform:({red:e,green:n,blue:r,alpha:a=1})=>"rgba("+_u.transform(e)+", "+_u.transform(n)+", "+_u.transform(r)+", "+bi(_i.transform(a))+")"};function my(e){let n="",r="",a="",i="";return e.length>5?(n=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),i=e.substring(7,9)):(n=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),i=e.substring(4,5),n+=n,r+=r,a+=a,i+=i),{red:parseInt(n,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const Xu={test:Ud("#"),parse:my,transform:As.transform},Ii=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),Xr=Ii("deg"),fr=Ii("%"),Ke=Ii("px"),gy=Ii("vh"),xy=Ii("vw"),Qp={...fr,parse:e=>fr.parse(e)/100,transform:e=>fr.transform(e*100)},wa={test:Ud("hsl","hue"),parse:mg("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+fr.transform(bi(n))+", "+fr.transform(bi(r))+", "+bi(_i.transform(a))+")"},Pt={test:e=>As.test(e)||Xu.test(e)||wa.test(e),parse:e=>As.test(e)?As.parse(e):wa.test(e)?wa.parse(e):Xu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?As.transform(e):wa.transform(e),getAnimatableNone:e=>{const n=Pt.parse(e);return n.alpha=0,Pt.transform(n)}},vy=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yy(e){return isNaN(e)&&typeof e=="string"&&(e.match(Vd)?.length||0)+(e.match(vy)?.length||0)>0}const gg="number",xg="color",by="var",wy="var(",Xp="${}",Sy=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ni(e){const n=e.toString(),r=[],a={color:[],number:[],var:[]},i=[];let o=0;const d=n.replace(Sy,h=>(Pt.test(h)?(a.color.push(o),i.push(xg),r.push(Pt.parse(h))):h.startsWith(wy)?(a.var.push(o),i.push(by),r.push(h)):(a.number.push(o),i.push(gg),r.push(parseFloat(h))),++o,Xp)).split(Xp);return{values:r,split:d,indexes:a,types:i}}function vg(e){return Ni(e).values}function yg(e){const{split:n,types:r}=Ni(e),a=n.length;return i=>{let o="";for(let u=0;u<a;u++)if(o+=n[u],i[u]!==void 0){const d=r[u];d===gg?o+=bi(i[u]):d===xg?o+=Pt.transform(i[u]):o+=i[u]}return o}}const ky=e=>typeof e=="number"?0:Pt.test(e)?Pt.getAnimatableNone(e):e;function Cy(e){const n=vg(e);return yg(e)(n.map(ky))}const ts={test:yy,parse:vg,createTransformer:yg,getAnimatableNone:Cy};function Nu(e,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(n-e)*6*r:r<1/2?n:r<2/3?e+(n-e)*(2/3-r)*6:e}function _y({hue:e,saturation:n,lightness:r,alpha:a}){e/=360,n/=100,r/=100;let i=0,o=0,u=0;if(!n)i=o=u=r;else{const d=r<.5?r*(1+n):r+n-r*n,h=2*r-d;i=Nu(h,d,e+1/3),o=Nu(h,d,e),u=Nu(h,d,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:a}}function pl(e,n){return r=>r>0?n:e}const _t=(e,n,r)=>e+(n-e)*r,ju=(e,n,r)=>{const a=e*e,i=r*(n*n-a)+a;return i<0?0:Math.sqrt(i)},Ny=[Xu,As,wa],jy=e=>Ny.find(n=>n.test(e));function Jp(e){const n=jy(e);if(!n)return!1;let r=n.parse(e);return n===wa&&(r=_y(r)),r}const em=(e,n)=>{const r=Jp(e),a=Jp(n);if(!r||!a)return pl(e,n);const i={...r};return o=>(i.red=ju(r.red,a.red,o),i.green=ju(r.green,a.green,o),i.blue=ju(r.blue,a.blue,o),i.alpha=_t(r.alpha,a.alpha,o),As.transform(i))},Ju=new Set(["none","hidden"]);function Ey(e,n){return Ju.has(e)?r=>r<=0?e:n:r=>r>=1?n:e}function Ay(e,n){return r=>_t(e,n,r)}function Hd(e){return typeof e=="number"?Ay:typeof e=="string"?Bd(e)?pl:Pt.test(e)?em:Py:Array.isArray(e)?bg:typeof e=="object"?Pt.test(e)?em:Ty:pl}function bg(e,n){const r=[...e],a=r.length,i=e.map((o,u)=>Hd(o)(o,n[u]));return o=>{for(let u=0;u<a;u++)r[u]=i[u](o);return r}}function Ty(e,n){const r={...e,...n},a={};for(const i in r)e[i]!==void 0&&n[i]!==void 0&&(a[i]=Hd(e[i])(e[i],n[i]));return i=>{for(const o in a)r[o]=a[o](i);return r}}function Dy(e,n){const r=[],a={color:0,var:0,number:0};for(let i=0;i<n.values.length;i++){const o=n.types[i],u=e.indexes[o][a[o]],d=e.values[u]??0;r[i]=d,a[o]++}return r}const Py=(e,n)=>{const r=ts.createTransformer(n),a=Ni(e),i=Ni(n);return a.indexes.var.length===i.indexes.var.length&&a.indexes.color.length===i.indexes.color.length&&a.indexes.number.length>=i.indexes.number.length?Ju.has(e)&&!i.values.length||Ju.has(n)&&!a.values.length?Ey(e,n):Pi(bg(Dy(a,i),i.values),r):pl(e,n)};function wg(e,n,r){return typeof e=="number"&&typeof n=="number"&&typeof r=="number"?_t(e,n,r):Hd(e)(e,n)}const My=e=>{const n=({timestamp:r})=>e(r);return{start:(r=!0)=>wt.update(n,r),stop:()=>es(n),now:()=>qt.isProcessing?qt.timestamp:wn.now()}},Sg=(e,n,r=10)=>{let a="";const i=Math.max(Math.round(n/r),2);for(let o=0;o<i;o++)a+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},ml=2e4;function Wd(e){let n=0;const r=50;let a=e.next(n);for(;!a.done&&n<ml;)n+=r,a=e.next(n);return n>=ml?1/0:n}function Iy(e,n=100,r){const a=r({...e,keyframes:[0,n]}),i=Math.min(Wd(a),ml);return{type:"keyframes",ease:o=>a.next(i*o).value/n,duration:Vn(i)}}const Ry=5;function kg(e,n,r){const a=Math.max(n-Ry,0);return ng(r-e(a),n-a)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Eu=.001;function Fy({duration:e=Et.duration,bounce:n=Et.bounce,velocity:r=Et.velocity,mass:a=Et.mass}){let i,o,u=1-n;u=Ar(Et.minDamping,Et.maxDamping,u),e=Ar(Et.minDuration,Et.maxDuration,Vn(e)),u<1?(i=x=>{const f=x*u,p=f*e,g=f-r,v=ed(x,u),w=Math.exp(-p);return Eu-g/v*w},o=x=>{const p=x*u*e,g=p*r+r,v=Math.pow(u,2)*Math.pow(x,2)*e,w=Math.exp(-p),y=ed(Math.pow(x,2),u);return(-i(x)+Eu>0?-1:1)*((g-v)*w)/y}):(i=x=>{const f=Math.exp(-x*e),p=(x-r)*e+1;return-Eu+f*p},o=x=>{const f=Math.exp(-x*e),p=(r-x)*(e*e);return f*p});const d=5/e,h=zy(i,o,d);if(e=dr(e),isNaN(h))return{stiffness:Et.stiffness,damping:Et.damping,duration:e};{const x=Math.pow(h,2)*a;return{stiffness:x,damping:u*2*Math.sqrt(a*x),duration:e}}}const Oy=12;function zy(e,n,r){let a=r;for(let i=1;i<Oy;i++)a=a-e(a)/n(a);return a}function ed(e,n){return e*Math.sqrt(1-n*n)}const Ly=["duration","bounce"],By=["stiffness","damping","mass"];function tm(e,n){return n.some(r=>e[r]!==void 0)}function Vy(e){let n={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...e};if(!tm(e,By)&&tm(e,Ly))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),i=a*a,o=2*Ar(.05,1,1-(e.bounce||0))*Math.sqrt(i);n={...n,mass:Et.mass,stiffness:i,damping:o}}else{const r=Fy(e);n={...n,...r,mass:Et.mass},n.isResolvedFromDuration=!0}return n}function gl(e=Et.visualDuration,n=Et.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:a,restDelta:i}=r;const o=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:x,mass:f,duration:p,velocity:g,isResolvedFromDuration:v}=Vy({...r,velocity:-Vn(r.velocity||0)}),w=g||0,y=x/(2*Math.sqrt(h*f)),C=u-o,k=Vn(Math.sqrt(h/f)),j=Math.abs(C)<5;a||(a=j?Et.restSpeed.granular:Et.restSpeed.default),i||(i=j?Et.restDelta.granular:Et.restDelta.default);let T;if(y<1){const M=ed(k,y);T=F=>{const z=Math.exp(-y*k*F);return u-z*((w+y*k*C)/M*Math.sin(M*F)+C*Math.cos(M*F))}}else if(y===1)T=M=>u-Math.exp(-k*M)*(C+(w+k*C)*M);else{const M=k*Math.sqrt(y*y-1);T=F=>{const z=Math.exp(-y*k*F),N=Math.min(M*F,300);return u-z*((w+y*k*C)*Math.sinh(N)+M*C*Math.cosh(N))/M}}const D={calculatedDuration:v&&p||null,next:M=>{const F=T(M);if(v)d.done=M>=p;else{let z=M===0?w:0;y<1&&(z=M===0?dr(w):kg(T,M,F));const N=Math.abs(z)<=a,P=Math.abs(u-F)<=i;d.done=N&&P}return d.value=d.done?u:F,d},toString:()=>{const M=Math.min(Wd(D),ml),F=Sg(z=>D.next(M*z).value,M,30);return M+"ms "+F},toTransition:()=>{}};return D}gl.applyToOptions=e=>{const n=Iy(e,100,gl);return e.ease=n.ease,e.duration=dr(n.duration),e.type="keyframes",e};function td({keyframes:e,velocity:n=0,power:r=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:u,min:d,max:h,restDelta:x=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},v=N=>d!==void 0&&N<d||h!==void 0&&N>h,w=N=>d===void 0?h:h===void 0||Math.abs(d-N)<Math.abs(h-N)?d:h;let y=r*n;const C=p+y,k=u===void 0?C:u(C);k!==C&&(y=k-p);const j=N=>-y*Math.exp(-N/a),T=N=>k+j(N),D=N=>{const P=j(N),H=T(N);g.done=Math.abs(P)<=x,g.value=g.done?k:H};let M,F;const z=N=>{v(g.value)&&(M=N,F=gl({keyframes:[g.value,w(g.value)],velocity:kg(T,N,g.value),damping:i,stiffness:o,restDelta:x,restSpeed:f}))};return z(0),{calculatedDuration:null,next:N=>{let P=!1;return!F&&M===void 0&&(P=!0,D(N),z(N)),M!==void 0&&N>=M?F.next(N-M):(!P&&D(N),g)}}}function Uy(e,n,r){const a=[],i=r||Tr.mix||wg,o=e.length-1;for(let u=0;u<o;u++){let d=i(e[u],e[u+1]);if(n){const h=Array.isArray(n)?n[u]||Un:n;d=Pi(h,d)}a.push(d)}return a}function Hy(e,n,{clamp:r=!0,ease:a,mixer:i}={}){const o=e.length;if(Id(o===n.length),o===1)return()=>n[0];if(o===2&&n[0]===n[1])return()=>n[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),n=[...n].reverse());const d=Uy(n,a,i),h=d.length,x=f=>{if(u&&f<e[0])return n[0];let p=0;if(h>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=Ci(e[p],e[p+1],f);return d[p](g)};return r?f=>x(Ar(e[0],e[o-1],f)):x}function Wy(e,n){const r=e[e.length-1];for(let a=1;a<=n;a++){const i=Ci(0,n,a);e.push(_t(r,1,i))}}function $y(e){const n=[0];return Wy(n,e.length-1),n}function Ky(e,n){return e.map(r=>r*n)}function Gy(e,n){return e.map(()=>n||dg).splice(0,e.length-1)}function wi({duration:e=300,keyframes:n,times:r,ease:a="easeInOut"}){const i=sy(a)?a.map(Yp):Yp(a),o={done:!1,value:n[0]},u=Ky(r&&r.length===n.length?r:$y(n),e),d=Hy(u,n,{ease:Array.isArray(i)?i:Gy(n,i)});return{calculatedDuration:e,next:h=>(o.value=d(h),o.done=h>=e,o)}}const Zy=e=>e!==null;function $d(e,{repeat:n,repeatType:r="loop"},a,i=1){const o=e.filter(Zy),d=i<0||n&&r!=="loop"&&n%2===1?0:o.length-1;return!d||a===void 0?o[d]:a}const qy={decay:td,inertia:td,tween:wi,keyframes:wi,spring:gl};function Cg(e){typeof e.type=="string"&&(e.type=qy[e.type])}class Kd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,r){return this.finished.then(n,r)}}const Yy=e=>e/100;class Gd extends Kd{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;Cg(n);const{type:r=wi,repeat:a=0,repeatDelay:i=0,repeatType:o,velocity:u=0}=n;let{keyframes:d}=n;const h=r||wi;h!==wi&&typeof d[0]!="number"&&(this.mixKeyframes=Pi(Yy,wg(d[0],d[1])),d=[0,100]);const x=h({...n,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...n,keyframes:[...d].reverse(),velocity:-u})),x.calculatedDuration===null&&(x.calculatedDuration=Wd(x));const{calculatedDuration:f}=x;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(a+1)-i,this.generator=x}updateTime(n){const r=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(n,r=!1){const{generator:a,totalDuration:i,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return a.next(0);const{delay:x=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:v,type:w,onUpdate:y,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-i/this.speed,this.startTime)),r?this.currentTime=n:this.updateTime(n);const k=this.currentTime-x*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,D=a;if(p){const N=Math.min(this.currentTime,i)/d;let P=Math.floor(N),H=N%1;!H&&N>=1&&(H=1),H===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(g==="reverse"?(H=1-H,v&&(H-=v/d)):g==="mirror"&&(D=u)),T=Ar(0,1,H)*d}const M=j?{done:!1,value:f[0]}:D.next(T);o&&(M.value=o(M.value));let{done:F}=M;!j&&h!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return z&&w!==td&&(M.value=$d(f,this.options,C,this.speed)),y&&y(M.value),z&&this.finish(),M}then(n,r){return this.finished.then(n,r)}get duration(){return Vn(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Vn(n)}get time(){return Vn(this.currentTime)}set time(n){n=dr(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(wn.now());const r=this.playbackSpeed!==n;this.playbackSpeed=n,r&&(this.time=Vn(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=My,startTime:r}=this.options;this.driver||(this.driver=n(i=>this.tick(i))),this.options.onPlay?.();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=r??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function Qy(e){for(let n=1;n<e.length;n++)e[n]??(e[n]=e[n-1])}const Ts=e=>e*180/Math.PI,nd=e=>{const n=Ts(Math.atan2(e[1],e[0]));return rd(n)},Xy={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:nd,rotateZ:nd,skewX:e=>Ts(Math.atan(e[1])),skewY:e=>Ts(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rd=e=>(e=e%360,e<0&&(e+=360),e),nm=nd,rm=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),sm=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Jy={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rm,scaleY:sm,scale:e=>(rm(e)+sm(e))/2,rotateX:e=>rd(Ts(Math.atan2(e[6],e[5]))),rotateY:e=>rd(Ts(Math.atan2(-e[2],e[0]))),rotateZ:nm,rotate:nm,skewX:e=>Ts(Math.atan(e[4])),skewY:e=>Ts(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sd(e){return e.includes("scale")?1:0}function ad(e,n){if(!e||e==="none")return sd(n);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(r)a=Jy,i=r;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Xy,i=d}if(!i)return sd(n);const o=a[n],u=i[1].split(",").map(tb);return typeof o=="function"?o(u):u[o]}const eb=(e,n)=>{const{transform:r="none"}=getComputedStyle(e);return ad(r,n)};function tb(e){return parseFloat(e.trim())}const Ia=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ra=new Set(Ia),am=e=>e===Ma||e===Ke,nb=new Set(["x","y","z"]),rb=Ia.filter(e=>!nb.has(e));function sb(e){const n=[];return rb.forEach(r=>{const a=e.getValue(r);a!==void 0&&(n.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),n}const Ps={width:({x:e},{paddingLeft:n="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(n)-parseFloat(r),height:({y:e},{paddingTop:n="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(n)-parseFloat(r),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>ad(n,"x"),y:(e,{transform:n})=>ad(n,"y")};Ps.translateX=Ps.x;Ps.translateY=Ps.y;const Ms=new Set;let id=!1,od=!1,ld=!1;function _g(){if(od){const e=Array.from(Ms).filter(a=>a.needsMeasurement),n=new Set(e.map(a=>a.element)),r=new Map;n.forEach(a=>{const i=sb(a);i.length&&(r.set(a,i),a.render())}),e.forEach(a=>a.measureInitialState()),n.forEach(a=>{a.render();const i=r.get(a);i&&i.forEach(([o,u])=>{a.getValue(o)?.set(u)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}od=!1,id=!1,Ms.forEach(e=>e.complete(ld)),Ms.clear()}function Ng(){Ms.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(od=!0)})}function ab(){ld=!0,Ng(),_g(),ld=!1}class Zd{constructor(n,r,a,i,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=r,this.name=a,this.motionValue=i,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ms.add(this),id||(id=!0,wt.read(Ng),wt.resolveKeyframes(_g))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:r,element:a,motionValue:i}=this;if(n[0]===null){const o=i?.get(),u=n[n.length-1];if(o!==void 0)n[0]=o;else if(a&&r){const d=a.readValue(r,u);d!=null&&(n[0]=d)}n[0]===void 0&&(n[0]=u),i&&o===void 0&&i.set(n[0])}Qy(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),Ms.delete(this)}cancel(){this.state==="scheduled"&&(Ms.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ib=e=>e.startsWith("--");function ob(e,n,r){ib(n)?e.style.setProperty(n,r):e.style[n]=r}const lb=Rd(()=>window.ScrollTimeline!==void 0),cb={};function ub(e,n){const r=Rd(e);return()=>cb[n]??r()}const jg=ub(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yi=([e,n,r,a])=>`cubic-bezier(${e}, ${n}, ${r}, ${a})`,im={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yi([0,.65,.55,1]),circOut:yi([.55,0,1,.45]),backIn:yi([.31,.01,.66,-.59]),backOut:yi([.33,1.53,.69,.99])};function Eg(e,n){if(e)return typeof e=="function"?jg()?Sg(e,n):"ease-out":fg(e)?yi(e):Array.isArray(e)?e.map(r=>Eg(r,n)||im.easeOut):im[e]}function db(e,n,r,{delay:a=0,duration:i=300,repeat:o=0,repeatType:u="loop",ease:d="easeOut",times:h}={},x=void 0){const f={[n]:r};h&&(f.offset=h);const p=Eg(d,i);Array.isArray(p)&&(f.easing=p);const g={delay:a,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return x&&(g.pseudoElement=x),e.animate(f,g)}function Ag(e){return typeof e=="function"&&"applyToOptions"in e}function fb({type:e,...n}){return Ag(e)&&jg()?e.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class hb extends Kd{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:r,name:a,keyframes:i,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=n;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=n,Id(typeof n.type!="string");const x=fb(n);this.animation=db(r,a,i,x,o),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=$d(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(f):ob(r,a,f),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Vn(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+Vn(n)}get time(){return Vn(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=dr(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&lb()?(this.animation.timeline=n,Un):r(this)}}const Tg={anticipate:lg,backInOut:og,circInOut:ug};function pb(e){return e in Tg}function mb(e){typeof e.ease=="string"&&pb(e.ease)&&(e.ease=Tg[e.ease])}const om=10;class gb extends hb{constructor(n){mb(n),Cg(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:r,onUpdate:a,onComplete:i,element:o,...u}=this.options;if(!r)return;if(n!==void 0){r.set(n);return}const d=new Gd({...u,autoplay:!1}),h=dr(this.finishedTime??this.time);r.setWithVelocity(d.sample(h-om).value,d.sample(h).value,om),d.stop()}}const lm=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ts.test(e)||e==="0")&&!e.startsWith("url("));function xb(e){const n=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}function vb(e,n,r,a){const i=e[0];if(i===null)return!1;if(n==="display"||n==="visibility")return!0;const o=e[e.length-1],u=lm(i,n),d=lm(o,n);return!u||!d?!1:xb(e)||(r==="spring"||Ag(r))&&a}function cd(e){e.duration=0,e.type="keyframes"}const yb=new Set(["opacity","clipPath","filter","transform"]),bb=Rd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wb(e){const{motionValue:n,name:r,repeatDelay:a,repeatType:i,damping:o,type:u}=e;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:x}=n.owner.getProps();return bb()&&r&&yb.has(r)&&(r!=="transform"||!x)&&!h&&!a&&i!=="mirror"&&o!==0&&u!=="inertia"}const Sb=40;class kb extends Kd{constructor({autoplay:n=!0,delay:r=0,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:u="loop",keyframes:d,name:h,motionValue:x,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const g={autoplay:n,delay:r,type:a,repeat:i,repeatDelay:o,repeatType:u,name:h,motionValue:x,element:f,...p},v=f?.KeyframeResolver||Zd;this.keyframeResolver=new v(d,(w,y,C)=>this.onKeyframesResolved(w,y,g,!C),h,x,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,r,a,i){this.keyframeResolver=void 0;const{name:o,type:u,velocity:d,delay:h,isHandoff:x,onUpdate:f}=a;this.resolvedAt=wn.now(),vb(n,o,u,d)||((Tr.instantAnimations||!h)&&f?.($d(n,a,r)),n[0]=n[n.length-1],cd(a),a.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Sb?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...a,keyframes:n},v=!x&&wb(g)?new gb({...g,element:g.motionValue.owner.current}):new Gd(g);v.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(n,r){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),ab()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Cb=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _b(e){const n=Cb.exec(e);if(!n)return[,];const[,r,a,i]=n;return[`--${r??a}`,i]}function Dg(e,n,r=1){const[a,i]=_b(e);if(!a)return;const o=window.getComputedStyle(n).getPropertyValue(a);if(o){const u=o.trim();return J0(u)?parseFloat(u):u}return Bd(i)?Dg(i,n,r+1):i}function qd(e,n){return e?.[n]??e?.default??e}const Pg=new Set(["width","height","top","left","right","bottom",...Ia]),Nb={test:e=>e==="auto",parse:e=>e},Mg=e=>n=>n.test(e),Ig=[Ma,Ke,fr,Xr,xy,gy,Nb],cm=e=>Ig.find(Mg(e));function jb(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tg(e):!0}const Eb=new Set(["brightness","contrast","saturate","opacity"]);function Ab(e){const[n,r]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[a]=r.match(Vd)||[];if(!a)return e;const i=r.replace(a,"");let o=Eb.has(n)?1:0;return a!==r&&(o*=100),n+"("+o+i+")"}const Tb=/\b([a-z-]*)\(.*?\)/gu,ud={...ts,getAnimatableNone:e=>{const n=e.match(Tb);return n?n.map(Ab).join(" "):e}},um={...Ma,transform:Math.round},Db={rotate:Xr,rotateX:Xr,rotateY:Xr,rotateZ:Xr,scale:qo,scaleX:qo,scaleY:qo,scaleZ:qo,skew:Xr,skewX:Xr,skewY:Xr,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:_i,originX:Qp,originY:Qp,originZ:Ke},Yd={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke,...Db,zIndex:um,fillOpacity:_i,strokeOpacity:_i,numOctaves:um},Pb={...Yd,color:Pt,backgroundColor:Pt,outlineColor:Pt,fill:Pt,stroke:Pt,borderColor:Pt,borderTopColor:Pt,borderRightColor:Pt,borderBottomColor:Pt,borderLeftColor:Pt,filter:ud,WebkitFilter:ud},Rg=e=>Pb[e];function Fg(e,n){let r=Rg(e);return r!==ud&&(r=ts),r.getAnimatableNone?r.getAnimatableNone(n):void 0}const Mb=new Set(["auto","none","0"]);function Ib(e,n,r){let a=0,i;for(;a<e.length&&!i;){const o=e[a];typeof o=="string"&&!Mb.has(o)&&Ni(o).values.length&&(i=e[a]),a++}if(i&&r)for(const o of n)e[o]=Fg(r,i)}class Rb extends Zd{constructor(n,r,a,i,o){super(n,r,a,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<n.length;h++){let x=n[h];if(typeof x=="string"&&(x=x.trim(),Bd(x))){const f=Dg(x,r.current);f!==void 0&&(n[h]=f),h===n.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!Pg.has(a)||n.length!==2)return;const[i,o]=n,u=cm(i),d=cm(o);if(u!==d)if(am(u)&&am(d))for(let h=0;h<n.length;h++){const x=n[h];typeof x=="string"&&(n[h]=parseFloat(x))}else Ps[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:r}=this,a=[];for(let i=0;i<n.length;i++)(n[i]===null||jb(n[i]))&&a.push(i);a.length&&Ib(n,a,r)}measureInitialState(){const{element:n,unresolvedKeyframes:r,name:a}=this;if(!n||!n.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ps[a](n.measureViewportBox(),window.getComputedStyle(n.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&n.getValue(a,i).jump(i,!1)}measureEndState(){const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,u=a[o];a[o]=Ps[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{n.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function Fb(e,n,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const i=r?.[e]??a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Og=(e,n)=>n&&typeof e=="number"?n.transform(e):e;function zg(e){return eg(e)&&"offsetHeight"in e}const dm=30,Ob=e=>!isNaN(parseFloat(e));class zb{constructor(n,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{const i=wn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=r.owner}setCurrent(n){this.current=n,this.updatedAt=wn.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=Ob(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,r){this.events[n]||(this.events[n]=new Fd);const a=this.events[n].add(r);return n==="change"?()=>{a(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,r){this.passiveEffect=n,this.stopPassiveEffect=r}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-a}jump(n,r=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>dm)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,dm);return ng(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(n){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=n(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ta(e,n){return new zb(e,n)}const{schedule:Qd}=hg(queueMicrotask,!1),tr={x:!1,y:!1};function Lg(){return tr.x||tr.y}function Lb(e){return e==="x"||e==="y"?tr[e]?null:(tr[e]=!0,()=>{tr[e]=!1}):tr.x||tr.y?null:(tr.x=tr.y=!0,()=>{tr.x=tr.y=!1})}function Bg(e,n){const r=Fb(e),a=new AbortController,i={passive:!0,...n,signal:a.signal};return[r,i,()=>a.abort()]}function fm(e){return!(e.pointerType==="touch"||Lg())}function Bb(e,n,r={}){const[a,i,o]=Bg(e,r),u=d=>{if(!fm(d))return;const{target:h}=d,x=n(h,d);if(typeof x!="function"||!h)return;const f=p=>{fm(p)&&(x(p),h.removeEventListener("pointerleave",f))};h.addEventListener("pointerleave",f,i)};return a.forEach(d=>{d.addEventListener("pointerenter",u,i)}),o}const Vg=(e,n)=>n?e===n?!0:Vg(e,n.parentElement):!1,Xd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Vb=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ub(e){return Vb.has(e.tagName)||e.tabIndex!==-1}const ol=new WeakSet;function hm(e){return n=>{n.key==="Enter"&&e(n)}}function Au(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const Hb=(e,n)=>{const r=e.currentTarget;if(!r)return;const a=hm(()=>{if(ol.has(r))return;Au(r,"down");const i=hm(()=>{Au(r,"up")}),o=()=>Au(r,"cancel");r.addEventListener("keyup",i,n),r.addEventListener("blur",o,n)});r.addEventListener("keydown",a,n),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),n)};function pm(e){return Xd(e)&&!Lg()}function Wb(e,n,r={}){const[a,i,o]=Bg(e,r),u=d=>{const h=d.currentTarget;if(!pm(d))return;ol.add(h);const x=n(h,d),f=(v,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),ol.has(h)&&ol.delete(h),pm(v)&&typeof x=="function"&&x(v,{success:w})},p=v=>{f(v,h===window||h===document||r.useGlobalTarget||Vg(h,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return a.forEach(d=>{(r.useGlobalTarget?window:d).addEventListener("pointerdown",u,i),zg(d)&&(d.addEventListener("focus",x=>Hb(x,i)),!Ub(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function Ug(e){return eg(e)&&"ownerSVGElement"in e}function $b(e){return Ug(e)&&e.tagName==="svg"}const rn=e=>!!(e&&e.getVelocity),Kb=[...Ig,Pt,ts],Gb=e=>Kb.find(Mg(e)),Jd=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function mm(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Zb(...e){return n=>{let r=!1;const a=e.map(i=>{const o=mm(i,n);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<a.length;i++){const o=a[i];typeof o=="function"?o():mm(e[i],null)}}}}function qb(...e){return A.useCallback(Zb(...e),e)}class Yb extends A.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const a=r.offsetParent,i=zg(a)&&a.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Qb({children:e,isPresent:n,anchorX:r,root:a}){const i=A.useId(),o=A.useRef(null),u=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=A.useContext(Jd),h=qb(o,e?.ref);return A.useInsertionEffect(()=>{const{width:x,height:f,top:p,left:g,right:v}=u.current;if(n||!o.current||!x||!f)return;const w=r==="left"?`left: ${g}`:`right: ${v}`;o.current.dataset.motionPopId=i;const y=document.createElement("style");d&&(y.nonce=d);const C=a??document.head;return C.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{C.contains(y)&&C.removeChild(y)}},[n]),l.jsx(Yb,{isPresent:n,childRef:o,sizeRef:u,children:A.cloneElement(e,{ref:h})})}const Xb=({children:e,initial:n,isPresent:r,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:u,anchorX:d,root:h})=>{const x=Td(Jb),f=A.useId();let p=!0,g=A.useMemo(()=>(p=!1,{id:f,initial:n,isPresent:r,custom:i,onExitComplete:v=>{x.set(v,!0);for(const w of x.values())if(!w)return;a&&a()},register:v=>(x.set(v,!1),()=>x.delete(v))}),[r,x,a]);return o&&p&&(g={...g}),A.useMemo(()=>{x.forEach((v,w)=>x.set(w,!1))},[r]),A.useEffect(()=>{!r&&!x.size&&a&&a()},[r]),u==="popLayout"&&(e=l.jsx(Qb,{isPresent:r,anchorX:d,root:h,children:e})),l.jsx(El.Provider,{value:g,children:e})};function Jb(){return new Map}function Hg(e=!0){const n=A.useContext(El);if(n===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:i}=n,o=A.useId();A.useEffect(()=>{if(e)return i(o)},[e]);const u=A.useCallback(()=>e&&a&&a(o),[o,a,e]);return!r&&a?[!1,u]:[!0]}const Yo=e=>e.key||"";function gm(e){const n=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&n.push(r)}),n}const nr=({children:e,custom:n,initial:r=!0,onExitComplete:a,presenceAffectsLayout:i=!0,mode:o="sync",propagate:u=!1,anchorX:d="left",root:h})=>{const[x,f]=Hg(u),p=A.useMemo(()=>gm(e),[e]),g=u&&!x?[]:p.map(Yo),v=A.useRef(!0),w=A.useRef(p),y=Td(()=>new Map),[C,k]=A.useState(p),[j,T]=A.useState(p);X0(()=>{v.current=!1,w.current=p;for(let F=0;F<j.length;F++){const z=Yo(j[F]);g.includes(z)?y.delete(z):y.get(z)!==!0&&y.set(z,!1)}},[j,g.length,g.join("-")]);const D=[];if(p!==C){let F=[...p];for(let z=0;z<j.length;z++){const N=j[z],P=Yo(N);g.includes(P)||(F.splice(z,0,N),D.push(N))}return o==="wait"&&D.length&&(F=D),T(gm(F)),k(p),null}const{forceRender:M}=A.useContext(Ad);return l.jsx(l.Fragment,{children:j.map(F=>{const z=Yo(F),N=u&&!x?!1:p===j||g.includes(z),P=()=>{if(y.has(z))y.set(z,!0);else return;let H=!0;y.forEach(Z=>{Z||(H=!1)}),H&&(M?.(),T(w.current),u&&f?.(),a&&a())};return l.jsx(Xb,{isPresent:N,initial:!v.current||r?void 0:!1,custom:n,presenceAffectsLayout:i,mode:o,root:h,onExitComplete:N?void 0:P,anchorX:d,children:F},z)})})},Wg=A.createContext({strict:!1}),xm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const e in xm)Da[e]={isEnabled:n=>xm[e].some(r=>!!n[r])};function ew(e){for(const n in e)Da[n]={...Da[n],...e[n]}}const tw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tw.has(e)}let $g=e=>!xl(e);function nw(e){typeof e=="function"&&($g=n=>n.startsWith("on")?!xl(n):e(n))}try{nw(require("@emotion/is-prop-valid").default)}catch{}function rw(e,n,r){const a={};for(const i in e)i==="values"&&typeof e.values=="object"||($g(i)||r===!0&&xl(i)||!n&&!xl(i)||e.draggable&&i.startsWith("onDrag"))&&(a[i]=e[i]);return a}const Al=A.createContext({});function Tl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ji(e){return typeof e=="string"||Array.isArray(e)}const ef=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tf=["initial",...ef];function Dl(e){return Tl(e.animate)||tf.some(n=>ji(e[n]))}function Kg(e){return!!(Dl(e)||e.variants)}function sw(e,n){if(Dl(e)){const{initial:r,animate:a}=e;return{initial:r===!1||ji(r)?r:void 0,animate:ji(a)?a:void 0}}return e.inherit!==!1?n:{}}function aw(e){const{initial:n,animate:r}=sw(e,A.useContext(Al));return A.useMemo(()=>({initial:n,animate:r}),[vm(n),vm(r)])}function vm(e){return Array.isArray(e)?e.join(" "):e}const Ei={};function iw(e){for(const n in e)Ei[n]=e[n],Ld(n)&&(Ei[n].isCSSVariable=!0)}function Gg(e,{layout:n,layoutId:r}){return Ra.has(e)||e.startsWith("origin")||(n||r!==void 0)&&(!!Ei[e]||e==="opacity")}const ow={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lw=Ia.length;function cw(e,n,r){let a="",i=!0;for(let o=0;o<lw;o++){const u=Ia[o],d=e[u];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(u.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||r){const x=Og(d,Yd[u]);if(!h){i=!1;const f=ow[u]||u;a+=`${f}(${x}) `}r&&(n[u]=x)}}return a=a.trim(),r?a=r(n,i?"":a):i&&(a="none"),a}function nf(e,n,r){const{style:a,vars:i,transformOrigin:o}=e;let u=!1,d=!1;for(const h in n){const x=n[h];if(Ra.has(h)){u=!0;continue}else if(Ld(h)){i[h]=x;continue}else{const f=Og(x,Yd[h]);h.startsWith("origin")?(d=!0,o[h]=f):a[h]=f}}if(n.transform||(u||r?a.transform=cw(n,e.transform,r):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:x="50%",originZ:f=0}=o;a.transformOrigin=`${h} ${x} ${f}`}}const rf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zg(e,n,r){for(const a in n)!rn(n[a])&&!Gg(a,r)&&(e[a]=n[a])}function uw({transformTemplate:e},n){return A.useMemo(()=>{const r=rf();return nf(r,n,e),Object.assign({},r.vars,r.style)},[n])}function dw(e,n){const r=e.style||{},a={};return Zg(a,r,e),Object.assign(a,uw(e,n)),a}function fw(e,n){const r={},a=dw(e,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const hw={offset:"stroke-dashoffset",array:"stroke-dasharray"},pw={offset:"strokeDashoffset",array:"strokeDasharray"};function mw(e,n,r=1,a=0,i=!0){e.pathLength=1;const o=i?hw:pw;e[o.offset]=Ke.transform(-a);const u=Ke.transform(n),d=Ke.transform(r);e[o.array]=`${u} ${d}`}function qg(e,{attrX:n,attrY:r,attrScale:a,pathLength:i,pathSpacing:o=1,pathOffset:u=0,...d},h,x,f){if(nf(e,d,x),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g}=e;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox),n!==void 0&&(p.x=n),r!==void 0&&(p.y=r),a!==void 0&&(p.scale=a),i!==void 0&&mw(p,i,o,u,!1)}const Yg=()=>({...rf(),attrs:{}}),Qg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gw(e,n,r,a){const i=A.useMemo(()=>{const o=Yg();return qg(o,n,Qg(a),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[n]);if(e.style){const o={};Zg(o,e.style,e),i.style={...o,...i.style}}return i}const xw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sf(e){return typeof e!="string"||e.includes("-")?!1:!!(xw.indexOf(e)>-1||/[A-Z]/u.test(e))}function vw(e,n,r,{latestValues:a},i,o=!1){const d=(sf(e)?gw:fw)(n,a,i,e),h=rw(n,typeof e=="string",o),x=e!==A.Fragment?{...h,...d,ref:r}:{},{children:f}=n,p=A.useMemo(()=>rn(f)?f.get():f,[f]);return A.createElement(e,{...x,children:p})}function ym(e){const n=[{},{}];return e?.values.forEach((r,a)=>{n[0][a]=r.get(),n[1][a]=r.getVelocity()}),n}function af(e,n,r,a){if(typeof n=="function"){const[i,o]=ym(a);n=n(r!==void 0?r:e.custom,i,o)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[i,o]=ym(a);n=n(r!==void 0?r:e.custom,i,o)}return n}function ll(e){return rn(e)?e.get():e}function yw({scrapeMotionValuesFromProps:e,createRenderState:n},r,a,i){return{latestValues:bw(r,a,i,e),renderState:n()}}function bw(e,n,r,a){const i={},o=a(e,{});for(const g in o)i[g]=ll(o[g]);let{initial:u,animate:d}=e;const h=Dl(e),x=Kg(e);n&&x&&!h&&e.inherit!==!1&&(u===void 0&&(u=n.initial),d===void 0&&(d=n.animate));let f=r?r.initial===!1:!1;f=f||u===!1;const p=f?d:u;if(p&&typeof p!="boolean"&&!Tl(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const w=af(e,g[v]);if(w){const{transitionEnd:y,transition:C,...k}=w;for(const j in k){let T=k[j];if(Array.isArray(T)){const D=f?T.length-1:0;T=T[D]}T!==null&&(i[j]=T)}for(const j in y)i[j]=y[j]}}}return i}const Xg=e=>(n,r)=>{const a=A.useContext(Al),i=A.useContext(El),o=()=>yw(e,n,a,i);return r?o():Td(o)};function of(e,n,r){const{style:a}=e,i={};for(const o in a)(rn(a[o])||n.style&&rn(n.style[o])||Gg(o,e)||r?.getValue(o)?.liveStyle!==void 0)&&(i[o]=a[o]);return i}const ww=Xg({scrapeMotionValuesFromProps:of,createRenderState:rf});function Jg(e,n,r){const a=of(e,n,r);for(const i in e)if(rn(e[i])||rn(n[i])){const o=Ia.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;a[o]=e[i]}return a}const Sw=Xg({scrapeMotionValuesFromProps:Jg,createRenderState:Yg}),kw=Symbol.for("motionComponentSymbol");function Sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Cw(e,n,r){return A.useCallback(a=>{a&&e.onMount&&e.onMount(a),n&&(a?n.mount(a):n.unmount()),r&&(typeof r=="function"?r(a):Sa(r)&&(r.current=a))},[n])}const lf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_w="framerAppearId",ex="data-"+lf(_w),tx=A.createContext({});function Nw(e,n,r,a,i){const{visualElement:o}=A.useContext(Al),u=A.useContext(Wg),d=A.useContext(El),h=A.useContext(Jd).reducedMotion,x=A.useRef(null);a=a||u.renderer,!x.current&&a&&(x.current=a(e,{visualState:n,parent:o,props:r,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const f=x.current,p=A.useContext(tx);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&jw(x.current,r,i,p);const g=A.useRef(!1);A.useInsertionEffect(()=>{f&&g.current&&f.update(r,d)});const v=r[ex],w=A.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return X0(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),A.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),w.current=!1),f.enteringChildren=void 0)}),f}function jw(e,n,r,a){const{layoutId:i,layout:o,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:x,layoutCrossfade:f}=n;e.projection=new r(e.latestValues,n["data-framer-portal-id"]?void 0:nx(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!u||d&&Sa(d),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:f,layoutScroll:h,layoutRoot:x})}function nx(e){if(e)return e.options.allowProjection!==!1?e.projection:nx(e.parent)}function Tu(e,{forwardMotionProps:n=!1}={},r,a){r&&ew(r);const i=sf(e)?Sw:ww;function o(d,h){let x;const f={...A.useContext(Jd),...d,layoutId:Ew(d)},{isStatic:p}=f,g=aw(d),v=i(d,p);if(!p&&Dd){Aw();const w=Tw(f);x=w.MeasureLayout,g.visualElement=Nw(e,v,f,a,w.ProjectionNode)}return l.jsxs(Al.Provider,{value:g,children:[x&&g.visualElement?l.jsx(x,{visualElement:g.visualElement,...f}):null,vw(e,d,Cw(v,g.visualElement,h),v,p,n)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=A.forwardRef(o);return u[kw]=e,u}function Ew({layoutId:e}){const n=A.useContext(Ad).id;return n&&e!==void 0?n+"-"+e:e}function Aw(e,n){A.useContext(Wg).strict}function Tw(e){const{drag:n,layout:r}=Da;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Dw(e,n){if(typeof Proxy>"u")return Tu;const r=new Map,a=(o,u)=>Tu(o,u,e,n),i=(o,u)=>a(o,u);return new Proxy(i,{get:(o,u)=>u==="create"?a:(r.has(u)||r.set(u,Tu(u,void 0,e,n)),r.get(u))})}function rx({top:e,left:n,right:r,bottom:a}){return{x:{min:n,max:r},y:{min:e,max:a}}}function Pw({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function Mw(e,n){if(!n)return e;const r=n({x:e.left,y:e.top}),a=n({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function Du(e){return e===void 0||e===1}function dd({scale:e,scaleX:n,scaleY:r}){return!Du(e)||!Du(n)||!Du(r)}function Es(e){return dd(e)||sx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sx(e){return bm(e.x)||bm(e.y)}function bm(e){return e&&e!=="0%"}function vl(e,n,r){const a=e-r,i=n*a;return r+i}function wm(e,n,r,a,i){return i!==void 0&&(e=vl(e,i,a)),vl(e,r,a)+n}function fd(e,n=0,r=1,a,i){e.min=wm(e.min,n,r,a,i),e.max=wm(e.max,n,r,a,i)}function ax(e,{x:n,y:r}){fd(e.x,n.translate,n.scale,n.originPoint),fd(e.y,r.translate,r.scale,r.originPoint)}const Sm=.999999999999,km=1.0000000000001;function Iw(e,n,r,a=!1){const i=r.length;if(!i)return;n.x=n.y=1;let o,u;for(let d=0;d<i;d++){o=r[d],u=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ca(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,ax(e,u)),a&&Es(o.latestValues)&&Ca(e,o.latestValues))}n.x<km&&n.x>Sm&&(n.x=1),n.y<km&&n.y>Sm&&(n.y=1)}function ka(e,n){e.min=e.min+n,e.max=e.max+n}function Cm(e,n,r,a,i=.5){const o=_t(e.min,e.max,i);fd(e,n,r,o,a)}function Ca(e,n){Cm(e.x,n.x,n.scaleX,n.scale,n.originX),Cm(e.y,n.y,n.scaleY,n.scale,n.originY)}function ix(e,n){return rx(Mw(e.getBoundingClientRect(),n))}function Rw(e,n,r){const a=ix(e,r),{scroll:i}=n;return i&&(ka(a.x,i.offset.x),ka(a.y,i.offset.y)),a}const _m=()=>({translate:0,scale:1,origin:0,originPoint:0}),_a=()=>({x:_m(),y:_m()}),Nm=()=>({min:0,max:0}),Lt=()=>({x:Nm(),y:Nm()}),hd={current:null},ox={current:!1};function Fw(){if(ox.current=!0,!!Dd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>hd.current=e.matches;e.addEventListener("change",n),n()}else hd.current=!1}const Ow=new WeakMap;function zw(e,n,r){for(const a in n){const i=n[a],o=r[a];if(rn(i))e.addValue(a,i);else if(rn(o))e.addValue(a,Ta(i,{owner:e}));else if(o!==i)if(e.hasValue(a)){const u=e.getValue(a);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=e.getStaticValue(a);e.addValue(a,Ta(u!==void 0?u:i,{owner:e}))}}for(const a in r)n[a]===void 0&&e.removeValue(a);return n}const jm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Lw{scrapeMotionValuesFromProps(n,r,a){return{}}constructor({parent:n,props:r,presenceContext:a,reducedMotionConfig:i,blockInitialAnimation:o,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=wn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,wt.render(this.render,!1,!0))};const{latestValues:h,renderState:x}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=x,this.parent=n,this.props=r,this.presenceContext=a,this.depth=n?n.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Dl(r),this.isVariantNode=Kg(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const v=p[g];h[g]!==void 0&&rn(v)&&v.set(h[g])}}mount(n){this.current=n,Ow.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),ox.current||Fw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hd.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,r){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const a=Ra.has(n);a&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",u=>{this.latestValues[n]=u,this.props.onUpdate&&wt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,n,r)),this.valueSubscriptions.set(n,()=>{i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Da){const r=Da[n];if(!r)continue;const{isEnabled:a,Feature:i}=r;if(!this.features[n]&&i&&a(this.props)&&(this.features[n]=new i(this)),this.features[n]){const o=this.features[n];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,r){this.latestValues[n]=r}update(n,r){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<jm.length;a++){const i=jm[a];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,u=n[o];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=zw(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(n),()=>r.variantChildren.delete(n)}addValue(n,r){const a=this.values.get(n);r!==a&&(a&&this.removeValue(n),this.bindToMotionValue(n,r),this.values.set(n,r),this.latestValues[n]=r.get())}removeValue(n){this.values.delete(n);const r=this.valueSubscriptions.get(n);r&&(r(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,r){if(this.props.values&&this.props.values[n])return this.props.values[n];let a=this.values.get(n);return a===void 0&&r!==void 0&&(a=Ta(r===null?void 0:r,{owner:this}),this.addValue(n,a)),a}readValue(n,r){let a=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return a!=null&&(typeof a=="string"&&(J0(a)||tg(a))?a=parseFloat(a):!Gb(a)&&ts.test(r)&&(a=Fg(n,r)),this.setBaseTarget(n,rn(a)?a.get():a)),rn(a)?a.get():a}setBaseTarget(n,r){this.baseTarget[n]=r}getBaseTarget(n){const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const o=af(this.props,r,this.presenceContext?.custom);o&&(a=o[n])}if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,n);return i!==void 0&&!rn(i)?i:this.initialValues[n]!==void 0&&a===void 0?void 0:this.baseTarget[n]}on(n,r){return this.events[n]||(this.events[n]=new Fd),this.events[n].add(r)}notify(n,...r){this.events[n]&&this.events[n].notify(...r)}scheduleRenderMicrotask(){Qd.render(this.render)}}class lx extends Lw{constructor(){super(...arguments),this.KeyframeResolver=Rb}sortInstanceNodePosition(n,r){return n.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(n,r){return n.style?n.style[r]:void 0}removeValueFromRenderState(n,{vars:r,style:a}){delete r[n],delete a[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;rn(n)&&(this.childSubscription=n.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cx(e,{style:n,vars:r},a,i){const o=e.style;let u;for(u in n)o[u]=n[u];i?.applyProjectionStyles(o,a);for(u in r)o.setProperty(u,r[u])}function Bw(e){return window.getComputedStyle(e)}class Vw extends lx{constructor(){super(...arguments),this.type="html",this.renderInstance=cx}readValueFromInstance(n,r){if(Ra.has(r))return this.projection?.isProjecting?sd(r):eb(n,r);{const a=Bw(n),i=(Ld(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(n,{transformPagePoint:r}){return ix(n,r)}build(n,r,a){nf(n,r,a.transformTemplate)}scrapeMotionValuesFromProps(n,r,a){return of(n,r,a)}}const ux=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Uw(e,n,r,a){cx(e,n,void 0,a);for(const i in n.attrs)e.setAttribute(ux.has(i)?i:lf(i),n.attrs[i])}class Hw extends lx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(n,r){return n[r]}readValueFromInstance(n,r){if(Ra.has(r)){const a=Rg(r);return a&&a.default||0}return r=ux.has(r)?r:lf(r),n.getAttribute(r)}scrapeMotionValuesFromProps(n,r,a){return Jg(n,r,a)}build(n,r,a){qg(n,r,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(n,r,a,i){Uw(n,r,a,i)}mount(n){this.isSVGTag=Qg(n.tagName),super.mount(n)}}const Ww=(e,n)=>sf(e)?new Hw(n):new Vw(n,{allowProjection:e!==A.Fragment});function ja(e,n,r){const a=e.getProps();return af(a,n,r!==void 0?r:a.custom,e)}const pd=e=>Array.isArray(e);function $w(e,n,r){e.hasValue(n)?e.getValue(n).set(r):e.addValue(n,Ta(r))}function Kw(e){return pd(e)?e[e.length-1]||0:e}function Gw(e,n){const r=ja(e,n);let{transitionEnd:a={},transition:i={},...o}=r||{};o={...o,...a};for(const u in o){const d=Kw(o[u]);$w(e,u,d)}}function Zw(e){return!!(rn(e)&&e.add)}function md(e,n){const r=e.getValue("willChange");if(Zw(r))return r.add(n);if(!r&&Tr.WillChange){const a=new Tr.WillChange("auto");e.addValue("willChange",a),a.add(n)}}function dx(e){return e.props[ex]}const qw=e=>e!==null;function Yw(e,{repeat:n,repeatType:r="loop"},a){const i=e.filter(qw),o=n&&r!=="loop"&&n%2===1?0:i.length-1;return i[o]}const Qw={type:"spring",stiffness:500,damping:25,restSpeed:10},Xw=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Jw={type:"keyframes",duration:.8},e3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t3=(e,{keyframes:n})=>n.length>2?Jw:Ra.has(e)?e.startsWith("scale")?Xw(n[1]):Qw:e3;function n3({when:e,delay:n,delayChildren:r,staggerChildren:a,staggerDirection:i,repeat:o,repeatType:u,repeatDelay:d,from:h,elapsed:x,...f}){return!!Object.keys(f).length}const cf=(e,n,r,a={},i,o)=>u=>{const d=qd(a,e)||{},h=d.delay||a.delay||0;let{elapsed:x=0}=a;x=x-dr(h);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:n.getVelocity(),...d,delay:-x,onUpdate:g=>{n.set(g),d.onUpdate&&d.onUpdate(g)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:n,element:o?void 0:i};n3(d)||Object.assign(f,t3(e,f)),f.duration&&(f.duration=dr(f.duration)),f.repeatDelay&&(f.repeatDelay=dr(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(cd(f),f.delay===0&&(p=!0)),(Tr.instantAnimations||Tr.skipAnimations)&&(p=!0,cd(f),f.delay=0),f.allowFlatten=!d.type&&!d.ease,p&&!o&&n.get()!==void 0){const g=Yw(f.keyframes,d);if(g!==void 0){wt.update(()=>{f.onUpdate(g),f.onComplete()});return}}return d.isSync?new Gd(f):new kb(f)};function r3({protectedKeys:e,needsAnimating:n},r){const a=e.hasOwnProperty(r)&&n[r]!==!0;return n[r]=!1,a}function fx(e,n,{delay:r=0,transitionOverride:a,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:u,...d}=n;a&&(o=a);const h=[],x=i&&e.animationState&&e.animationState.getState()[i];for(const f in d){const p=e.getValue(f,e.latestValues[f]??null),g=d[f];if(g===void 0||x&&r3(x,f))continue;const v={delay:r,...qd(o||{},f)},w=p.get();if(w!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===w&&!v.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const k=dx(e);if(k){const j=window.MotionHandoffAnimation(k,f,wt);j!==null&&(v.startTime=j,y=!0)}}md(e,f),p.start(cf(f,p,g,e.shouldReduceMotion&&Pg.has(f)?{type:!1}:v,e,y));const C=p.animation;C&&h.push(C)}return u&&Promise.all(h).then(()=>{wt.update(()=>{u&&Gw(e,u)})}),h}function hx(e,n,r,a=0,i=1){const o=Array.from(e).sort((x,f)=>x.sortNodePosition(f)).indexOf(n),u=e.size,d=(u-1)*a;return typeof r=="function"?r(o,u):i===1?o*a:d-o*a}function gd(e,n,r={}){const a=ja(e,n,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(fx(e,a,r)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:x=0,staggerChildren:f,staggerDirection:p}=i;return s3(e,n,h,x,f,p,r)}:()=>Promise.resolve(),{when:d}=i;if(d){const[h,x]=d==="beforeChildren"?[o,u]:[u,o];return h().then(()=>x())}else return Promise.all([o(),u(r.delay)])}function s3(e,n,r=0,a=0,i=0,o=1,u){const d=[];for(const h of e.variantChildren)h.notify("AnimationStart",n),d.push(gd(h,n,{...u,delay:r+(typeof a=="function"?0:a)+hx(e.variantChildren,h,a,i,o)}).then(()=>h.notify("AnimationComplete",n)));return Promise.all(d)}function a3(e,n,r={}){e.notify("AnimationStart",n);let a;if(Array.isArray(n)){const i=n.map(o=>gd(e,o,r));a=Promise.all(i)}else if(typeof n=="string")a=gd(e,n,r);else{const i=typeof n=="function"?ja(e,n,r.custom):n;a=Promise.all(fx(e,i,r))}return a.then(()=>{e.notify("AnimationComplete",n)})}function px(e,n){if(!Array.isArray(n))return!1;const r=n.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(n[a]!==e[a])return!1;return!0}const i3=tf.length;function mx(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?mx(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const n={};for(let r=0;r<i3;r++){const a=tf[r],i=e.props[a];(ji(i)||i===!1)&&(n[a]=i)}return n}const o3=[...ef].reverse(),l3=ef.length;function c3(e){return n=>Promise.all(n.map(({animation:r,options:a})=>a3(e,r,a)))}function u3(e){let n=c3(e),r=Em(),a=!0;const i=h=>(x,f)=>{const p=ja(e,f,h==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:v,...w}=p;x={...x,...w,...v}}return x};function o(h){n=h(e)}function u(h){const{props:x}=e,f=mx(e.parent)||{},p=[],g=new Set;let v={},w=1/0;for(let C=0;C<l3;C++){const k=o3[C],j=r[k],T=x[k]!==void 0?x[k]:f[k],D=ji(T),M=k===h?j.isActive:null;M===!1&&(w=C);let F=T===f[k]&&T!==x[k]&&D;if(F&&a&&e.manuallyAnimateOnMount&&(F=!1),j.protectedKeys={...v},!j.isActive&&M===null||!T&&!j.prevProp||Tl(T)||typeof T=="boolean")continue;const z=d3(j.prevProp,T);let N=z||k===h&&j.isActive&&!F&&D||C>w&&D,P=!1;const H=Array.isArray(T)?T:[T];let Z=H.reduce(i(k),{});M===!1&&(Z={});const{prevResolvedValues:E={}}=j,L={...E,...Z},S=I=>{N=!0,g.has(I)&&(P=!0,g.delete(I)),j.needsAnimating[I]=!0;const $=e.getValue(I);$&&($.liveStyle=!1)};for(const I in L){const $=Z[I],W=E[I];if(v.hasOwnProperty(I))continue;let Q=!1;pd($)&&pd(W)?Q=!px($,W):Q=$!==W,Q?$!=null?S(I):g.add(I):$!==void 0&&g.has(I)?S(I):j.protectedKeys[I]=!0}j.prevProp=T,j.prevResolvedValues=Z,j.isActive&&(v={...v,...Z}),a&&e.blockInitialAnimation&&(N=!1);const K=F&&z;N&&(!K||P)&&p.push(...H.map(I=>{const $={type:k};if(typeof I=="string"&&a&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:W}=e,Q=ja(W,I);if(W.enteringChildren&&Q){const{delayChildren:O}=Q.transition||{};$.delay=hx(W.enteringChildren,e,O)}}return{animation:I,options:$}}))}if(g.size){const C={};if(typeof x.initial!="boolean"){const k=ja(e,Array.isArray(x.initial)?x.initial[0]:x.initial);k&&k.transition&&(C.transition=k.transition)}g.forEach(k=>{const j=e.getBaseTarget(k),T=e.getValue(k);T&&(T.liveStyle=!0),C[k]=j??null}),p.push({animation:C})}let y=!!p.length;return a&&(x.initial===!1||x.initial===x.animate)&&!e.manuallyAnimateOnMount&&(y=!1),a=!1,y?n(p):Promise.resolve()}function d(h,x){if(r[h].isActive===x)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(h,x)),r[h].isActive=x;const f=u(h);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:u,setActive:d,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Em()}}}function d3(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!px(n,e):!1}function Ns(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Em(){return{animate:Ns(!0),whileInView:Ns(),whileHover:Ns(),whileTap:Ns(),whileDrag:Ns(),whileFocus:Ns(),exit:Ns()}}class rs{constructor(n){this.isMounted=!1,this.node=n}update(){}}class f3 extends rs{constructor(n){super(n),n.animationState||(n.animationState=u3(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Tl(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:r}=this.node.prevProps||{};n!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let h3=0;class p3 extends rs{constructor(){super(...arguments),this.id=h3++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===a)return;const i=this.node.animationState.setActive("exit",!n);r&&!n&&i.then(()=>{r(this.id)})}mount(){const{register:n,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const m3={animation:{Feature:f3},exit:{Feature:p3}};function Ai(e,n,r,a={passive:!0}){return e.addEventListener(n,r,a),()=>e.removeEventListener(n,r)}function Ri(e){return{point:{x:e.pageX,y:e.pageY}}}const g3=e=>n=>Xd(n)&&e(n,Ri(n));function Si(e,n,r,a){return Ai(e,n,g3(r),a)}const gx=1e-4,x3=1-gx,v3=1+gx,xx=.01,y3=0-xx,b3=0+xx;function cn(e){return e.max-e.min}function w3(e,n,r){return Math.abs(e-n)<=r}function Am(e,n,r,a=.5){e.origin=a,e.originPoint=_t(n.min,n.max,e.origin),e.scale=cn(r)/cn(n),e.translate=_t(r.min,r.max,e.origin)-e.originPoint,(e.scale>=x3&&e.scale<=v3||isNaN(e.scale))&&(e.scale=1),(e.translate>=y3&&e.translate<=b3||isNaN(e.translate))&&(e.translate=0)}function ki(e,n,r,a){Am(e.x,n.x,r.x,a?a.originX:void 0),Am(e.y,n.y,r.y,a?a.originY:void 0)}function Tm(e,n,r){e.min=r.min+n.min,e.max=e.min+cn(n)}function S3(e,n,r){Tm(e.x,n.x,r.x),Tm(e.y,n.y,r.y)}function Dm(e,n,r){e.min=n.min-r.min,e.max=e.min+cn(n)}function yl(e,n,r){Dm(e.x,n.x,r.x),Dm(e.y,n.y,r.y)}function Bn(e){return[e("x"),e("y")]}const vx=({current:e})=>e?e.ownerDocument.defaultView:null,Pm=(e,n)=>Math.abs(e-n);function k3(e,n){const r=Pm(e.x,n.x),a=Pm(e.y,n.y);return Math.sqrt(r**2+a**2)}class yx{constructor(n,r,{transformPagePoint:a,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Mu(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=k3(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:y}=g,{timestamp:C}=qt;this.history.push({...y,timestamp:C});const{onStart:k,onMove:j}=this.handlers;v||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Pu(v,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:w,onSessionEnd:y,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Mu(g.type==="pointercancel"?this.lastMoveEventInfo:Pu(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,k),y&&y(g,k)},!Xd(n))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=i||window;const d=Ri(n),h=Pu(d,this.transformPagePoint),{point:x}=h,{timestamp:f}=qt;this.history=[{...x,timestamp:f}];const{onSessionStart:p}=r;p&&p(n,Mu(h,this.history)),this.removeListeners=Pi(Si(this.contextWindow,"pointermove",this.handlePointerMove),Si(this.contextWindow,"pointerup",this.handlePointerUp),Si(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function Pu(e,n){return n?{point:n(e.point)}:e}function Mm(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Mu({point:e},n){return{point:e,delta:Mm(e,bx(n)),offset:Mm(e,C3(n)),velocity:_3(n,.1)}}function C3(e){return e[0]}function bx(e){return e[e.length-1]}function _3(e,n){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const i=bx(e);for(;r>=0&&(a=e[r],!(i.timestamp-a.timestamp>dr(n)));)r--;if(!a)return{x:0,y:0};const o=Vn(i.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const u={x:(i.x-a.x)/o,y:(i.y-a.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function N3(e,{min:n,max:r},a){return n!==void 0&&e<n?e=a?_t(n,e,a.min):Math.max(e,n):r!==void 0&&e>r&&(e=a?_t(r,e,a.max):Math.min(e,r)),e}function Im(e,n,r){return{min:n!==void 0?e.min+n:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function j3(e,{top:n,left:r,bottom:a,right:i}){return{x:Im(e.x,r,i),y:Im(e.y,n,a)}}function Rm(e,n){let r=n.min-e.min,a=n.max-e.max;return n.max-n.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function E3(e,n){return{x:Rm(e.x,n.x),y:Rm(e.y,n.y)}}function A3(e,n){let r=.5;const a=cn(e),i=cn(n);return i>a?r=Ci(n.min,n.max-a,e.min):a>i&&(r=Ci(e.min,e.max-i,n.min)),Ar(0,1,r)}function T3(e,n){const r={};return n.min!==void 0&&(r.min=n.min-e.min),n.max!==void 0&&(r.max=n.max-e.min),r}const xd=.35;function D3(e=xd){return e===!1?e=0:e===!0&&(e=xd),{x:Fm(e,"left","right"),y:Fm(e,"top","bottom")}}function Fm(e,n,r){return{min:Om(e,n),max:Om(e,r)}}function Om(e,n){return typeof e=="number"?e:e[n]||0}const P3=new WeakMap;class M3{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:r=!1,distanceThreshold:a}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ri(p).point)},u=(p,g)=>{const{drag:v,dragPropagation:w,onDragStart:y}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lb(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(k=>{let j=this.getAxisMotionValue(k).get()||0;if(fr.test(j)){const{projection:T}=this.visualElement;if(T&&T.layout){const D=T.layout.layoutBox[k];D&&(j=cn(D)*(parseFloat(j)/100))}}this.originPoint[k]=j}),y&&wt.postRender(()=>y(p,g)),md(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:y,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=g;if(w&&this.currentDirection===null){this.currentDirection=I3(k),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),C&&C(p,g)},h=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>Bn(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new yx(n,{onSessionStart:o,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:a,contextWindow:vx(this.visualElement)})}stop(n,r){const a=n||this.latestPointerEvent,i=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!a)return;const{velocity:u}=i;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&wt.postRender(()=>d(a,i))}cancel(){this.isDragging=!1;const{projection:n,animationState:r}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(n,r,a){const{drag:i}=this.getProps();if(!a||!Qo(n,i,this.currentDirection))return;const o=this.getAxisMotionValue(n);let u=this.originPoint[n]+a[n];this.constraints&&this.constraints[n]&&(u=N3(u,this.constraints[n],this.elastic[n])),o.set(u)}resolveConstraints(){const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;n&&Sa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=j3(a.layoutBox,n):this.constraints=!1,this.elastic=D3(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Bn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=T3(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:r}=this.getProps();if(!n||!Sa(n))return!1;const a=n.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Rw(a,i.root,this.visualElement.getTransformPagePoint());let u=E3(i.layout.layoutBox,o);if(r){const d=r(Pw(u));this.hasMutatedConstraints=!!d,d&&(u=rx(d))}return u}startAnimation(n){const{drag:r,dragMomentum:a,dragElastic:i,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},x=Bn(f=>{if(!Qo(f,r,this.currentDirection))return;let p=h&&h[f]||{};u&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:a?n[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(f,w)});return Promise.all(x).then(d)}startAxisValueAnimation(n,r){const a=this.getAxisMotionValue(n);return md(this.visualElement,n),a.start(cf(n,a,0,r,this.visualElement,!1))}stopAnimation(){Bn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Bn(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const r=`_drag${n.toUpperCase()}`,a=this.visualElement.getProps(),i=a[r];return i||this.visualElement.getValue(n,(a.initial?a.initial[n]:void 0)||0)}snapToCursor(n){Bn(r=>{const{drag:a}=this.getProps();if(!Qo(r,a,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:u,max:d}=i.layout.layoutBox[r];o.set(n[r]-_t(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!Sa(r)||!a||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();i[u]=A3({min:h,max:h},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Bn(u=>{if(!Qo(u,n,null))return;const d=this.getAxisMotionValue(u),{min:h,max:x}=this.constraints[u];d.set(_t(h,x,i[u]))})}addListeners(){if(!this.visualElement.current)return;P3.set(this.visualElement,this);const n=this.visualElement.current,r=Si(n,"pointerdown",h=>{const{drag:x,dragListener:f=!0}=this.getProps();x&&f&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();Sa(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),wt.read(a);const u=Ai(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:x})=>{this.isDragging&&x&&(Bn(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=h[f].translate,p.set(p.get()+h[f].translate))}),this.visualElement.render())}));return()=>{u(),r(),o(),d&&d()}}getProps(){const n=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:u=xd,dragMomentum:d=!0}=n;return{...n,drag:r,dragDirectionLock:a,dragPropagation:i,dragConstraints:o,dragElastic:u,dragMomentum:d}}}function Qo(e,n,r){return(n===!0||n===e)&&(r===null||r===e)}function I3(e,n=10){let r=null;return Math.abs(e.y)>n?r="y":Math.abs(e.x)>n&&(r="x"),r}class R3 extends rs{constructor(n){super(n),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new M3(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}unmount(){this.removeGroupControls(),this.removeListeners()}}const zm=e=>(n,r)=>{e&&wt.postRender(()=>e(n,r))};class F3 extends rs{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(n){this.session=new yx(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vx(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:r,onPan:a,onPanEnd:i}=this.node.getProps();return{onSessionStart:zm(n),onStart:zm(r),onMove:a,onEnd:(o,u)=>{delete this.session,i&&wt.postRender(()=>i(o,u))}}}mount(){this.removePointerDownListener=Si(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lm(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const xi={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(Ke.test(e))e=parseFloat(e);else return e;const r=Lm(e,n.target.x),a=Lm(e,n.target.y);return`${r}% ${a}%`}},O3={correct:(e,{treeScale:n,projectionDelta:r})=>{const a=e,i=ts.parse(e);if(i.length>5)return a;const o=ts.createTransformer(e),u=typeof i[0]!="number"?1:0,d=r.x.scale*n.x,h=r.y.scale*n.y;i[0+u]/=d,i[1+u]/=h;const x=_t(d,h,.5);return typeof i[2+u]=="number"&&(i[2+u]/=x),typeof i[3+u]=="number"&&(i[3+u]/=x),o(i)}};let Iu=!1;class z3 extends A.Component{componentDidMount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:a,layoutId:i}=this.props,{projection:o}=n;iw(L3),o&&(r.group&&r.group.add(o),a&&a.register&&i&&a.register(o),Iu&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:r,visualElement:a,drag:i,isPresent:o}=this.props,{projection:u}=a;return u&&(u.isPresent=o,Iu=!0,i||n.layoutDependency!==r||r===void 0||n.isPresent!==o?u.willUpdate():this.safeToRemove(),n.isPresent!==o&&(o?u.promote():u.relegate()||wt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),Qd.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:i}=n;Iu=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),a&&a.deregister&&a.deregister(i))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function wx(e){const[n,r]=Hg(),a=A.useContext(Ad);return l.jsx(z3,{...e,layoutGroup:a,switchLayoutGroup:A.useContext(tx),isPresent:n,safeToRemove:r})}const L3={borderRadius:{...xi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xi,borderTopRightRadius:xi,borderBottomLeftRadius:xi,borderBottomRightRadius:xi,boxShadow:O3};function B3(e,n,r){const a=rn(e)?e:Ta(e);return a.start(cf("",a,n,r)),a.animation}const V3=(e,n)=>e.depth-n.depth;class U3{constructor(){this.children=[],this.isDirty=!1}add(n){Pd(this.children,n),this.isDirty=!0}remove(n){Md(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(V3),this.isDirty=!1,this.children.forEach(n)}}function H3(e,n){const r=wn.now(),a=({timestamp:i})=>{const o=i-r;o>=n&&(es(a),e(o-n))};return wt.setup(a,!0),()=>es(a)}const Sx=["TopLeft","TopRight","BottomLeft","BottomRight"],W3=Sx.length,Bm=e=>typeof e=="string"?parseFloat(e):e,Vm=e=>typeof e=="number"||Ke.test(e);function $3(e,n,r,a,i,o){i?(e.opacity=_t(0,r.opacity??1,K3(a)),e.opacityExit=_t(n.opacity??1,0,G3(a))):o&&(e.opacity=_t(n.opacity??1,r.opacity??1,a));for(let u=0;u<W3;u++){const d=`border${Sx[u]}Radius`;let h=Um(n,d),x=Um(r,d);if(h===void 0&&x===void 0)continue;h||(h=0),x||(x=0),h===0||x===0||Vm(h)===Vm(x)?(e[d]=Math.max(_t(Bm(h),Bm(x),a),0),(fr.test(x)||fr.test(h))&&(e[d]+="%")):e[d]=x}(n.rotate||r.rotate)&&(e.rotate=_t(n.rotate||0,r.rotate||0,a))}function Um(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const K3=kx(0,.5,cg),G3=kx(.5,.95,Un);function kx(e,n,r){return a=>a<e?0:a>n?1:r(Ci(e,n,a))}function Hm(e,n){e.min=n.min,e.max=n.max}function Jn(e,n){Hm(e.x,n.x),Hm(e.y,n.y)}function Wm(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function $m(e,n,r,a,i){return e-=n,e=vl(e,1/r,a),i!==void 0&&(e=vl(e,1/i,a)),e}function Z3(e,n=0,r=1,a=.5,i,o=e,u=e){if(fr.test(n)&&(n=parseFloat(n),n=_t(u.min,u.max,n/100)-u.min),typeof n!="number")return;let d=_t(o.min,o.max,a);e===o&&(d-=n),e.min=$m(e.min,n,r,d,i),e.max=$m(e.max,n,r,d,i)}function Km(e,n,[r,a,i],o,u){Z3(e,n[r],n[a],n[i],n.scale,o,u)}const q3=["x","scaleX","originX"],Y3=["y","scaleY","originY"];function Gm(e,n,r,a){Km(e.x,n,q3,r?r.x:void 0,a?a.x:void 0),Km(e.y,n,Y3,r?r.y:void 0,a?a.y:void 0)}function Zm(e){return e.translate===0&&e.scale===1}function Cx(e){return Zm(e.x)&&Zm(e.y)}function qm(e,n){return e.min===n.min&&e.max===n.max}function Q3(e,n){return qm(e.x,n.x)&&qm(e.y,n.y)}function Ym(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function _x(e,n){return Ym(e.x,n.x)&&Ym(e.y,n.y)}function Qm(e){return cn(e.x)/cn(e.y)}function Xm(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}class X3{constructor(){this.members=[]}add(n){Pd(this.members,n),n.scheduleRender()}remove(n){if(Md(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(n){const r=this.members.findIndex(i=>n===i);if(r===0)return!1;let a;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(n,r){const a=this.lead;if(n!==a&&(this.prevLead=a,this.lead=n,n.show(),a)){a.instance&&a.scheduleRender(),n.scheduleRender(),n.resumeFrom=a,r&&(n.resumeFrom.preserveOpacity=!0),a.snapshot&&(n.snapshot=a.snapshot,n.snapshot.latestValues=a.animationValues||a.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:i}=n.options;i===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:r,resumingFrom:a}=n;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J3(e,n,r){let a="";const i=e.x.translate/n.x,o=e.y.translate/n.y,u=r?.z||0;if((i||o||u)&&(a=`translate3d(${i}px, ${o}px, ${u}px) `),(n.x!==1||n.y!==1)&&(a+=`scale(${1/n.x}, ${1/n.y}) `),r){const{transformPerspective:x,rotate:f,rotateX:p,rotateY:g,skewX:v,skewY:w}=r;x&&(a=`perspective(${x}px) ${a}`),f&&(a+=`rotate(${f}deg) `),p&&(a+=`rotateX(${p}deg) `),g&&(a+=`rotateY(${g}deg) `),v&&(a+=`skewX(${v}deg) `),w&&(a+=`skewY(${w}deg) `)}const d=e.x.scale*n.x,h=e.y.scale*n.y;return(d!==1||h!==1)&&(a+=`scale(${d}, ${h})`),a||"none"}const Ru=["","X","Y","Z"],e5=1e3;let t5=0;function Fu(e,n,r,a){const{latestValues:i}=n;i[e]&&(r[e]=i[e],n.setStaticValue(e,0),a&&(a[e]=0))}function Nx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const r=dx(n);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",wt,!(i||o))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&Nx(a)}function jx({attachResizeListener:e,defaultParent:n,measureScroll:r,checkIsScrollRoot:a,resetTransform:i}){return class{constructor(u={},d=n?.()){this.id=t5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(s5),this.nodes.forEach(l5),this.nodes.forEach(c5),this.nodes.forEach(a5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new U3)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Fd),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Ug(u)&&!$b(u),this.instance=u;const{layoutId:d,layout:h,visualElement:x}=this.options;if(x&&!x.current&&x.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),e){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;wt.read(()=>{p=window.innerWidth}),e(u,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,f&&f(),f=H3(g,250),cl.hasAnimatedSinceResize&&(cl.hasAnimatedSinceResize=!1,this.nodes.forEach(t0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&x&&(d||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||x.getDefaultTransition()||p5,{onLayoutAnimationStart:y,onLayoutAnimationComplete:C}=x.getProps(),k=!this.targetLayout||!_x(this.targetLayout,v),j=!p&&g;if(this.options.layoutRoot||this.resumeFrom||j||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...qd(w,"layout"),onPlay:y,onComplete:C};(x.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(f,j)}else p||t0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Nx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(e0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o5),this.nodes.forEach(n5),this.nodes.forEach(r5)):this.nodes.forEach(e0),this.clearAllSnapshots();const d=wn.now();qt.delta=Ar(0,1e3/60,d-qt.timestamp),qt.timestamp=d,qt.isProcessing=!0,Cu.update.process(qt),Cu.preRender.process(qt),Cu.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Qd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i5),this.sharedNodes.forEach(d5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Cx(this.projectionDelta),h=this.getTransformTemplate(),x=h?h(this.latestValues,""):void 0,f=x!==this.prevTransformTemplateValue;u&&this.instance&&(d||Es(this.latestValues)||f)&&(i(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),m5(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Lt();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(g5))){const{scroll:x}=this.root;x&&(ka(d.x,x.offset.x),ka(d.y,x.offset.y))}return d}removeElementScroll(u){const d=Lt();if(Jn(d,u),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const x=this.path[h],{scroll:f,options:p}=x;x!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Jn(d,u),ka(d.x,f.offset.x),ka(d.y,f.offset.y))}return d}applyTransform(u,d=!1){const h=Lt();Jn(h,u);for(let x=0;x<this.path.length;x++){const f=this.path[x];!d&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ca(h,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Es(f.latestValues)&&Ca(h,f.latestValues)}return Es(this.latestValues)&&Ca(h,this.latestValues),h}removeTransform(u){const d=Lt();Jn(d,u);for(let h=0;h<this.path.length;h++){const x=this.path[h];if(!x.instance||!Es(x.latestValues))continue;dd(x.latestValues)&&x.updateSnapshot();const f=Lt(),p=x.measurePageBox();Jn(f,p),Gm(d,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,f)}return Es(this.latestValues)&&Gm(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=qt.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Jn(this.target,this.layout.layoutBox),ax(this.target,this.targetDelta)):Jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dd(this.parent.latestValues)||sx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,h){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),yl(this.relativeTargetOrigin,d,h),Jn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(h=!1),h)return;const{layout:x,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||f))return;Jn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;Iw(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Lt());const{target:v}=u;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wm(this.prevProjectionDelta.x,this.projectionDelta.x),Wm(this.prevProjectionDelta.y,this.projectionDelta.y)),ki(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Xm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_a(),this.projectionDelta=_a(),this.projectionDeltaWithTransform=_a()}setAnimationOrigin(u,d=!1){const h=this.snapshot,x=h?h.latestValues:{},f={...this.latestValues},p=_a();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const g=Lt(),v=h?h.source:void 0,w=this.layout?this.layout.source:void 0,y=v!==w,C=this.getStack(),k=!C||C.members.length<=1,j=!!(y&&!k&&this.options.crossfade===!0&&!this.path.some(h5));this.animationProgress=0;let T;this.mixTargetDelta=D=>{const M=D/1e3;n0(p.x,u.x,M),n0(p.y,u.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yl(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f5(this.relativeTarget,this.relativeTargetOrigin,g,M),T&&Q3(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Lt()),Jn(T,this.relativeTarget)),y&&(this.animationValues=f,$3(f,x,this.latestValues,M,j,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{cl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ta(0)),this.currentAnimation=B3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:x,latestValues:f}=u;if(!(!d||!h||!x)){if(this!==u&&this.layout&&x&&Ex(this.options.animationType,this.layout.layoutBox,x.layoutBox)){h=this.target||Lt();const p=cn(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+p;const g=cn(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+g}Jn(d,h),Ca(d,f),ki(this.projectionDeltaWithTransform,this.layoutCorrected,d,f)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new X3),this.sharedNodes.get(u).add(d);const x=d.options.initialPromotionConfig;d.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const x=this.getStack();x&&x.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const x={};h.z&&Fu("z",u,x,this.animationValues);for(let f=0;f<Ru.length;f++)Fu(`rotate${Ru[f]}`,u,x,this.animationValues),Fu(`skew${Ru[f]}`,u,x,this.animationValues);u.render();for(const f in x)u.setStaticValue(f,x[f]),this.animationValues&&(this.animationValues[f]=x[f]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=ll(d?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=ll(d?.pointerEvents)||""),this.hasProjected&&!Es(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const f=x.animationValues||x.latestValues;this.applyTransformsToTarget();let p=J3(this.projectionDeltaWithTransform,this.treeScale,f);h&&(p=h(f,p)),u.transform=p;const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,x.animationValues?u.opacity=x===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=x===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Ei){if(f[w]===void 0)continue;const{correct:y,applyTo:C,isCSSVariable:k}=Ei[w],j=p==="none"?f[w]:y(f[w],x);if(C){const T=C.length;for(let D=0;D<T;D++)u[C[D]]=j}else k?this.options.visualElement.renderState.vars[w]=j:u[w]=j}this.options.layoutId&&(u.pointerEvents=x===this?ll(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Jm),this.root.sharedNodes.clear()}}}function n5(e){e.updateLayout()}function r5(e){const n=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Bn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=cn(p);p.min=r[f].min,p.max=p.min+g}):Ex(i,n.layoutBox,r)&&Bn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],g=cn(r[f]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const u=_a();ki(u,r,n.layoutBox);const d=_a();o?ki(d,e.applyTransform(a,!0),n.measuredBox):ki(d,r,n.layoutBox);const h=!Cx(u);let x=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const v=Lt();yl(v,n.layoutBox,p.layoutBox);const w=Lt();yl(w,r,g.layoutBox),_x(v,w)||(x=!0),f.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function s5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function a5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function i5(e){e.clearSnapshot()}function Jm(e){e.clearMeasurements()}function e0(e){e.isLayoutDirty=!1}function o5(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function t0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function l5(e){e.resolveTargetDelta()}function c5(e){e.calcProjection()}function u5(e){e.resetSkewAndRotation()}function d5(e){e.removeLeadSnapshot()}function n0(e,n,r){e.translate=_t(n.translate,0,r),e.scale=_t(n.scale,1,r),e.origin=n.origin,e.originPoint=n.originPoint}function r0(e,n,r,a){e.min=_t(n.min,r.min,a),e.max=_t(n.max,r.max,a)}function f5(e,n,r,a){r0(e.x,n.x,r.x,a),r0(e.y,n.y,r.y,a)}function h5(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const p5={duration:.45,ease:[.4,0,.1,1]},s0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),a0=s0("applewebkit/")&&!s0("chrome/")?Math.round:Un;function i0(e){e.min=a0(e.min),e.max=a0(e.max)}function m5(e){i0(e.x),i0(e.y)}function Ex(e,n,r){return e==="position"||e==="preserve-aspect"&&!w3(Qm(n),Qm(r),.2)}function g5(e){return e!==e.root&&e.scroll?.wasRoot}const x5=jx({attachResizeListener:(e,n)=>Ai(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ou={current:void 0},Ax=jx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ou.current){const e=new x5({});e.mount(window),e.setOptions({layoutScroll:!0}),Ou.current=e}return Ou.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),v5={pan:{Feature:F3},drag:{Feature:R3,ProjectionNode:Ax,MeasureLayout:wx}};function o0(e,n,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,o=a[i];o&&wt.postRender(()=>o(n,Ri(n)))}class y5 extends rs{mount(){const{current:n}=this.node;n&&(this.unmount=Bb(n,(r,a)=>(o0(this.node,a,"Start"),i=>o0(this.node,i,"End"))))}unmount(){}}class b5 extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pi(Ai(this.node.current,"focus",()=>this.onFocus()),Ai(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function l0(e,n,r){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),o=a[i];o&&wt.postRender(()=>o(n,Ri(n)))}class w5 extends rs{mount(){const{current:n}=this.node;n&&(this.unmount=Wb(n,(r,a)=>(l0(this.node,a,"Start"),(i,{success:o})=>l0(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vd=new WeakMap,zu=new WeakMap,S5=e=>{const n=vd.get(e.target);n&&n(e)},k5=e=>{e.forEach(S5)};function C5({root:e,...n}){const r=e||document;zu.has(r)||zu.set(r,{});const a=zu.get(r),i=JSON.stringify(n);return a[i]||(a[i]=new IntersectionObserver(k5,{root:e,...n})),a[i]}function _5(e,n,r){const a=C5(n);return vd.set(e,r),a.observe(e),()=>{vd.delete(e),a.unobserve(e)}}const N5={some:0,all:1};class j5 extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:r,margin:a,amount:i="some",once:o}=n,u={root:r?r.current:void 0,rootMargin:a,threshold:typeof i=="number"?i:N5[i]},d=h=>{const{isIntersecting:x}=h;if(this.isInView===x||(this.isInView=x,o&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=x?f:p;g&&g(h)};return _5(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:r}=this.node;["amount","margin","root"].some(E5(n,r))&&this.startObserver()}unmount(){}}function E5({viewport:e={}},{viewport:n={}}={}){return r=>e[r]!==n[r]}const A5={inView:{Feature:j5},tap:{Feature:w5},focus:{Feature:b5},hover:{Feature:y5}},T5={layout:{ProjectionNode:Ax,MeasureLayout:wx}},D5={...m3,...A5,...v5,...T5},un=Dw(D5,Ww),uf="/assets/5f8732ee23725e4e0895553baa1c8e03e361ca7a-DtxtzMCA.png";function P5(e,n){const r=A.createContext(n),a=o=>{const{children:u,...d}=o,h=A.useMemo(()=>d,Object.values(d));return l.jsx(r.Provider,{value:h,children:u})};a.displayName=e+"Provider";function i(o){const u=A.useContext(r);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[a,i]}function Tx(e,n=[]){let r=[];function a(o,u){const d=A.createContext(u),h=r.length;r=[...r,u];const x=p=>{const{scope:g,children:v,...w}=p,y=g?.[e]?.[h]||d,C=A.useMemo(()=>w,Object.values(w));return l.jsx(y.Provider,{value:C,children:v})};x.displayName=o+"Provider";function f(p,g){const v=g?.[e]?.[h]||d,w=A.useContext(v);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[x,f]}const i=()=>{const o=r.map(u=>A.createContext(u));return function(d){const h=d?.[e]||o;return A.useMemo(()=>({[`__scope${e}`]:{...d,[e]:h}}),[d,h])}};return i.scopeName=e,[a,M5(i,...n)]}function M5(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const u=a.reduce((d,{useScope:h,scopeName:x})=>{const p=h(o)[`__scope${x}`];return{...d,...p}},{});return A.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return r.scopeName=n.scopeName,r}function c0(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function df(...e){return n=>{let r=!1;const a=e.map(i=>{const o=c0(i,n);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<a.length;i++){const o=a[i];typeof o=="function"?o():c0(e[i],null)}}}}function Pr(...e){return A.useCallback(df(...e),e)}function Er(e,n,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return n?.(i)}}var Ti=globalThis?.document?A.useLayoutEffect:()=>{},I5=Q0[" useId ".trim().toString()]||(()=>{}),R5=0;function Lu(e){const[n,r]=A.useState(I5());return Ti(()=>{r(a=>a??String(R5++))},[e]),e||(n?`radix-${n}`:"")}var F5=Q0[" useInsertionEffect ".trim().toString()]||Ti;function O5({prop:e,defaultProp:n,onChange:r=()=>{},caller:a}){const[i,o,u]=z5({defaultProp:n,onChange:r}),d=e!==void 0,h=d?e:i;{const f=A.useRef(e!==void 0);A.useEffect(()=>{const p=f.current;p!==d&&console.warn(`${a} is changing from ${p?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=d},[d,a])}const x=A.useCallback(f=>{if(d){const p=L5(f)?f(e):f;p!==e&&u.current?.(p)}else o(f)},[d,e,o,u]);return[h,x]}function z5({defaultProp:e,onChange:n}){const[r,a]=A.useState(e),i=A.useRef(r),o=A.useRef(n);return F5(()=>{o.current=n},[n]),A.useEffect(()=>{i.current!==r&&(o.current?.(r),i.current=r)},[r,i]),[r,a,o]}function L5(e){return typeof e=="function"}var ff=Y0();const B5=jl(ff);function V5(e){const n=U5(e),r=A.forwardRef((a,i)=>{const{children:o,...u}=a,d=A.Children.toArray(o),h=d.find(W5);if(h){const x=h.props.children,f=d.map(p=>p===h?A.Children.count(x)>1?A.Children.only(null):A.isValidElement(x)?x.props.children:null:p);return l.jsx(n,{...u,ref:i,children:A.isValidElement(x)?A.cloneElement(x,void 0,f):null})}return l.jsx(n,{...u,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function U5(e){const n=A.forwardRef((r,a)=>{const{children:i,...o}=r;if(A.isValidElement(i)){const u=K5(i),d=$5(o,i.props);return i.type!==A.Fragment&&(d.ref=a?df(a,u):u),A.cloneElement(i,d)}return A.Children.count(i)>1?A.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var H5=Symbol("radix.slottable");function W5(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H5}function $5(e,n){const r={...n};for(const a in n){const i=e[a],o=n[a];/^on[A-Z]/.test(a)?i&&o?r[a]=(...d)=>{const h=o(...d);return i(...d),h}:i&&(r[a]=i):a==="style"?r[a]={...i,...o}:a==="className"&&(r[a]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function K5(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var G5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mr=G5.reduce((e,n)=>{const r=V5(`Primitive.${n}`),a=A.forwardRef((i,o)=>{const{asChild:u,...d}=i,h=u?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(h,{...d,ref:o})});return a.displayName=`Primitive.${n}`,{...e,[n]:a}},{});function Z5(e,n){e&&ff.flushSync(()=>e.dispatchEvent(n))}function Di(e){const n=A.useRef(e);return A.useEffect(()=>{n.current=e}),A.useMemo(()=>(...r)=>n.current?.(...r),[])}function q5(e,n=globalThis?.document){const r=Di(e);A.useEffect(()=>{const a=i=>{i.key==="Escape"&&r(i)};return n.addEventListener("keydown",a,{capture:!0}),()=>n.removeEventListener("keydown",a,{capture:!0})},[r,n])}var Y5="DismissableLayer",yd="dismissableLayer.update",Q5="dismissableLayer.pointerDownOutside",X5="dismissableLayer.focusOutside",u0,Dx=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Px=A.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:u,onDismiss:d,...h}=e,x=A.useContext(Dx),[f,p]=A.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=A.useState({}),w=Pr(n,z=>p(z)),y=Array.from(x.layers),[C]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),k=y.indexOf(C),j=f?y.indexOf(f):-1,T=x.layersWithOutsidePointerEventsDisabled.size>0,D=j>=k,M=tS(z=>{const N=z.target,P=[...x.branches].some(H=>H.contains(N));!D||P||(i?.(z),u?.(z),z.defaultPrevented||d?.())},g),F=nS(z=>{const N=z.target;[...x.branches].some(H=>H.contains(N))||(o?.(z),u?.(z),z.defaultPrevented||d?.())},g);return q5(z=>{j===x.layers.size-1&&(a?.(z),!z.defaultPrevented&&d&&(z.preventDefault(),d()))},g),A.useEffect(()=>{if(f)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(u0=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(f)),x.layers.add(f),d0(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=u0)}},[f,g,r,x]),A.useEffect(()=>()=>{f&&(x.layers.delete(f),x.layersWithOutsidePointerEventsDisabled.delete(f),d0())},[f,x]),A.useEffect(()=>{const z=()=>v({});return document.addEventListener(yd,z),()=>document.removeEventListener(yd,z)},[]),l.jsx(Mr.div,{...h,ref:w,style:{pointerEvents:T?D?"auto":"none":void 0,...e.style},onFocusCapture:Er(e.onFocusCapture,F.onFocusCapture),onBlurCapture:Er(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Er(e.onPointerDownCapture,M.onPointerDownCapture)})});Px.displayName=Y5;var J5="DismissableLayerBranch",eS=A.forwardRef((e,n)=>{const r=A.useContext(Dx),a=A.useRef(null),i=Pr(n,a);return A.useEffect(()=>{const o=a.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(Mr.div,{...e,ref:i})});eS.displayName=J5;function tS(e,n=globalThis?.document){const r=Di(e),a=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const o=d=>{if(d.target&&!a.current){let h=function(){Mx(Q5,r,x,{discrete:!0})};const x={originalEvent:d};d.pointerType==="touch"?(n.removeEventListener("click",i.current),i.current=h,n.addEventListener("click",i.current,{once:!0})):h()}else n.removeEventListener("click",i.current);a.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",o),n.removeEventListener("click",i.current)}},[n,r]),{onPointerDownCapture:()=>a.current=!0}}function nS(e,n=globalThis?.document){const r=Di(e),a=A.useRef(!1);return A.useEffect(()=>{const i=o=>{o.target&&!a.current&&Mx(X5,r,{originalEvent:o},{discrete:!1})};return n.addEventListener("focusin",i),()=>n.removeEventListener("focusin",i)},[n,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function d0(){const e=new CustomEvent(yd);document.dispatchEvent(e)}function Mx(e,n,r,{discrete:a}){const i=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&i.addEventListener(e,n,{once:!0}),a?Z5(i,o):i.dispatchEvent(o)}var Bu="focusScope.autoFocusOnMount",Vu="focusScope.autoFocusOnUnmount",f0={bubbles:!1,cancelable:!0},rS="FocusScope",Ix=A.forwardRef((e,n)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...u}=e,[d,h]=A.useState(null),x=Di(i),f=Di(o),p=A.useRef(null),g=Pr(n,y=>h(y)),v=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(a){let y=function(T){if(v.paused||!d)return;const D=T.target;d.contains(D)?p.current=D:Jr(p.current,{select:!0})},C=function(T){if(v.paused||!d)return;const D=T.relatedTarget;D!==null&&(d.contains(D)||Jr(p.current,{select:!0}))},k=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&Jr(d)};document.addEventListener("focusin",y),document.addEventListener("focusout",C);const j=new MutationObserver(k);return d&&j.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",C),j.disconnect()}}},[a,d,v.paused]),A.useEffect(()=>{if(d){p0.add(v);const y=document.activeElement;if(!d.contains(y)){const k=new CustomEvent(Bu,f0);d.addEventListener(Bu,x),d.dispatchEvent(k),k.defaultPrevented||(sS(cS(Rx(d)),{select:!0}),document.activeElement===y&&Jr(d))}return()=>{d.removeEventListener(Bu,x),setTimeout(()=>{const k=new CustomEvent(Vu,f0);d.addEventListener(Vu,f),d.dispatchEvent(k),k.defaultPrevented||Jr(y??document.body,{select:!0}),d.removeEventListener(Vu,f),p0.remove(v)},0)}}},[d,x,f,v]);const w=A.useCallback(y=>{if(!r&&!a||v.paused)return;const C=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,k=document.activeElement;if(C&&k){const j=y.currentTarget,[T,D]=aS(j);T&&D?!y.shiftKey&&k===D?(y.preventDefault(),r&&Jr(T,{select:!0})):y.shiftKey&&k===T&&(y.preventDefault(),r&&Jr(D,{select:!0})):k===j&&y.preventDefault()}},[r,a,v.paused]);return l.jsx(Mr.div,{tabIndex:-1,...u,ref:g,onKeyDown:w})});Ix.displayName=rS;function sS(e,{select:n=!1}={}){const r=document.activeElement;for(const a of e)if(Jr(a,{select:n}),document.activeElement!==r)return}function aS(e){const n=Rx(e),r=h0(n,e),a=h0(n.reverse(),e);return[r,a]}function Rx(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function h0(e,n){for(const r of e)if(!iS(r,{upTo:n}))return r}function iS(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function oS(e){return e instanceof HTMLInputElement&&"select"in e}function Jr(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&oS(e)&&n&&e.select()}}var p0=lS();function lS(){let e=[];return{add(n){const r=e[0];n!==r&&r?.pause(),e=m0(e,n),e.unshift(n)},remove(n){e=m0(e,n),e[0]?.resume()}}}function m0(e,n){const r=[...e],a=r.indexOf(n);return a!==-1&&r.splice(a,1),r}function cS(e){return e.filter(n=>n.tagName!=="A")}var uS="Portal",Fx=A.forwardRef((e,n)=>{const{container:r,...a}=e,[i,o]=A.useState(!1);Ti(()=>o(!0),[]);const u=r||i&&globalThis?.document?.body;return u?B5.createPortal(l.jsx(Mr.div,{...a,ref:n}),u):null});Fx.displayName=uS;function dS(e,n){return A.useReducer((r,a)=>n[r][a]??r,e)}var Pl=e=>{const{present:n,children:r}=e,a=fS(n),i=typeof r=="function"?r({present:a.isPresent}):A.Children.only(r),o=Pr(a.ref,hS(i));return typeof r=="function"||a.isPresent?A.cloneElement(i,{ref:o}):null};Pl.displayName="Presence";function fS(e){const[n,r]=A.useState(),a=A.useRef(null),i=A.useRef(e),o=A.useRef("none"),u=e?"mounted":"unmounted",[d,h]=dS(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const x=Xo(a.current);o.current=d==="mounted"?x:"none"},[d]),Ti(()=>{const x=a.current,f=i.current;if(f!==e){const g=o.current,v=Xo(x);e?h("MOUNT"):v==="none"||x?.display==="none"?h("UNMOUNT"):h(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,h]),Ti(()=>{if(n){let x;const f=n.ownerDocument.defaultView??window,p=v=>{const y=Xo(a.current).includes(CSS.escape(v.animationName));if(v.target===n&&y&&(h("ANIMATION_END"),!i.current)){const C=n.style.animationFillMode;n.style.animationFillMode="forwards",x=f.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=C)})}},g=v=>{v.target===n&&(o.current=Xo(a.current))};return n.addEventListener("animationstart",g),n.addEventListener("animationcancel",p),n.addEventListener("animationend",p),()=>{f.clearTimeout(x),n.removeEventListener("animationstart",g),n.removeEventListener("animationcancel",p),n.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[n,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:A.useCallback(x=>{a.current=x?getComputedStyle(x):null,r(x)},[])}}function Xo(e){return e?.animationName||"none"}function hS(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Uu=0;function pS(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??g0()),document.body.insertAdjacentElement("beforeend",e[1]??g0()),Uu++,()=>{Uu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Uu--}},[])}function g0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ur=function(){return ur=Object.assign||function(n){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ur.apply(this,arguments)};function Ox(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)n.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r}function mS(e,n,r){if(r||arguments.length===2)for(var a=0,i=n.length,o;a<i;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))}var ul="right-scroll-bar-position",dl="width-before-scroll-bar",gS="with-scroll-bars-hidden",xS="--removed-body-scroll-bar-size";function Hu(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function vS(e,n){var r=A.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(a){var i=r.value;i!==a&&(r.value=a,r.callback(a,i))}}}})[0];return r.callback=n,r.facade}var yS=typeof window<"u"?A.useLayoutEffect:A.useEffect,x0=new WeakMap;function bS(e,n){var r=vS(null,function(a){return e.forEach(function(i){return Hu(i,a)})});return yS(function(){var a=x0.get(r);if(a){var i=new Set(a),o=new Set(e),u=r.current;i.forEach(function(d){o.has(d)||Hu(d,null)}),o.forEach(function(d){i.has(d)||Hu(d,u)})}x0.set(r,e)},[e]),r}function wS(e){return e}function SS(e,n){n===void 0&&(n=wS);var r=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var u=n(o,a);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(o){for(a=!0;r.length;){var u=r;r=[],u.forEach(o)}r={push:function(d){return o(d)},filter:function(){return r}}},assignMedium:function(o){a=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(o),u=r}var h=function(){var f=u;u=[],f.forEach(o)},x=function(){return Promise.resolve().then(h)};x(),r={push:function(f){u.push(f),x()},filter:function(f){return u=u.filter(f),r}}}};return i}function kS(e){e===void 0&&(e={});var n=SS(null);return n.options=ur({async:!0,ssr:!1},e),n}var zx=function(e){var n=e.sideCar,r=Ox(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=n.read();if(!a)throw new Error("Sidecar medium not found");return A.createElement(a,ur({},r))};zx.isSideCarExport=!0;function CS(e,n){return e.useMedium(n),zx}var Lx=kS(),Wu=function(){},Ml=A.forwardRef(function(e,n){var r=A.useRef(null),a=A.useState({onScrollCapture:Wu,onWheelCapture:Wu,onTouchMoveCapture:Wu}),i=a[0],o=a[1],u=e.forwardProps,d=e.children,h=e.className,x=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,v=e.noRelative,w=e.noIsolation,y=e.inert,C=e.allowPinchZoom,k=e.as,j=k===void 0?"div":k,T=e.gapMode,D=Ox(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=g,F=bS([r,n]),z=ur(ur({},D),i);return A.createElement(A.Fragment,null,f&&A.createElement(M,{sideCar:Lx,removeScrollBar:x,shards:p,noRelative:v,noIsolation:w,inert:y,setCallbacks:o,allowPinchZoom:!!C,lockRef:r,gapMode:T}),u?A.cloneElement(A.Children.only(d),ur(ur({},z),{ref:F})):A.createElement(j,ur({},z,{className:h,ref:F}),d))});Ml.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ml.classNames={fullWidth:dl,zeroRight:ul};var _S=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function NS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=_S();return n&&e.setAttribute("nonce",n),e}function jS(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function ES(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var AS=function(){var e=0,n=null;return{add:function(r){e==0&&(n=NS())&&(jS(n,r),ES(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},TS=function(){var e=AS();return function(n,r){A.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},Bx=function(){var e=TS(),n=function(r){var a=r.styles,i=r.dynamic;return e(a,i),null};return n},DS={left:0,top:0,right:0,gap:0},$u=function(e){return parseInt(e||"",10)||0},PS=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],a=n[e==="padding"?"paddingTop":"marginTop"],i=n[e==="padding"?"paddingRight":"marginRight"];return[$u(r),$u(a),$u(i)]},MS=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return DS;var n=PS(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,a-r+n[2]-n[0])}},IS=Bx(),Ea="data-scroll-locked",RS=function(e,n,r,a){var i=e.left,o=e.top,u=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gS,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Ea,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ul,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(dl,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(ul," .").concat(ul,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Ea,`] {
    `).concat(xS,": ").concat(d,`px;
  }
`)},v0=function(){var e=parseInt(document.body.getAttribute(Ea)||"0",10);return isFinite(e)?e:0},FS=function(){A.useEffect(function(){return document.body.setAttribute(Ea,(v0()+1).toString()),function(){var e=v0()-1;e<=0?document.body.removeAttribute(Ea):document.body.setAttribute(Ea,e.toString())}},[])},OS=function(e){var n=e.noRelative,r=e.noImportant,a=e.gapMode,i=a===void 0?"margin":a;FS();var o=A.useMemo(function(){return MS(i)},[i]);return A.createElement(IS,{styles:RS(o,!n,i,r?"":"!important")})},bd=!1;if(typeof window<"u")try{var Jo=Object.defineProperty({},"passive",{get:function(){return bd=!0,!0}});window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{bd=!1}var ga=bd?{passive:!1}:!1,zS=function(e){return e.tagName==="TEXTAREA"},Vx=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!zS(e)&&r[n]==="visible")},LS=function(e){return Vx(e,"overflowY")},BS=function(e){return Vx(e,"overflowX")},y0=function(e,n){var r=n.ownerDocument,a=n;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=Ux(e,a);if(i){var o=Hx(e,a),u=o[1],d=o[2];if(u>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},VS=function(e){var n=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[n,r,a]},US=function(e){var n=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[n,r,a]},Ux=function(e,n){return e==="v"?LS(n):BS(n)},Hx=function(e,n){return e==="v"?VS(n):US(n)},HS=function(e,n){return e==="h"&&n==="rtl"?-1:1},WS=function(e,n,r,a,i){var o=HS(e,window.getComputedStyle(n).direction),u=o*a,d=r.target,h=n.contains(d),x=!1,f=u>0,p=0,g=0;do{if(!d)break;var v=Hx(e,d),w=v[0],y=v[1],C=v[2],k=y-C-o*w;(w||k)&&Ux(e,d)&&(p+=k,g+=w);var j=d.parentNode;d=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!h&&d!==document.body||h&&(n.contains(d)||n===d));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(x=!0),x},el=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},b0=function(e){return[e.deltaX,e.deltaY]},w0=function(e){return e&&"current"in e?e.current:e},$S=function(e,n){return e[0]===n[0]&&e[1]===n[1]},KS=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GS=0,xa=[];function ZS(e){var n=A.useRef([]),r=A.useRef([0,0]),a=A.useRef(),i=A.useState(GS++)[0],o=A.useState(Bx)[0],u=A.useRef(e);A.useEffect(function(){u.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=mS([e.lockRef.current],(e.shards||[]).map(w0),!0).filter(Boolean);return y.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=A.useCallback(function(y,C){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!u.current.allowPinchZoom;var k=el(y),j=r.current,T="deltaX"in y?y.deltaX:j[0]-k[0],D="deltaY"in y?y.deltaY:j[1]-k[1],M,F=y.target,z=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in y&&z==="h"&&F.type==="range")return!1;var N=window.getSelection(),P=N&&N.anchorNode,H=P?P===F||P.contains(F):!1;if(H)return!1;var Z=y0(z,F);if(!Z)return!0;if(Z?M=z:(M=z==="v"?"h":"v",Z=y0(z,F)),!Z)return!1;if(!a.current&&"changedTouches"in y&&(T||D)&&(a.current=M),!M)return!0;var E=a.current||M;return WS(E,C,y,E==="h"?T:D)},[]),h=A.useCallback(function(y){var C=y;if(!(!xa.length||xa[xa.length-1]!==o)){var k="deltaY"in C?b0(C):el(C),j=n.current.filter(function(M){return M.name===C.type&&(M.target===C.target||C.target===M.shadowParent)&&$S(M.delta,k)})[0];if(j&&j.should){C.cancelable&&C.preventDefault();return}if(!j){var T=(u.current.shards||[]).map(w0).filter(Boolean).filter(function(M){return M.contains(C.target)}),D=T.length>0?d(C,T[0]):!u.current.noIsolation;D&&C.cancelable&&C.preventDefault()}}},[]),x=A.useCallback(function(y,C,k,j){var T={name:y,delta:C,target:k,should:j,shadowParent:qS(k)};n.current.push(T),setTimeout(function(){n.current=n.current.filter(function(D){return D!==T})},1)},[]),f=A.useCallback(function(y){r.current=el(y),a.current=void 0},[]),p=A.useCallback(function(y){x(y.type,b0(y),y.target,d(y,e.lockRef.current))},[]),g=A.useCallback(function(y){x(y.type,el(y),y.target,d(y,e.lockRef.current))},[]);A.useEffect(function(){return xa.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",h,ga),document.addEventListener("touchmove",h,ga),document.addEventListener("touchstart",f,ga),function(){xa=xa.filter(function(y){return y!==o}),document.removeEventListener("wheel",h,ga),document.removeEventListener("touchmove",h,ga),document.removeEventListener("touchstart",f,ga)}},[]);var v=e.removeScrollBar,w=e.inert;return A.createElement(A.Fragment,null,w?A.createElement(o,{styles:KS(i)}):null,v?A.createElement(OS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function qS(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const YS=CS(Lx,ZS);var Wx=A.forwardRef(function(e,n){return A.createElement(Ml,ur({},e,{ref:n,sideCar:YS}))});Wx.classNames=Ml.classNames;var QS=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},va=new WeakMap,tl=new WeakMap,nl={},Ku=0,$x=function(e){return e&&(e.host||$x(e.parentNode))},XS=function(e,n){return n.map(function(r){if(e.contains(r))return r;var a=$x(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},JS=function(e,n,r,a){var i=XS(n,Array.isArray(e)?e:[e]);nl[r]||(nl[r]=new WeakMap);var o=nl[r],u=[],d=new Set,h=new Set(i),x=function(p){!p||d.has(p)||(d.add(p),x(p.parentNode))};i.forEach(x);var f=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(g){if(d.has(g))f(g);else try{var v=g.getAttribute(a),w=v!==null&&v!=="false",y=(va.get(g)||0)+1,C=(o.get(g)||0)+1;va.set(g,y),o.set(g,C),u.push(g),y===1&&w&&tl.set(g,!0),C===1&&g.setAttribute(r,"true"),w||g.setAttribute(a,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return f(n),d.clear(),Ku++,function(){u.forEach(function(p){var g=va.get(p)-1,v=o.get(p)-1;va.set(p,g),o.set(p,v),g||(tl.has(p)||p.removeAttribute(a),tl.delete(p)),v||p.removeAttribute(r)}),Ku--,Ku||(va=new WeakMap,va=new WeakMap,tl=new WeakMap,nl={})}},ek=function(e,n,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=QS(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),JS(a,i,r,"aria-hidden")):function(){return null}};function tk(e){const n=nk(e),r=A.forwardRef((a,i)=>{const{children:o,...u}=a,d=A.Children.toArray(o),h=d.find(sk);if(h){const x=h.props.children,f=d.map(p=>p===h?A.Children.count(x)>1?A.Children.only(null):A.isValidElement(x)?x.props.children:null:p);return l.jsx(n,{...u,ref:i,children:A.isValidElement(x)?A.cloneElement(x,void 0,f):null})}return l.jsx(n,{...u,ref:i,children:o})});return r.displayName=`${e}.Slot`,r}function nk(e){const n=A.forwardRef((r,a)=>{const{children:i,...o}=r;if(A.isValidElement(i)){const u=ik(i),d=ak(o,i.props);return i.type!==A.Fragment&&(d.ref=a?df(a,u):u),A.cloneElement(i,d)}return A.Children.count(i)>1?A.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var rk=Symbol("radix.slottable");function sk(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rk}function ak(e,n){const r={...n};for(const a in n){const i=e[a],o=n[a];/^on[A-Z]/.test(a)?i&&o?r[a]=(...d)=>{const h=o(...d);return i(...d),h}:i&&(r[a]=i):a==="style"?r[a]={...i,...o}:a==="className"&&(r[a]=[i,o].filter(Boolean).join(" "))}return{...e,...r}}function ik(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Il="Dialog",[Kx,Gx]=Tx(Il),[ok,rr]=Kx(Il),Zx=e=>{const{__scopeDialog:n,children:r,open:a,defaultOpen:i,onOpenChange:o,modal:u=!0}=e,d=A.useRef(null),h=A.useRef(null),[x,f]=O5({prop:a,defaultProp:i??!1,onChange:o,caller:Il});return l.jsx(ok,{scope:n,triggerRef:d,contentRef:h,contentId:Lu(),titleId:Lu(),descriptionId:Lu(),open:x,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(p=>!p),[f]),modal:u,children:r})};Zx.displayName=Il;var qx="DialogTrigger",Yx=A.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,i=rr(qx,r),o=Pr(n,i.triggerRef);return l.jsx(Mr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mf(i.open),...a,ref:o,onClick:Er(e.onClick,i.onOpenToggle)})});Yx.displayName=qx;var hf="DialogPortal",[lk,Qx]=Kx(hf,{forceMount:void 0}),Xx=e=>{const{__scopeDialog:n,forceMount:r,children:a,container:i}=e,o=rr(hf,n);return l.jsx(lk,{scope:n,forceMount:r,children:A.Children.map(a,u=>l.jsx(Pl,{present:r||o.open,children:l.jsx(Fx,{asChild:!0,container:i,children:u})}))})};Xx.displayName=hf;var bl="DialogOverlay",Jx=A.forwardRef((e,n)=>{const r=Qx(bl,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,o=rr(bl,e.__scopeDialog);return o.modal?l.jsx(Pl,{present:a||o.open,children:l.jsx(uk,{...i,ref:n})}):null});Jx.displayName=bl;var ck=tk("DialogOverlay.RemoveScroll"),uk=A.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,i=rr(bl,r);return l.jsx(Wx,{as:ck,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Mr.div,{"data-state":mf(i.open),...a,ref:n,style:{pointerEvents:"auto",...a.style}})})}),Is="DialogContent",e1=A.forwardRef((e,n)=>{const r=Qx(Is,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,o=rr(Is,e.__scopeDialog);return l.jsx(Pl,{present:a||o.open,children:o.modal?l.jsx(dk,{...i,ref:n}):l.jsx(fk,{...i,ref:n})})});e1.displayName=Is;var dk=A.forwardRef((e,n)=>{const r=rr(Is,e.__scopeDialog),a=A.useRef(null),i=Pr(n,r.contentRef,a);return A.useEffect(()=>{const o=a.current;if(o)return ek(o)},[]),l.jsx(t1,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Er(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Er(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0;(u.button===2||d)&&o.preventDefault()}),onFocusOutside:Er(e.onFocusOutside,o=>o.preventDefault())})}),fk=A.forwardRef((e,n)=>{const r=rr(Is,e.__scopeDialog),a=A.useRef(!1),i=A.useRef(!1);return l.jsx(t1,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(a.current||r.triggerRef.current?.focus(),o.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=o.target;r.triggerRef.current?.contains(u)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),t1=A.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...u}=e,d=rr(Is,r),h=A.useRef(null),x=Pr(n,h);return pS(),l.jsxs(l.Fragment,{children:[l.jsx(Ix,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:l.jsx(Px,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":mf(d.open),...u,ref:x,onDismiss:()=>d.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(pk,{titleId:d.titleId}),l.jsx(gk,{contentRef:h,descriptionId:d.descriptionId})]})]})}),pf="DialogTitle",n1=A.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,i=rr(pf,r);return l.jsx(Mr.h2,{id:i.titleId,...a,ref:n})});n1.displayName=pf;var r1="DialogDescription",s1=A.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,i=rr(r1,r);return l.jsx(Mr.p,{id:i.descriptionId,...a,ref:n})});s1.displayName=r1;var a1="DialogClose",i1=A.forwardRef((e,n)=>{const{__scopeDialog:r,...a}=e,i=rr(a1,r);return l.jsx(Mr.button,{type:"button",...a,ref:n,onClick:Er(e.onClick,()=>i.onOpenChange(!1))})});i1.displayName=a1;function mf(e){return e?"open":"closed"}var o1="DialogTitleWarning",[hk,l1]=P5(o1,{contentName:Is,titleName:pf,docsSlug:"dialog"}),pk=({titleId:e})=>{const n=l1(o1),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},mk="DialogDescriptionWarning",gk=({contentRef:e,descriptionId:n})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${l1(mk).contentName}}.`;return A.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");n&&i&&(document.getElementById(n)||console.warn(a))},[a,e,n]),null},xk=Zx,vk=Yx,yk=Xx,bk=Jx,wk=e1,Sk=n1,kk=s1,c1=i1,Ck=Symbol("radix.slottable");function _k(e){const n=({children:r})=>l.jsx(l.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=Ck,n}var u1="AlertDialog",[Nk]=Tx(u1,[Gx]),Ir=Gx(),d1=e=>{const{__scopeAlertDialog:n,...r}=e,a=Ir(n);return l.jsx(xk,{...a,...r,modal:!0})};d1.displayName=u1;var jk="AlertDialogTrigger",Ek=A.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,i=Ir(r);return l.jsx(vk,{...i,...a,ref:n})});Ek.displayName=jk;var Ak="AlertDialogPortal",f1=e=>{const{__scopeAlertDialog:n,...r}=e,a=Ir(n);return l.jsx(yk,{...a,...r})};f1.displayName=Ak;var Tk="AlertDialogOverlay",h1=A.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,i=Ir(r);return l.jsx(bk,{...i,...a,ref:n})});h1.displayName=Tk;var Aa="AlertDialogContent",[Dk,Pk]=Nk(Aa),Mk=_k("AlertDialogContent"),p1=A.forwardRef((e,n)=>{const{__scopeAlertDialog:r,children:a,...i}=e,o=Ir(r),u=A.useRef(null),d=Pr(n,u),h=A.useRef(null);return l.jsx(hk,{contentName:Aa,titleName:m1,docsSlug:"alert-dialog",children:l.jsx(Dk,{scope:r,cancelRef:h,children:l.jsxs(wk,{role:"alertdialog",...o,...i,ref:d,onOpenAutoFocus:Er(i.onOpenAutoFocus,x=>{x.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:x=>x.preventDefault(),onInteractOutside:x=>x.preventDefault(),children:[l.jsx(Mk,{children:a}),l.jsx(Fk,{contentRef:u})]})})})});p1.displayName=Aa;var m1="AlertDialogTitle",g1=A.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,i=Ir(r);return l.jsx(Sk,{...i,...a,ref:n})});g1.displayName=m1;var x1="AlertDialogDescription",v1=A.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,i=Ir(r);return l.jsx(kk,{...i,...a,ref:n})});v1.displayName=x1;var Ik="AlertDialogAction",y1=A.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,i=Ir(r);return l.jsx(c1,{...i,...a,ref:n})});y1.displayName=Ik;var b1="AlertDialogCancel",Rk=A.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:i}=Pk(b1,r),o=Ir(r),u=Pr(n,i);return l.jsx(c1,{...o,...a,ref:u})});Rk.displayName=b1;var Fk=({contentRef:e})=>{const n=`\`${Aa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Aa}\` by passing a \`${x1}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Aa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},Ok=d1,zk=f1,Lk=h1,Bk=p1,Vk=y1,Uk=g1,Hk=v1;function w1(e){var n,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(r=w1(e[n]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function S1(){for(var e,n,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(n=w1(e))&&(a&&(a+=" "),a+=n);return a}const Wk=(e,n)=>{const r=new Array(e.length+n.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<n.length;a++)r[e.length+a]=n[a];return r},$k=(e,n)=>({classGroupId:e,validator:n}),k1=(e=new Map,n=null,r)=>({nextPart:e,validators:n,classGroupId:r}),wl="-",S0=[],Kk="arbitrary..",Gk=e=>{const n=qk(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Zk(u);const d=u.split(wl),h=d[0]===""&&d.length>1?1:0;return C1(d,h,n)},getConflictingClassGroupIds:(u,d)=>{if(d){const h=a[u],x=r[u];return h?x?Wk(x,h):h:x||S0}return r[u]||S0}}},C1=(e,n,r)=>{if(e.length-n===0)return r.classGroupId;const i=e[n],o=r.nextPart.get(i);if(o){const x=C1(e,n+1,o);if(x)return x}const u=r.validators;if(u===null)return;const d=n===0?e.join(wl):e.slice(n).join(wl),h=u.length;for(let x=0;x<h;x++){const f=u[x];if(f.validator(d))return f.classGroupId}},Zk=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=e.slice(1,-1),r=n.indexOf(":"),a=n.slice(0,r);return a?Kk+a:void 0})(),qk=e=>{const{theme:n,classGroups:r}=e;return Yk(r,n)},Yk=(e,n)=>{const r=k1();for(const a in e){const i=e[a];gf(i,r,a,n)}return r},gf=(e,n,r,a)=>{const i=e.length;for(let o=0;o<i;o++){const u=e[o];Qk(u,n,r,a)}},Qk=(e,n,r,a)=>{if(typeof e=="string"){Xk(e,n,r);return}if(typeof e=="function"){Jk(e,n,r,a);return}eC(e,n,r,a)},Xk=(e,n,r)=>{const a=e===""?n:_1(n,e);a.classGroupId=r},Jk=(e,n,r,a)=>{if(tC(e)){gf(e(a),n,r,a);return}n.validators===null&&(n.validators=[]),n.validators.push($k(r,e))},eC=(e,n,r,a)=>{const i=Object.entries(e),o=i.length;for(let u=0;u<o;u++){const[d,h]=i[u];gf(h,_1(n,d),r,a)}},_1=(e,n)=>{let r=e;const a=n.split(wl),i=a.length;for(let o=0;o<i;o++){const u=a[o];let d=r.nextPart.get(u);d||(d=k1(),r.nextPart.set(u,d)),r=d}return r},tC=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,nC=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=Object.create(null),a=Object.create(null);const i=(o,u)=>{r[o]=u,n++,n>e&&(n=0,a=r,r=Object.create(null))};return{get(o){let u=r[o];if(u!==void 0)return u;if((u=a[o])!==void 0)return i(o,u),u},set(o,u){o in r?r[o]=u:i(o,u)}}},wd="!",k0=":",rC=[],C0=(e,n,r,a,i)=>({modifiers:e,hasImportantModifier:n,baseClassName:r,maybePostfixModifierPosition:a,isExternal:i}),sC=e=>{const{prefix:n,experimentalParseClassName:r}=e;let a=i=>{const o=[];let u=0,d=0,h=0,x;const f=i.length;for(let y=0;y<f;y++){const C=i[y];if(u===0&&d===0){if(C===k0){o.push(i.slice(h,y)),h=y+1;continue}if(C==="/"){x=y;continue}}C==="["?u++:C==="]"?u--:C==="("?d++:C===")"&&d--}const p=o.length===0?i:i.slice(h);let g=p,v=!1;p.endsWith(wd)?(g=p.slice(0,-1),v=!0):p.startsWith(wd)&&(g=p.slice(1),v=!0);const w=x&&x>h?x-h:void 0;return C0(o,v,g,w)};if(n){const i=n+k0,o=a;a=u=>u.startsWith(i)?o(u.slice(i.length)):C0(rC,!1,u,void 0,!0)}if(r){const i=a;a=o=>r({className:o,parseClassName:i})}return a},aC=e=>{const n=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{n.set(r,1e6+a)}),r=>{const a=[];let i=[];for(let o=0;o<r.length;o++){const u=r[o],d=u[0]==="[",h=n.has(u);d||h?(i.length>0&&(i.sort(),a.push(...i),i=[]),a.push(u)):i.push(u)}return i.length>0&&(i.sort(),a.push(...i)),a}},iC=e=>({cache:nC(e.cacheSize),parseClassName:sC(e),sortModifiers:aC(e),...Gk(e)}),oC=/\s+/,lC=(e,n)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:o}=n,u=[],d=e.trim().split(oC);let h="";for(let x=d.length-1;x>=0;x-=1){const f=d[x],{isExternal:p,modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}=r(f);if(p){h=f+(h.length>0?" "+h:h);continue}let C=!!y,k=a(C?w.substring(0,y):w);if(!k){if(!C){h=f+(h.length>0?" "+h:h);continue}if(k=a(w),!k){h=f+(h.length>0?" "+h:h);continue}C=!1}const j=g.length===0?"":g.length===1?g[0]:o(g).join(":"),T=v?j+wd:j,D=T+k;if(u.indexOf(D)>-1)continue;u.push(D);const M=i(k,C);for(let F=0;F<M.length;++F){const z=M[F];u.push(T+z)}h=f+(h.length>0?" "+h:h)}return h},cC=(...e)=>{let n=0,r,a,i="";for(;n<e.length;)(r=e[n++])&&(a=N1(r))&&(i&&(i+=" "),i+=a);return i},N1=e=>{if(typeof e=="string")return e;let n,r="";for(let a=0;a<e.length;a++)e[a]&&(n=N1(e[a]))&&(r&&(r+=" "),r+=n);return r},uC=(e,...n)=>{let r,a,i,o;const u=h=>{const x=n.reduce((f,p)=>p(f),e());return r=iC(x),a=r.cache.get,i=r.cache.set,o=d,d(h)},d=h=>{const x=a(h);if(x)return x;const f=lC(h,r);return i(h,f),f};return o=u,(...h)=>o(cC(...h))},dC=[],zt=e=>{const n=r=>r[e]||dC;return n.isThemeGetter=!0,n},j1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,E1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fC=/^\d+\/\d+$/,hC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ya=e=>fC.test(e),Je=e=>!!e&&!Number.isNaN(Number(e)),Qr=e=>!!e&&Number.isInteger(Number(e)),Gu=e=>e.endsWith("%")&&Je(e.slice(0,-1)),Nr=e=>hC.test(e),vC=()=>!0,yC=e=>pC.test(e)&&!mC.test(e),A1=()=>!1,bC=e=>gC.test(e),wC=e=>xC.test(e),SC=e=>!Fe(e)&&!Oe(e),kC=e=>Fa(e,P1,A1),Fe=e=>j1.test(e),js=e=>Fa(e,M1,yC),Zu=e=>Fa(e,EC,Je),_0=e=>Fa(e,T1,A1),CC=e=>Fa(e,D1,wC),rl=e=>Fa(e,I1,bC),Oe=e=>E1.test(e),vi=e=>Oa(e,M1),_C=e=>Oa(e,AC),N0=e=>Oa(e,T1),NC=e=>Oa(e,P1),jC=e=>Oa(e,D1),sl=e=>Oa(e,I1,!0),Fa=(e,n,r)=>{const a=j1.exec(e);return a?a[1]?n(a[1]):r(a[2]):!1},Oa=(e,n,r=!1)=>{const a=E1.exec(e);return a?a[1]?n(a[1]):r:!1},T1=e=>e==="position"||e==="percentage",D1=e=>e==="image"||e==="url",P1=e=>e==="length"||e==="size"||e==="bg-size",M1=e=>e==="length",EC=e=>e==="number",AC=e=>e==="family-name",I1=e=>e==="shadow",TC=()=>{const e=zt("color"),n=zt("font"),r=zt("text"),a=zt("font-weight"),i=zt("tracking"),o=zt("leading"),u=zt("breakpoint"),d=zt("container"),h=zt("spacing"),x=zt("radius"),f=zt("shadow"),p=zt("inset-shadow"),g=zt("text-shadow"),v=zt("drop-shadow"),w=zt("blur"),y=zt("perspective"),C=zt("aspect"),k=zt("ease"),j=zt("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...D(),Oe,Fe],F=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],N=()=>[Oe,Fe,h],P=()=>[ya,"full","auto",...N()],H=()=>[Qr,"none","subgrid",Oe,Fe],Z=()=>["auto",{span:["full",Qr,Oe,Fe]},Qr,Oe,Fe],E=()=>[Qr,"auto",Oe,Fe],L=()=>["auto","min","max","fr",Oe,Fe],S=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...N()],I=()=>[ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],$=()=>[e,Oe,Fe],W=()=>[...D(),N0,_0,{position:[Oe,Fe]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",NC,kC,{size:[Oe,Fe]}],B=()=>[Gu,vi,js],te=()=>["","none","full",x,Oe,Fe],X=()=>["",Je,vi,js],G=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Je,Gu,N0,_0],oe=()=>["","none",w,Oe,Fe],me=()=>["none",Je,Oe,Fe],je=()=>["none",Je,Oe,Fe],Pe=()=>[Je,Oe,Fe],Ue=()=>[ya,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nr],breakpoint:[Nr],color:[vC],container:[Nr],"drop-shadow":[Nr],ease:["in","out","in-out"],font:[SC],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nr],shadow:[Nr],spacing:["px",Je],text:[Nr],"text-shadow":[Nr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ya,Fe,Oe,C]}],container:["container"],columns:[{columns:[Je,Fe,Oe,d]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Qr,"auto",Oe,Fe]}],basis:[{basis:[ya,"full","auto",d,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,ya,"auto","initial","none",Fe]}],grow:[{grow:["",Je,Oe,Fe]}],shrink:[{shrink:["",Je,Oe,Fe]}],order:[{order:[Qr,"first","last","none",Oe,Fe]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...S(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...S()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":S()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[d,"screen",...I()]}],"min-w":[{"min-w":[d,"screen","none",...I()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",r,vi,js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Oe,Zu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gu,Fe]}],"font-family":[{font:[_C,Fe,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Oe,Fe]}],"line-clamp":[{"line-clamp":[Je,"none",Oe,Zu]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",Oe,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Oe,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Oe,js]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Je,"auto",Oe,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qr,Oe,Fe],radial:["",Oe,Fe],conic:[Qr,Oe,Fe]},jC,CC]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Oe,Fe]}],"outline-w":[{outline:["",Je,vi,js]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",f,sl,rl]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",p,sl,rl]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Je,js]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",g,sl,rl]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Je,Oe,Fe]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Oe,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Oe,Fe]}],filter:[{filter:["","none",Oe,Fe]}],blur:[{blur:oe()}],brightness:[{brightness:[Je,Oe,Fe]}],contrast:[{contrast:[Je,Oe,Fe]}],"drop-shadow":[{"drop-shadow":["","none",v,sl,rl]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Je,Oe,Fe]}],"hue-rotate":[{"hue-rotate":[Je,Oe,Fe]}],invert:[{invert:["",Je,Oe,Fe]}],saturate:[{saturate:[Je,Oe,Fe]}],sepia:[{sepia:["",Je,Oe,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Oe,Fe]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Oe,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Oe,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Oe,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Oe,Fe]}],"backdrop-invert":[{"backdrop-invert":["",Je,Oe,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Oe,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Oe,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Oe,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Oe,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Oe,Fe]}],ease:[{ease:["linear","initial",k,Oe,Fe]}],delay:[{delay:[Je,Oe,Fe]}],animate:[{animate:["none",j,Oe,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Oe,Fe]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Oe,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe,Fe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Je,vi,js,Zu]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DC=uC(TC);function Fi(...e){return DC(S1(e))}const j0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,E0=S1,PC=(e,n)=>r=>{var a;if(n?.variants==null)return E0(e,r?.class,r?.className);const{variants:i,defaultVariants:o}=n,u=Object.keys(i).map(x=>{const f=r?.[x],p=o?.[x];if(f===null)return null;const g=j0(f)||j0(p);return i[x][g]}),d=r&&Object.entries(r).reduce((x,f)=>{let[p,g]=f;return g===void 0||(x[p]=g),x},{}),h=n==null||(a=n.compoundVariants)===null||a===void 0?void 0:a.reduce((x,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(w=>{let[y,C]=w;return Array.isArray(C)?C.includes({...o,...d}[y]):{...o,...d}[y]===C})?[...x,p,g]:x},[]);return E0(e,u,h,r?.class,r?.className)},MC=PC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function IC({...e}){return l.jsx(Ok,{"data-slot":"alert-dialog",...e})}function RC({...e}){return l.jsx(zk,{"data-slot":"alert-dialog-portal",...e})}const R1=A.forwardRef(({className:e,...n},r)=>l.jsx(Lk,{ref:r,"data-slot":"alert-dialog-overlay",className:Fi("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...n}));R1.displayName="AlertDialogOverlay";function FC({className:e,...n}){return l.jsxs(RC,{children:[l.jsx(R1,{}),l.jsx(Bk,{"data-slot":"alert-dialog-content",className:Fi("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n})]})}function OC({className:e,...n}){return l.jsx(Uk,{"data-slot":"alert-dialog-title",className:Fi("text-lg font-semibold",e),...n})}function zC({className:e,...n}){return l.jsx(Hk,{"data-slot":"alert-dialog-description",className:Fi("text-muted-foreground text-sm",e),...n})}function LC({className:e,...n}){return l.jsx(Vk,{className:Fi(MC(),e),...n})}const Sl="ToukenRanbuDB",BC=7,ue={USER_DATA:"userData",CHARACTERS:"characters",CHATS:"chats",CHAT_MESSAGES:"chatMessages",CHAT_SETTINGS:"chatSettings",WORLD_BOOKS:"worldBooks",API_SETTINGS:"apiSettings",APPEARANCE:"appearance",MISC:"misc",STICKERS:"stickers",BUBBLE_PRESETS:"bubblePresets",AI_TASKS:"aiTasks"};let VC=class{db=null;async init(){return new Promise((n,r)=>{const a=indexedDB.open(Sl,BC);a.onerror=()=>{console.error("Failed to open IndexedDB:",a.error),r(new Error("Failed to open database"))},a.onsuccess=()=>{this.db=a.result;const i=Object.values(ue),o=i.filter(u=>!this.db.objectStoreNames.contains(u));if(o.length>0){console.error("Missing object stores:",o),console.log("Available stores:",Array.from(this.db.objectStoreNames)),console.log("Required stores:",i),this.db.close();const u=indexedDB.deleteDatabase(Sl);u.onsuccess=()=>{console.log("Database deleted, reinitializing..."),this.init().then(n).catch(r)},u.onerror=()=>{r(new Error("Failed to recreate database"))};return}console.log("IndexedDB initialized successfully with stores:",Array.from(this.db.objectStoreNames)),n()},a.onupgradeneeded=i=>{const o=i.target.result;console.log("Database upgrade needed from version",i.oldVersion,"to",i.newVersion),o.objectStoreNames.contains(ue.USER_DATA)||(o.createObjectStore(ue.USER_DATA),console.log("Created store:",ue.USER_DATA)),o.objectStoreNames.contains(ue.CHARACTERS)||(o.createObjectStore(ue.CHARACTERS),console.log("Created store:",ue.CHARACTERS)),o.objectStoreNames.contains(ue.CHATS)||(o.createObjectStore(ue.CHATS),console.log("Created store:",ue.CHATS)),o.objectStoreNames.contains(ue.CHAT_MESSAGES)||(o.createObjectStore(ue.CHAT_MESSAGES),console.log("Created store:",ue.CHAT_MESSAGES)),o.objectStoreNames.contains(ue.CHAT_SETTINGS)||(o.createObjectStore(ue.CHAT_SETTINGS),console.log("Created store:",ue.CHAT_SETTINGS)),o.objectStoreNames.contains(ue.WORLD_BOOKS)||(o.createObjectStore(ue.WORLD_BOOKS),console.log("Created store:",ue.WORLD_BOOKS)),o.objectStoreNames.contains(ue.API_SETTINGS)||(o.createObjectStore(ue.API_SETTINGS),console.log("Created store:",ue.API_SETTINGS)),o.objectStoreNames.contains(ue.APPEARANCE)||(o.createObjectStore(ue.APPEARANCE),console.log("Created store:",ue.APPEARANCE)),o.objectStoreNames.contains(ue.MISC)||(o.createObjectStore(ue.MISC),console.log("Created store:",ue.MISC)),o.objectStoreNames.contains(ue.STICKERS)||(o.createObjectStore(ue.STICKERS),console.log("Created store:",ue.STICKERS)),o.objectStoreNames.contains(ue.BUBBLE_PRESETS)||(o.createObjectStore(ue.BUBBLE_PRESETS),console.log("Created store:",ue.BUBBLE_PRESETS)),o.objectStoreNames.contains(ue.AI_TASKS)||(o.createObjectStore(ue.AI_TASKS),console.log("Created store:",ue.AI_TASKS))}})}validateStore(n){if(!this.db)throw new Error("Database not initialized");if(!this.db.objectStoreNames.contains(n))throw new Error(`Store "${n}" does not exist. Available stores: ${Array.from(this.db.objectStoreNames).join(", ")}`)}async get(n,r){return this.db||await this.init(),this.validateStore(n),new Promise((a,i)=>{try{const d=this.db.transaction(n,"readonly").objectStore(n).get(r);d.onsuccess=()=>{a(d.result||null)},d.onerror=()=>{i(new Error(`Failed to get data from ${n}: ${d.error}`))}}catch(o){i(o)}})}async set(n,r,a){return this.db||await this.init(),this.validateStore(n),new Promise((i,o)=>{try{const h=this.db.transaction(n,"readwrite").objectStore(n).put(a,r);h.onsuccess=()=>{i()},h.onerror=()=>{o(new Error(`Failed to set data in ${n}: ${h.error}`))}}catch(u){o(u)}})}async delete(n,r){return this.db||await this.init(),this.validateStore(n),new Promise((a,i)=>{try{const d=this.db.transaction(n,"readwrite").objectStore(n).delete(r);d.onsuccess=()=>{a()},d.onerror=()=>{i(new Error(`Failed to delete data from ${n}: ${d.error}`))}}catch(o){i(o)}})}async getAllKeys(n){return this.db||await this.init(),this.validateStore(n),new Promise((r,a)=>{try{const u=this.db.transaction(n,"readonly").objectStore(n).getAllKeys();u.onsuccess=()=>{r(u.result)},u.onerror=()=>{a(new Error(`Failed to get all keys from ${n}: ${u.error}`))}}catch(i){a(i)}})}async getAll(n){this.db||await this.init();const r=await this.getAllKeys(n),a={};for(const i of r){const o=await this.get(n,i);o!==null&&(a[i]=o)}return a}async clear(n){return this.db||await this.init(),this.validateStore(n),new Promise((r,a)=>{try{const u=this.db.transaction(n,"readwrite").objectStore(n).clear();u.onsuccess=()=>{r()},u.onerror=()=>{a(new Error(`Failed to clear ${n}: ${u.error}`))}}catch(i){a(i)}})}async clearAll(){this.db||await this.init();const n=Object.values(ue);for(const r of n)await this.clear(r)}async getStoreSize(n){const r=await this.getAll(n),a=JSON.stringify(r);return new Blob([a]).size}async exportAll(){this.db||await this.init();const n={},r=Object.values(ue);for(const a of r)n[a]=await this.getAll(a);return n}async importAll(n){this.db||await this.init();for(const[r,a]of Object.entries(n))if(Object.values(ue).includes(r)){await this.clear(r);for(const[i,o]of Object.entries(a))await this.set(r,i,o)}}async migrateFromLocalStorage(){if(!await this.get(ue.MISC,"migrated_from_localstorage")){console.log("localStorageIndexedDB...");try{const r=localStorage.getItem("userData");r&&await this.set(ue.USER_DATA,"userData",JSON.parse(r));const a=localStorage.getItem("user_description");a&&await this.set(ue.USER_DATA,"user_description",a);const i=localStorage.getItem("characters");i&&await this.set(ue.CHARACTERS,"characters",JSON.parse(i));const o=localStorage.getItem("chat_list");o&&await this.set(ue.CHATS,"chat_list",JSON.parse(o));for(let f=0;f<localStorage.length;f++){const p=localStorage.key(f);if(p&&p.startsWith("chat_messages_")){const g=localStorage.getItem(p);g&&await this.set(ue.CHAT_MESSAGES,p,JSON.parse(g))}}const u=localStorage.getItem("chat_settings");u&&await this.set(ue.CHAT_SETTINGS,"chat_settings",JSON.parse(u));for(let f=0;f<localStorage.length;f++){const p=localStorage.key(f);if(p&&p.startsWith("chat_detail_settings_")){const g=localStorage.getItem(p);g&&await this.set(ue.CHAT_SETTINGS,p,JSON.parse(g))}}const d=localStorage.getItem("world_books");d&&await this.set(ue.WORLD_BOOKS,"world_books",JSON.parse(d));for(let f=0;f<localStorage.length;f++){const p=localStorage.key(f);if(p&&p.startsWith("api_")){const g=localStorage.getItem(p);if(g)try{await this.set(ue.API_SETTINGS,p,JSON.parse(g))}catch{await this.set(ue.API_SETTINGS,p,g)}}}const h=localStorage.getItem("accent_color");h&&await this.set(ue.APPEARANCE,"accent_color",h);const x=localStorage.getItem("dark_mode");x&&await this.set(ue.APPEARANCE,"dark_mode",x);for(let f=0;f<localStorage.length;f++){const p=localStorage.key(f);if(p&&(p.startsWith("desktop")||p.startsWith("image_")||p.startsWith("customText")||p.includes("wallpaper")||p.includes("color")||p.includes("font")||p==="organizations")){const g=localStorage.getItem(p);if(g)try{await this.set(ue.MISC,p,JSON.parse(g))}catch{await this.set(ue.MISC,p,g)}}}await this.set(ue.MISC,"migrated_from_localstorage",!0),console.log("")}catch(r){throw console.error(":",r),r}}}};const be=new VC;async function UC(){console.log("=== Database Diagnosis ===");try{await be.init(),console.log(" Database initialized successfully");const e=be.db;if(e){const n=Array.from(e.objectStoreNames);console.log("Available stores:",n);const a=Object.values(ue).filter(o=>!n.includes(o));a.length>0?(console.error(" Missing stores:",a),console.log("Attempting to recreate database..."),e.close(),await new Promise((o,u)=>{const d=indexedDB.deleteDatabase(Sl);d.onsuccess=()=>{console.log("Database deleted successfully"),o()},d.onerror=()=>{console.error("Failed to delete database"),u(d.error)}}),await be.init(),console.log(" Database recreated successfully")):console.log(" All required stores are present"),await be.set(ue.MISC,"test_key","test_value"),await be.get(ue.MISC,"test_key")==="test_value"?(console.log(" Read/write operations working"),await be.delete(ue.MISC,"test_key")):console.error(" Read/write operations failed")}console.log("=== Diagnosis Complete ===")}catch(e){throw console.error(" Database diagnosis failed:",e),e}}typeof window<"u"&&(window.diagnoseDatabaseIssues=UC,window.clearDatabase=async()=>{const e=be.db;e&&e.close(),await new Promise(n=>{const r=indexedDB.deleteDatabase(Sl);r.onsuccess=()=>{console.log("Database cleared successfully. Please refresh the page."),n()}})});/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WC=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,a)=>a?a.toUpperCase():r.toLowerCase()),A0=e=>{const n=WC(e);return n.charAt(0).toUpperCase()+n.slice(1)},F1=(...e)=>e.filter((n,r,a)=>!!n&&n.trim()!==""&&a.indexOf(n)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=A.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:u,...d},h)=>A.createElement("svg",{ref:h,...$C,width:n,height:n,stroke:e,strokeWidth:a?Number(r)*24/Number(n):r,className:F1("lucide",i),...d},[...u.map(([x,f])=>A.createElement(x,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,n)=>{const r=A.forwardRef(({className:a,...i},o)=>A.createElement(KC,{ref:o,iconNode:n,className:F1(`lucide-${HC(A0(e))}`,`lucide-${e}`,a),...i}));return r.displayName=A0(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],O1=Ae("activity",GC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Sd=Ae("archive",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],YC=Ae("arrow-right",qC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],XC=Ae("arrow-up",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]],e_=Ae("battery",JC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],n_=Ae("book-open",t_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],s_=Ae("book",r_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],i_=Ae("bookmark",a_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],l_=Ae("box",o_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rl=Ae("calendar",c_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],xf=Ae("camera",u_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]],f_=Ae("castle",d_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hn=Ae("check",h_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kd=Ae("chevron-down",p_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fl=Ae("chevron-left",m_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z1=Ae("chevron-right",g_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L1=Ae("circle-alert",x_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],y_=Ae("circle-arrow-up",v_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],w_=Ae("copy",b_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],B1=Ae("database",S_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],C_=Ae("download",k_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],N_=Ae("ellipsis",__);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],vf=Ae("file-pen-line",j_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cd=Ae("file-text",E_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],T_=Ae("flag",A_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],P_=Ae("gift",D_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],V1=Ae("globe",M_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],R_=Ae("grid-3x3",I_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],O_=Ae("hard-drive",F_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],L_=Ae("house",z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Oi=Ae("image",B_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U_=Ae("info",V_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],W_=Ae("key",H_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],K_=Ae("layers",$_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],U1=Ae("layout-grid",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],T0=Ae("library",Z_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Y_=Ae("list",q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],X_=Ae("loader-circle",Q_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],D0=Ae("mail",J_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],t4=Ae("map-pin",e4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],P0=Ae("message-circle",n4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],s4=Ae("monitor",r4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],i4=Ae("moon",a4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],l4=Ae("palette",o4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],u4=Ae("pen-line",c4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],f4=Ae("pin",d4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zi=Ae("plus",h4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],M0=Ae("refresh-cw",p4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],g4=Ae("reply",m4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Li=Ae("save",x4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],y4=Ae("search",v4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],yf=Ae("server",b4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],H1=Ae("settings",w4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],k4=Ae("share",S4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_d=Ae("shield-check",C4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],N4=Ae("shield",_4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],E4=Ae("smartphone",j4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],T4=Ae("smile",A4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],P4=Ae("sparkles",D4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]],I4=Ae("stamp",M4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],F4=Ae("star",R4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],z4=Ae("sun",O4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],B4=Ae("swords",L4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],U4=Ae("tag",V4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],W1=Ae("terminal",H4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Dr=Ae("trash-2",W4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],K4=Ae("triangle-alert",$4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],bf=Ae("upload",G4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],q4=Ae("user-plus",Z4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jr=Ae("user",Y4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],X4=Ae("users",Q4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],e6=Ae("wifi",J4);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wt=Ae("x",t6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],r6=Ae("zap",n6);function s6({onLoginSuccess:e}){const[n,r]=A.useState({name:"",country:"",fortress:"",date:""}),[a,i]=A.useState(!1),[o,u]=A.useState(!1),d=()=>{if(!n.name||!n.country||!n.fortress||!n.date){u(!0);return}i(!0),setTimeout(async()=>{await be.set(ue.USER_DATA,"userData",n),e(n),i(!1)},2e3)};return l.jsxs("div",{className:"min-h-screen w-full bg-[#F2F0EB] flex flex-col items-center justify-center p-6 font-['Source_Han_Sans_CN_VF',sans-serif] relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-100/50 rounded-full blur-3xl pointer-events-none"}),l.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-gray-200/50 rounded-full blur-3xl pointer-events-none"}),l.jsxs(un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[l.jsxs("div",{className:"flex flex-col items-center mb-8",children:[l.jsx(un.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,delay:.2},className:"w-32 h-32 mb-6 drop-shadow-2xl",children:l.jsx("img",{alt:"Touken OS Logo",className:"w-full h-full object-contain",src:uf})}),l.jsxs("div",{className:"text-center space-y-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-[#2C2C2C] tracking-tight",children:""}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-mono text-[#8C8C89] uppercase tracking-widest bg-white/50 py-1 px-3 rounded-full border border-[#D6D3CC]",children:[l.jsx(_d,{className:"w-3 h-3"}),"Secure Connection"]})]})]}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] rounded-2xl overflow-hidden border border-white",children:[l.jsx("div",{className:"h-1.5 w-full bg-[#2C2C2C]"}),l.jsxs("div",{className:"p-8 space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"text-[10px] font-bold text-[#8C8C89] uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(jr,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"text",value:n.name,onChange:h=>r({...n,name:h.target.value}),placeholder:"",className:"w-full bg-[#F9F9F7] border-b-2 border-[#E5E5E5] px-3 py-2.5 text-sm font-medium text-[#2C2C2C] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-all rounded-t-md placeholder:text-[#BBB]"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"text-[10px] font-bold text-[#8C8C89] uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(t4,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"text",value:n.country,onChange:h=>r({...n,country:h.target.value}),placeholder:" (: )",className:"w-full bg-[#F9F9F7] border-b-2 border-[#E5E5E5] px-3 py-2.5 text-sm font-medium text-[#2C2C2C] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-all rounded-t-md placeholder:text-[#BBB]"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"text-[10px] font-bold text-[#8C8C89] uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(L_,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"text",value:n.fortress,onChange:h=>r({...n,fortress:h.target.value}),placeholder:"",className:"w-full bg-[#F9F9F7] border-b-2 border-[#E5E5E5] px-3 py-2.5 text-sm font-medium text-[#2C2C2C] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-all rounded-t-md placeholder:text-[#BBB]"})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsxs("label",{className:"text-[10px] font-bold text-[#8C8C89] uppercase tracking-wider flex items-center gap-1.5",children:[l.jsx(Rl,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"date",value:n.date,onChange:h=>r({...n,date:h.target.value}),className:"w-full bg-[#F9F9F7] border-b-2 border-[#E5E5E5] px-3 py-2.5 text-sm font-medium text-[#2C2C2C] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-all rounded-t-md placeholder:text-[#BBB] font-mono"})]})]}),l.jsx("button",{onClick:d,disabled:a,className:"w-full h-12 bg-[#2C2C2C] active:bg-black hover:bg-black text-white rounded-lg font-bold text-sm tracking-widest uppercase transition-all active:scale-[0.98] shadow-lg flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed group",children:a?l.jsxs(l.Fragment,{children:[l.jsx(X_,{className:"w-4 h-4 animate-spin"}),"Connecting..."]}):l.jsxs(l.Fragment,{children:["",l.jsx(YC,{className:"w-4 h-4 group-active:translate-x-1 group-hover:translate-x-1 transition-transform"})]})})]}),l.jsxs("div",{className:"px-8 py-4 bg-[#F9F9F7] border-t border-[#E5E5E5] flex justify-between items-center text-[10px] text-[#8C8C89] font-mono",children:[l.jsx("span",{children:"SYSTEM: ONLINE"}),l.jsx("span",{children:"VER: 1.0"})]})]})]}),l.jsx(IC,{open:o,onOpenChange:u,children:l.jsxs(FC,{className:"bg-[#F9F9F7] border border-[#D6D3CC] max-w-[320px] rounded-lg",children:[l.jsxs(OC,{className:"text-[#2C2C2C] font-bold flex items-center gap-2",children:[l.jsx(_d,{className:"w-5 h-5 text-[#B93636]"}),""]}),l.jsx(zC,{className:"text-[#5A5A55] text-xs",children:""}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsx(LC,{onClick:()=>u(!1),className:"bg-[#2C2C2C] text-white active:bg-black hover:bg-black text-xs font-bold px-4 h-8 rounded-md",children:""})})]})})]})}const I0={p15366300:"M94 47C94 72.9574 72.9574 94 47 94C21.0426 94 0 72.9574 0 47C0 21.0426 21.0426 0 47 0C72.9574 0 94 21.0426 94 47Z",p3086ef80:"M3.5 1.67073L0 5.77489e-08V4.04145L3.5 2.37073V1.67073ZM313.5 2.37073L317 4.04145V5.77489e-08L313.5 1.67073V2.37073ZM4.48585 2.02073V2.37073H7.47641V2.02073V1.67073H4.48585V2.02073ZM10.467 2.02073V2.37073H13.4575V2.02073V1.67073H10.467V2.02073ZM16.4481 2.02073V2.37073H19.4387V2.02073V1.67073H16.4481V2.02073ZM22.4292 2.02073V2.37073H25.4198V2.02073V1.67073H22.4292V2.02073ZM28.4104 2.02073V2.37073H31.4009V2.02073V1.67073H28.4104V2.02073ZM34.3915 2.02073V2.37073H37.3821V2.02073V1.67073H34.3915V2.02073ZM40.3726 2.02073V2.37073H43.3632V2.02073V1.67073H40.3726V2.02073ZM46.3538 2.02073V2.37073H49.3443V2.02073V1.67073H46.3538V2.02073ZM52.3349 2.02073V2.37073H55.3255V2.02073V1.67073H52.3349V2.02073ZM58.316 2.02073V2.37073H61.3066V2.02073V1.67073H58.316V2.02073ZM64.2972 2.02073V2.37073H67.2877V2.02073V1.67073H64.2972V2.02073ZM70.2783 2.02073V2.37073H73.2689V2.02073V1.67073H70.2783V2.02073ZM76.2594 2.02073V2.37073H79.25V2.02073V1.67073H76.2594V2.02073ZM82.2405 2.02073V2.37073H85.2311V2.02073V1.67073H82.2405V2.02073ZM88.2217 2.02073V2.37073H91.2122V2.02073V1.67073H88.2217V2.02073ZM94.2028 2.02073V2.37073H97.1934V2.02073V1.67073H94.2028V2.02073ZM100.184 2.02073V2.37073H103.174V2.02073V1.67073H100.184V2.02073ZM106.165 2.02073V2.37073H109.156V2.02073V1.67073H106.165V2.02073ZM112.146 2.02073V2.37073H115.137V2.02073V1.67073H112.146V2.02073ZM118.127 2.02073V2.37073H121.118V2.02073V1.67073H118.127V2.02073ZM124.108 2.02073V2.37073H127.099V2.02073V1.67073H124.108V2.02073ZM130.09 2.02073V2.37073H133.08V2.02073V1.67073H130.09V2.02073ZM136.071 2.02073V2.37073H139.061V2.02073V1.67073H136.071V2.02073ZM142.052 2.02073V2.37073H145.042V2.02073V1.67073H142.052V2.02073ZM148.033 2.02073V2.37073H151.024V2.02073V1.67073H148.033V2.02073ZM154.014 2.02073V2.37073H157.005V2.02073V1.67073H154.014V2.02073ZM159.995 2.02073V2.37073H162.986V2.02073V1.67073H159.995V2.02073ZM165.976 2.02073V2.37073H168.967V2.02073V1.67073H165.976V2.02073ZM171.958 2.02073V2.37073H174.948V2.02073V1.67073H171.958V2.02073ZM177.939 2.02073V2.37073H180.929V2.02073V1.67073H177.939V2.02073ZM183.92 2.02073V2.37073H186.91V2.02073V1.67073H183.92V2.02073ZM189.901 2.02073V2.37073H192.892V2.02073V1.67073H189.901V2.02073ZM195.882 2.02073V2.37073H198.873V2.02073V1.67073H195.882V2.02073ZM201.863 2.02073V2.37073H204.854V2.02073V1.67073H201.863V2.02073ZM207.844 2.02073V2.37073H210.835V2.02073V1.67073H207.844V2.02073ZM213.826 2.02073V2.37073H216.816V2.02073V1.67073H213.826V2.02073ZM219.807 2.02073V2.37073H222.797V2.02073V1.67073H219.807V2.02073ZM225.788 2.02073V2.37073H228.778V2.02073V1.67073H225.788V2.02073ZM231.769 2.02073V2.37073H234.76V2.02073V1.67073H231.769V2.02073ZM237.75 2.02073V2.37073H240.741V2.02073V1.67073H237.75V2.02073ZM243.731 2.02073V2.37073H246.722V2.02073V1.67073H243.731V2.02073ZM249.712 2.02073V2.37073H252.703V2.02073V1.67073H249.712V2.02073ZM255.693 2.02073V2.37073H258.684V2.02073V1.67073H255.693V2.02073ZM261.675 2.02073V2.37073H264.665V2.02073V1.67073H261.675V2.02073ZM267.656 2.02073V2.37073H270.646V2.02073V1.67073H267.656V2.02073ZM273.637 2.02073V2.37073H276.627V2.02073V1.67073H273.637V2.02073ZM279.618 2.02073V2.37073H282.609V2.02073V1.67073H279.618V2.02073ZM285.599 2.02073V2.37073H288.59V2.02073V1.67073H285.599V2.02073ZM291.58 2.02073V2.37073H294.571V2.02073V1.67073H291.58V2.02073ZM297.561 2.02073V2.37073H300.552V2.02073V1.67073H297.561V2.02073ZM303.543 2.02073V2.37073H306.533V2.02073V1.67073H303.543V2.02073ZM309.524 2.02073V2.37073H312.514V2.02073V1.67073H309.524V2.02073Z"},a6="/assets/8f74948c921008406168688e78dcbd91d8f4d681-x-mW1jEE.png",i6="/assets/a5993753075c329027b5d2cb65fd9ee64c4fcfce-D33ig08G.png",o6="/assets/bb6c57b71e6f8f321834896ce493dada3cf559c0-Yy02ktKg.png",l6="/assets/f2f6c119896a12e8176a39008632fd4e00350238-Cii0Sw53.png",c6={maxWidth:1024,maxHeight:1024,quality:.85,mimeType:"image/jpeg"};async function wf(e,n={}){const r={...c6,...n};return new Promise((a,i)=>{const o=new FileReader;o.onload=u=>{const d=new Image;d.onload=()=>{try{const h=document.createElement("canvas"),x=h.getContext("2d");if(!x){i(new Error("canvas"));return}let{width:f,height:p}=d;const g=r.maxWidth,v=r.maxHeight;if(f>g||p>v){const w=Math.min(g/f,v/p);f=Math.round(f*w),p=Math.round(p*w)}h.width=f,h.height=p,x.drawImage(d,0,0,f,p),h.toBlob(w=>{w?a(w):i(new Error(""))},r.mimeType,r.quality)}catch(h){i(h)}},d.onerror=()=>{i(new Error(""))},d.src=u.target?.result},o.onerror=()=>{i(new Error(""))},o.readAsDataURL(e)})}async function u6(e){return wf(e,{maxWidth:200,maxHeight:200,quality:.9,mimeType:"image/jpeg"})}function $1(e){const n=e.split(","),r=n[0].match(/:(.*?);/)?.[1]||"image/jpeg",a=atob(n[1]),i=new ArrayBuffer(a.length),o=new Uint8Array(i);for(let u=0;u<a.length;u++)o[u]=a.charCodeAt(u);return new Blob([i],{type:r})}const R0="DesktopImagesDB",pt="images",d6=3,An={AVATARS:"avatars",MEMES:"memes",CHAT_IMAGES:"chat_images",SYSTEM:"system"},hr=new Map;function f6(e){return e==="avatar"||e==="chat-avatar"||e.startsWith("character-avatar-")||e.startsWith("character-")&&e.endsWith("-avatar")?An.AVATARS:e==="profileBackground"||e==="desktop-wallpaper"||e==="chat-background"||e==="anniversary"||e.startsWith("desktop2_")?An.SYSTEM:e.startsWith("meme-")?An.MEMES:e.startsWith("chat-image-")?An.CHAT_IMAGES:An.SYSTEM}function ns(e,n){return e.includes("/")?e:`${f6(e)}/${e}`}function h6(e){const n=e.split("/");return n.length>1?n[1]:e}const $n=()=>new Promise((e,n)=>{const r=indexedDB.open(R0,d6);r.onerror=()=>{console.error("Failed to open image database:",r.error),n(r.error)},r.onsuccess=()=>{const a=r.result;if(!a.objectStoreNames.contains(pt)){console.error("Image store not found, recreating database..."),a.close();const i=indexedDB.deleteDatabase(R0);i.onsuccess=()=>{$n().then(e).catch(n)},i.onerror=()=>{n(new Error("Failed to recreate image database"))};return}e(a)},r.onupgradeneeded=a=>{const i=a.target.result;console.log("Image database upgrade needed from version",a.oldVersion,"to",a.newVersion),i.objectStoreNames.contains(pt)||(i.createObjectStore(pt),console.log("Created image store:",pt))}}),Wn=async(e,n)=>{try{const r=await $n();let a;return e==="avatar"||e.includes("avatar")?a=await u6(n):a=n,new Promise((i,o)=>{try{const h=r.transaction([pt],"readwrite").objectStore(pt).put(a,ns(e));h.onsuccess=()=>{r.close();const x=Rs(e,a);i(x)},h.onerror=()=>{console.error("Failed to save image:",h.error),r.close(),o(h.error)}}catch(u){console.error("Error in transaction:",u),r.close(),o(u)}})}catch(r){throw console.error("Failed to save image:",r),r}},dt=async e=>{try{if(hr.has(e))return hr.get(e);const n=await $n(),r=ns(e);return new Promise((a,i)=>{try{const u=n.transaction([pt],"readonly").objectStore(pt),d=u.get(r);d.onsuccess=()=>{let h=d.result;if(!h&&r!==e){const f=u.get(e);f.onsuccess=()=>{const p=f.result;if(n.close(),!p){a(null);return}if(console.log(`Migrating ${e} from old format to new format...`),g6(e,p).catch(console.error),typeof p=="string")a(p);else{const g=Rs(e,p);a(g)}},f.onerror=()=>{n.close(),a(null)};return}if(n.close(),!h){a(null);return}if(typeof h=="string"){m6(e,h).catch(console.error),a(h);return}const x=Rs(e,h);a(x)},d.onerror=()=>{console.error("Failed to get image:",d.error),n.close(),i(d.error)}}catch(o){console.error("Error in transaction:",o),n.close(),i(o)}})}catch(n){return console.error("Failed to get image:",n),null}};function Rs(e,n){hr.has(e)&&URL.revokeObjectURL(hr.get(e));const r=URL.createObjectURL(n);return hr.set(e,r),r}const p6=e=>{hr.has(e)&&(URL.revokeObjectURL(hr.get(e)),hr.delete(e))},Pa=async e=>{try{p6(e);const n=await $n();return new Promise((r,a)=>{try{const u=n.transaction([pt],"readwrite").objectStore(pt).delete(ns(e));u.onsuccess=()=>{n.close(),r()},u.onerror=()=>{console.error("Failed to delete image:",u.error),n.close(),a(u.error)}}catch(i){console.error("Error in transaction:",i),n.close(),a(i)}})}catch(n){throw console.error("Failed to delete image:",n),n}},F0=async(e,n)=>{try{const r=await $n(),a=ns(e),i=ns(n);return new Promise((o,u)=>{try{const h=r.transaction([pt],"readwrite").objectStore(pt),x=h.get(a);x.onsuccess=()=>{const f=x.result;if(!f){r.close(),o(null);return}const p=h.put(f,i);p.onsuccess=()=>{r.close();const g=Rs(n,f);o(g)},p.onerror=()=>{console.error("Failed to copy image:",p.error),r.close(),u(p.error)}},x.onerror=()=>{console.error("Failed to read source image:",x.error),r.close(),u(x.error)}}catch(d){console.error("Error in transaction:",d),r.close(),u(d)}})}catch(r){return console.error("Failed to copy image:",r),null}};async function m6(e,n){try{console.log(`Migrating ${e} from Base64 to Blob...`);const r=$1(n),a=await $n();return new Promise((i,o)=>{try{const h=a.transaction([pt],"readwrite").objectStore(pt).put(r,ns(e));h.onsuccess=()=>{a.close(),console.log(`Successfully migrated ${e} to Blob`),Rs(e,r),i()},h.onerror=()=>{console.error("Failed to migrate image:",h.error),a.close(),o(h.error)}}catch(u){console.error("Error in migration transaction:",u),a.close(),o(u)}})}catch(r){console.error("Failed to migrate Base64 to Blob:",r)}}async function g6(e,n){try{const r=await $n();return new Promise((a,i)=>{try{const d=r.transaction([pt],"readwrite").objectStore(pt).put(n,ns(e));d.onsuccess=()=>{r.close(),console.log(`Successfully migrated ${e} to new format`),n instanceof Blob&&Rs(e,n),a()},d.onerror=()=>{console.error("Failed to migrate image:",d.error),r.close(),i(d.error)}}catch(o){console.error("Error in migration transaction:",o),r.close(),i(o)}})}catch(r){console.error("Failed to migrate to new format:",r)}}const x6=()=>{hr.forEach(e=>URL.revokeObjectURL(e)),hr.clear()},v6=async()=>{try{x6();const e=await $n();return new Promise((n,r)=>{try{const o=e.transaction([pt],"readwrite").objectStore(pt).clear();o.onsuccess=()=>{e.close(),console.log("All images cleared successfully"),n()},o.onerror=()=>{console.error("Failed to clear all images:",o.error),e.close(),r(o.error)}}catch(a){console.error("Error in clear transaction:",a),e.close(),r(a)}})}catch(e){throw console.error("Failed to clear all images:",e),e}},y6=async()=>{try{const e=await $n(),n=await G1(),r={};for(const{originalKey:a,storageKey:i,category:o}of n)try{const h=e.transaction([pt],"readonly").objectStore(pt).get(i);await new Promise((x,f)=>{h.onsuccess=()=>{const p=h.result;p instanceof Blob?r[a]={blob:p,category:o}:typeof p=="string"&&(r[a]={blob:$1(p),category:o}),x()},h.onerror=f})}catch(u){console.error(`Failed to export image ${a}:`,u)}return e.close(),r}catch(e){return console.error("Failed to export all images with category:",e),{}}},b6=async e=>{try{const n=await $n();for(const[r,a]of Object.entries(e))try{await new Promise((i,o)=>{const h=n.transaction([pt],"readwrite").objectStore(pt).put(a,ns(r));h.onsuccess=()=>{Rs(r,a),i()},h.onerror=()=>{console.error(`Failed to import image ${r}:`,h.error),o(h.error)}})}catch(i){console.error(`Failed to process image ${r}:`,i)}n.close(),console.log(`Successfully imported ${Object.keys(e).length} images`)}catch(n){throw console.error("Failed to import images:",n),n}},K1=async()=>{try{const e=await $n();return new Promise((n,r)=>{try{const i=e.transaction([pt],"readonly").objectStore(pt),o=i.getAll(),u=i.getAllKeys();let d=[],h=[];o.onsuccess=()=>{d=o.result},u.onsuccess=()=>{h=u.result;const x={[An.AVATARS]:{count:0,size:0},[An.SYSTEM]:{count:0,size:0},[An.MEMES]:{count:0,size:0},[An.CHAT_IMAGES]:{count:0,size:0},uncategorized:{count:0,size:0}};h.forEach((p,g)=>{const v=String(p),w=d[g],y=w instanceof Blob?w.size:0;if(v.includes("/")){const C=v.split("/")[0];C in x?(x[C].count++,x[C].size+=y):(x.uncategorized.count++,x.uncategorized.size+=y)}else x.uncategorized.count++,x.uncategorized.size+=y});const f={};for(const[p,g]of Object.entries(x))f[p]={count:g.count,size:(g.size/1024).toFixed(2)};e.close(),n(f)},o.onerror=()=>{console.error("Failed to get all data:",o.error),e.close(),r(o.error)},u.onerror=()=>{console.error("Failed to get all keys:",u.error),e.close(),r(u.error)}}catch(a){console.error("Error in transaction:",a),e.close(),r(a)}})}catch(e){return console.error("Failed to get category stats:",e),{[An.AVATARS]:{count:0,size:"0.00"},[An.SYSTEM]:{count:0,size:"0.00"},[An.MEMES]:{count:0,size:"0.00"},[An.CHAT_IMAGES]:{count:0,size:"0.00"},uncategorized:{count:0,size:"0.00"}}}},G1=async()=>{try{const e=await $n();return new Promise((n,r)=>{try{const o=e.transaction([pt],"readonly").objectStore(pt).getAllKeys();o.onsuccess=()=>{e.close();const d=o.result.map(h=>{const x=String(h),f=x.split("/");return{originalKey:h6(x),storageKey:x,category:f.length>1?f[0]:"uncategorized"}});n(d)},o.onerror=()=>{console.error("Failed to list all images:",o.error),e.close(),r(o.error)}}catch(a){console.error("Error in transaction:",a),e.close(),r(a)}})}catch(e){return console.error("Failed to list all images:",e),[]}},$e={messages:{},chatSettingsDetail:{},userAvatar:void 0},w6=5e3,Nd=(e=!1)=>{$e.chatSettings=void 0,$e.userData=void 0,$e.characters=void 0,$e.lastUpdate=void 0,e&&($e.messages={},$e.chatSettingsDetail={},$e.userAvatar=void 0)},S6=()=>$e.lastUpdate?Date.now()-$e.lastUpdate<w6:!1,jd=(e,n)=>$e.chatSettingsDetail[e]?.remark||n,Z1=()=>$e.userAvatar,q1=e=>{$e.userAvatar=e};function k6({userData:e,colorMode:n,preloadedImages:r}){const[a,i]=A.useState(0),[o,u]=A.useState(r?.anniversary||null),d=A.useRef(null);A.useEffect(()=>{const f=()=>{try{const g=new Date(e.date);g.setHours(0,0,0,0);const v=new Date;v.setHours(0,0,0,0);const w=Math.abs(v.getTime()-g.getTime()),y=Math.floor(w/(1e3*60*60*24))-1;i(Math.max(0,y))}catch{console.log(""),i(365)}};f();const p=setInterval(f,1e3*60*60*24);return()=>clearInterval(p)},[e.date]),A.useEffect(()=>{(async()=>{const p=await dt("anniversary");p&&u(p)})()},[]);const h=()=>{d.current?.click()},x=async f=>{const p=f.target.files?.[0];if(p)try{const g=await Wn("anniversary",p);u(g)}catch(g){console.error(":",g)}};return l.jsxs("div",{className:"absolute left-[54.1%] w-[38.65%] aspect-square top-[52.9%]","data-name":"",children:[l.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:x,className:"hidden"}),l.jsx("div",{className:"absolute left-1/2 w-full aspect-square top-1/2 translate-x-[-50%] translate-y-[-50%] cursor-pointer hover:opacity-80 transition-opacity rounded-[24px] overflow-hidden",onClick:h,children:o?l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:o}):l.jsx("div",{className:"block w-full h-full",style:{backgroundColor:"#D5EAE3"}})}),l.jsxs("div",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[11.25%] leading-[normal] left-1/2 text-[clamp(14px,4vw,16px)] text-center top-[11.875%] translate-x-[-50%] w-[62.5%] pointer-events-none ${n==="dark"?"text-black":"text-white"}`,children:[l.jsx("p",{className:"mb-0",children:""}),l.jsx("p",{children:""})]}),l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Normal',sans-serif] font-[350] h-[14.375%] leading-[normal] left-1/2 text-[clamp(11px,3.25vw,13px)] text-center top-[28.125%] translate-x-[-50%] w-[31.25%] pointer-events-none ${n==="dark"?"text-black":"text-white"}`,children:""}),l.jsxs("p",{className:`absolute font-['Arial:Regular',sans-serif] h-[33.75%] leading-[normal] left-1/2 not-italic text-[0px] text-center top-[calc(50%-16.875%)] translate-x-[-50%] w-[72.5%] pointer-events-none ${n==="dark"?"text-black":"text-white"}`,children:[l.jsx("span",{className:"font-['Actor:Regular',sans-serif] text-[clamp(36px,12vw,48px)]",children:a}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal text-[clamp(11px,3.25vw,13px)]",children:""})]})]})}function C6({userData:e,onUserDataChange:n,colorMode:r,preloadedImages:a}){const[i,o]=A.useState(new Date),[u,d]=A.useState(30),[h,x]=A.useState(""),[f,p]=A.useState(!1),[g,v]=A.useState(a?.profileBackground||null),[w,y]=A.useState(()=>a?.avatar||Z1()||null),C=A.useRef(null),k=A.useRef(null);A.useEffect(()=>{const E=setInterval(()=>{o(new Date)},1e3);return()=>clearInterval(E)},[]),A.useEffect(()=>{(async()=>{if("getBattery"in navigator)try{const L=await navigator.getBattery();d(Math.round(L.level*100)),L.addEventListener("levelchange",()=>{d(Math.round(L.level*100))})}catch{console.log("")}})()},[]),A.useEffect(()=>{(async()=>{try{const L=await be.get(ue.MISC,"customText");L&&x(L);const S=await dt("profileBackground");S&&v(S);const K=await dt("avatar");K&&y(K)}catch(L){console.error("Failed to load settings:",L)}})()},[]);const j=E=>E.toLocaleTimeString("zh-CN",{hour12:!1}),T=E=>{const L=E.getMonth()+1,S=E.getDate(),U=["","","","","","",""][E.getDay()];return`${L}${S} ${U}`},D=()=>{p(!0)},M=async()=>{p(!1),await be.set(ue.MISC,"customText",h)},F=E=>{x(E.target.value)},z=Math.max(2,Math.round(u/100*28)),N=()=>{C.current?.click()},P=()=>{k.current?.click()},H=async E=>{const L=E.target.files?.[0];if(L)try{const S=await Wn("profileBackground",L);v(S)}catch(S){console.error(":",S)}},Z=async E=>{const L=E.target.files?.[0];if(L)try{const S=await Wn("avatar",L);y(S),window.dispatchEvent(new Event("avatarChanged")),q1(S)}catch(S){console.error(":",S)}};return l.jsxs("div",{className:"absolute h-[41.6%] left-1/2 top-[6.6%] translate-x-[-50%] w-[88.4%]","data-name":"1",children:[l.jsxs("div",{className:`relative backdrop-blur-[15px] backdrop-filter h-full rounded-[24px] shadow-[0px_0px_2px_0px_inset_#ffffff,0px_1px_1px_0px_inset_rgba(255,255,255,0.5)] w-full ${r==="dark"?"bg-[rgba(0,0,0,0.3)]":"bg-[rgba(255,255,255,0.5)]"}`,children:[l.jsx("div",{className:"absolute left-0 right-0 top-0 h-[49.7%] rounded-tl-[24px] rounded-tr-[24px] cursor-pointer hover:opacity-80 transition-opacity overflow-hidden",onClick:N,children:g?l.jsx("img",{alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-tl-[24px] rounded-tr-[24px]",src:g}):l.jsx("div",{className:"absolute inset-0 w-full h-full rounded-tl-[24px] rounded-tr-[24px]",style:{backgroundColor:"#D5EAE3"}})}),l.jsxs("div",{className:"absolute contents left-[1.37%] top-[39.43%]","data-name":"",children:[l.jsxs("div",{className:"flex items-center absolute left-[28.5%] top-[51%]",children:[l.jsx("p",{className:`text-[clamp(14px,4vw,16px)] mr-[6px] ${r==="dark"?"text-white":"text-black"}`,children:e.name}),l.jsx("div",{className:"flex-shrink-0","data-name":"",children:l.jsx("div",{className:"relative bg-[#609f60] h-[14px] rounded-[6px] px-[5px] flex items-center justify-center",children:l.jsx("p",{className:"text-[10px] text-white whitespace-nowrap",style:{fontFamily:"YShi NewHei T, sans-serif",fontWeight:"600"},children:""})})})]}),l.jsxs("p",{className:`absolute font-['Source_Han_Sans_Old_Style:Normal',sans-serif] h-[2.61%] leading-[normal] left-[28.5%] not-italic text-[clamp(12px,3.5vw,14px)] top-[58.5%] w-[68.03%] ${r==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:[e.country,"  ",e.fortress,"  ",e.date]}),l.jsx("div",{className:"absolute left-0 w-[25.68%] aspect-square top-[39.43%] cursor-pointer hover:opacity-80 transition-opacity","data-name":"",onClick:E=>{E.stopPropagation(),P()},children:w?l.jsx("img",{alt:"",className:"block w-full h-full object-cover rounded-full",src:w}):l.jsx("svg",{className:"block w-full h-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 94 94",children:l.jsx("path",{d:I0.p15366300,fill:r==="dark"?"rgba(0,0,0,0.5)":"white"})})})]}),l.jsx("div",{className:"absolute contents left-[5.19%] top-[66.5%]","data-name":"Group 1",children:l.jsxs("div",{className:"absolute flex items-center gap-[2.5%] left-[5.19%] top-[66.5%] w-[89.62%]",children:[l.jsxs("div",{className:`flex items-center rounded-[24px] px-[2.5%] py-[2.5%] gap-[8px] w-[59.5%] h-[46px] justify-end ${r==="dark"?"bg-[rgba(0,0,0,0.3)]":"bg-[rgba(255,255,255,0.5)]"}`,children:[l.jsxs("div",{className:`relative w-[68px] h-[28px] rounded-[8px] flex-shrink-0 ${r==="dark"?"bg-[rgba(0,0,0,0.3)]":"bg-[rgba(255,255,255,0.5)]"}`,children:[l.jsx("div",{className:`absolute left-[6px] top-[6px] w-[28px] h-[16px] rounded-[4px] ${r==="dark"?"bg-[rgba(255,255,255,0.2)]":"bg-[#d9d9d9]"}`,children:l.jsx("div",{className:`absolute left-0 top-0 h-full rounded-[4px] transition-all duration-300 ${r==="dark"?"bg-white":"bg-[#5c5c5c]"}`,style:{width:`${z}px`}})}),l.jsxs("p",{className:`absolute right-[4px] top-[6px] font-['Didact_Gothic:Regular',sans-serif] text-[12px] ${r==="dark"?"text-white":"text-[#5c5c5c]"}`,children:[u,"%"]})]}),l.jsxs("div",{className:"relative size-[28px] flex-shrink-0",children:[l.jsx("svg",{className:"block w-full h-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 28 28",children:l.jsx("circle",{cx:"14",cy:"14",fill:r==="dark"?"rgba(0,0,0,0.5)":"white",fillOpacity:"0.5",r:"14"})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("p",{className:`font-['Didact_Gothic:Regular','Noto_Sans_Symbols2:Regular',sans-serif] text-[20px] ${r==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:""})})]}),l.jsxs("div",{className:"relative size-[28px] flex-shrink-0",children:[l.jsx("svg",{className:"block w-full h-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 28 28",children:l.jsx("circle",{cx:"14",cy:"14",fill:r==="dark"?"rgba(0,0,0,0.5)":"white",fillOpacity:"0.5",r:"14"})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("p",{className:`font-['Arial','Noto_Sans_Symbols2:Regular',sans-serif] text-[20px] leading-[28px] ${r==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:""})})]}),l.jsxs("div",{className:"relative size-[28px] flex-shrink-0",children:[l.jsx("svg",{className:"block w-full h-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 28 28",children:l.jsx("circle",{cx:"14",cy:"14",fill:r==="dark"?"rgba(0,0,0,0.5)":"white",fillOpacity:"0.5",r:"14"})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("p",{className:`font-['Didact_Gothic:Regular','Noto_Sans_Symbols2:Regular',sans-serif] text-[20px] ${r==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:""})})]})]}),l.jsx("div",{className:`rounded-[24px] px-[3%] py-[2.5%] w-[38%] h-[46px] flex items-center justify-center ${r==="dark"?"bg-[rgba(0,0,0,0.5)]":"bg-[rgba(255,255,255,0.5)]"}`,children:l.jsx("p",{className:`font-['Bakbak_One:Regular',sans-serif] text-[clamp(20px,6.5vw,26px)] text-center whitespace-nowrap overflow-hidden ${r==="dark"?"text-white/50":"text-[#afafaf]"}`,children:j(i)})})]})}),l.jsxs("div",{className:"absolute left-[calc(50%+0.41%)] top-[83.03%] translate-x-[-50%] w-[86.61%]","data-name":"Group 3",children:[f?l.jsx("input",{type:"text",value:h,onChange:F,onBlur:M,autoFocus:!0,className:`w-full font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal text-[clamp(12px,3.5vw,14px)] text-center bg-transparent border-none outline-none ${r==="dark"?"text-white/70":"text-[#5c5c5c]"}`}):l.jsx("p",{onClick:D,className:`w-full font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal text-[clamp(12px,3.5vw,14px)] text-center cursor-pointer hover:opacity-70 transition-opacity mb-2 ${r==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:h}),l.jsx("div",{className:"w-full h-[1.31%]",children:l.jsx("svg",{className:"w-full h-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 317 5",children:l.jsx("path",{d:I0.p3086ef80,fill:r==="dark"?"rgba(255,255,255,0.7)":"#5C5C5C"})})})]}),l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Normal',sans-serif] font-[350] h-[6.27%] leading-[normal] left-[93.99%] text-[clamp(10px,3vw,12px)] text-right top-[92.43%] translate-x-[-100%] w-[28.42%] whitespace-pre-wrap ${r==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:T(i)})]}),l.jsx("input",{ref:C,type:"file",accept:"image/*",onChange:H,className:"hidden"}),l.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:Z,className:"hidden"})]})}function _6({userData:e,onUserDataChange:n,onChatClick:r,preloadedImages:a}){const[i,o]=A.useState("light"),[u,d]=A.useState({"desktop1-chat":a?.["system-icon-desktop1-chat"]||null,"desktop1-forum":a?.["system-icon-desktop1-forum"]||null,"desktop1-memory":a?.["system-icon-desktop1-memory"]||null,"desktop1-transfer":a?.["system-icon-desktop1-transfer"]||null});return A.useEffect(()=>{(async()=>{const g=await be.get(ue.APPEARANCE,"desktop_color_mode");o(g||"light")})(),(async()=>{const g={},v=["desktop1-chat","desktop1-forum","desktop1-memory","desktop1-transfer"];for(const w of v){const y=await dt(`system-icon-${w}`);y&&(g[w]=y)}d(g)})();const f=g=>{o(g.detail)},p=g=>{const v=g,{iconId:w,url:y}=v.detail;w.startsWith("desktop1-")&&d(C=>({...C,[w]:y}))};return window.addEventListener("colorModeChange",f),window.addEventListener("iconChange",p),()=>{window.removeEventListener("colorModeChange",f),window.removeEventListener("iconChange",p)}},[]),l.jsxs(l.Fragment,{children:[l.jsx(C6,{userData:e,onUserDataChange:n,colorMode:i}),l.jsxs("div",{className:"absolute contents left-[6.76%] top-[52.9%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%-35.51%)] text-[clamp(10px,3vw,12px)] text-center top-[60.54%] translate-x-[-50%] w-[13.04%] pointer-events-none ${i==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("button",{className:"absolute left-[6.76%] w-[14.98%] aspect-square top-[52.9%] cursor-pointer hover:opacity-80 active:opacity-60 transition-opacity overflow-hidden rounded-[18%]",onClick:r,children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover pointer-events-none",src:u["desktop1-chat"]||l6})})]}),l.jsxs("div",{className:"absolute contents left-[30.43%] top-[52.9%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%-11.84%)] text-[clamp(10px,3vw,12px)] text-center top-[60.54%] translate-x-[-50%] w-[13.04%] ${i==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("div",{className:"absolute left-[30.43%] w-[14.98%] aspect-square top-[52.9%] overflow-hidden rounded-[18%]",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:u["desktop1-forum"]||o6})})]}),l.jsxs("div",{className:"absolute contents left-[6.76%] top-[63.59%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%-35.51%)] text-[clamp(10px,3vw,12px)] text-center top-[71.2%] translate-x-[-50%] w-[13.04%] ${i==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("div",{className:"absolute left-[6.76%] w-[14.98%] aspect-square top-[63.59%] overflow-hidden rounded-[18%]",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:u["desktop1-memory"]||i6})})]}),l.jsxs("div",{className:"absolute contents left-[30.43%] top-[63.59%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%-11.84%)] text-[clamp(10px,3vw,12px)] text-center top-[71.2%] translate-x-[-50%] w-[13.04%] ${i==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("div",{className:"absolute left-[30.43%] w-[14.98%] aspect-square top-[63.59%] overflow-hidden rounded-[18%]",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:u["desktop1-transfer"]||a6})})]}),l.jsx(k6,{userData:e,colorMode:i})]})}const N6="/assets/2c4e24fb97d83db5e0d40da3356ff7df2f9fbf99-BUAfsKeI.png",j6="/assets/3b015cc5afccb7e9689502b97c0580e29782af83-CWB2UK3g.png",E6="/assets/d66caaf044e33e1487e4b0199ac46e1b563e30e2-C01H7kEO.png",A6="/assets/320f6f27a201a50ba3f60a7311ec793841dca491-CLzR-4Zh.png";function T6({preloadedImages:e}){const[n,r]=A.useState(new Date),[a,i]=A.useState(""),[o,u]=A.useState(""),[d,h]=A.useState(!1),[x,f]=A.useState(!1),[p,g]=A.useState(e?.desktop2_timeImage||null),[v,w]=A.useState(e?.desktop2_card1||null),[y,C]=A.useState(e?.desktop2_card2||null),[k,j]=A.useState(e?.desktop2_card3||null),[T,D]=A.useState(e?.desktop2_card4||null),[M,F]=A.useState("light"),[z,N]=A.useState({"desktop2-shop":e?.["system-icon-desktop2-shop"]||null,"desktop2-game":e?.["system-icon-desktop2-game"]||null,"desktop2-schedule":e?.["system-icon-desktop2-schedule"]||null,"desktop2-health":e?.["system-icon-desktop2-health"]||null}),P=A.useRef(null),H=[A.useRef(null),A.useRef(null),A.useRef(null),A.useRef(null)];A.useEffect(()=>{const B=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(B)},[]),A.useEffect(()=>{(async()=>{const G=await be.get(ue.MISC,"desktop2_customText1"),ee=await be.get(ue.MISC,"desktop2_customText2"),ne=await be.get(ue.APPEARANCE,"desktop_color_mode");G&&i(G),ee&&u(ee),F(ne||"light");const oe=await dt("desktop2_timeImage");oe&&g(oe);const me=await dt("desktop2_card1");me&&w(me);const je=await dt("desktop2_card2");je&&C(je);const Pe=await dt("desktop2_card3");Pe&&j(Pe);const Ue=await dt("desktop2_card4");Ue&&D(Ue);const nt={},R=["desktop2-shop","desktop2-game","desktop2-schedule","desktop2-health"];for(const fe of R){const ce=await dt(`system-icon-${fe}`);ce&&(nt[fe]=ce)}N(nt)})();const te=G=>{F(G.detail)},X=G=>{const ee=G,{iconId:ne,url:oe}=ee.detail;ne.startsWith("desktop2-")&&N(me=>({...me,[ne]:oe}))};return window.addEventListener("colorModeChange",te),window.addEventListener("iconChange",X),()=>{window.removeEventListener("colorModeChange",te),window.removeEventListener("iconChange",X)}},[]);const Z=B=>B.toLocaleTimeString("zh-CN",{hour12:!1,hour:"2-digit",minute:"2-digit"}),E=()=>{const B=n.getMonth()+1,te=n.getDate();return{month:B,day:te}},L=()=>["","","","","","",""][n.getDay()],S=()=>h(!0),K=()=>f(!0),U=async()=>{h(!1),await be.set(ue.MISC,"desktop2_customText1",a)},I=async()=>{f(!1),await be.set(ue.MISC,"desktop2_customText2",o)},$=()=>{P.current?.click()},W=B=>{H[B].current?.click()},Q=async B=>{const te=B.target.files?.[0];if(te)try{const X=await Wn("desktop2_timeImage",te);g(X)}catch(X){console.error(":",X)}},O=async(B,te)=>{const X=te.target.files?.[0];if(X)try{const G=await Wn(`desktop2_card${B+1}`,X);[w,C,j,D][B](G)}catch(G){console.error(":",G)}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"absolute h-[15%] left-1/2 top-[6.6%] translate-x-[-50%] w-[86%]","data-name":"",children:[l.jsx("div",{className:"absolute inset-0 rounded-[24px] cursor-pointer hover:opacity-80 transition-opacity",onClick:$,children:p?l.jsx("img",{alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-[24px]",src:p}):l.jsx("div",{className:"absolute inset-0 w-full h-full rounded-[24px]",style:{backgroundColor:"#D5EAE3"}})}),l.jsx("p",{className:`absolute font-['Braah_One:Regular',sans-serif] leading-[normal] left-1/2 top-1/2 text-[clamp(70px,12vh,120px)] text-center translate-x-[-50%] translate-y-[-50%] w-[87%] pointer-events-none ${M==="dark"?"text-[rgba(0,0,0,0.5)]":"text-[rgba(255,255,255,0.5)]"}`,children:Z(n)}),l.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:Q,className:"hidden"})]}),l.jsxs("div",{className:"absolute contents left-[6.76%] top-[26.3%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%-35.51%)] text-[clamp(10px,3vw,12px)] text-center top-[33.94%] translate-x-[-50%] w-[13.04%] ${M==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("div",{className:"absolute left-[6.76%] w-[14.98%] aspect-square top-[26.3%] overflow-hidden rounded-[18%]",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:z["desktop2-shop"]||N6})})]}),l.jsxs("div",{className:"absolute contents left-[30.43%] top-[26.3%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%-11.84%)] text-[clamp(10px,3vw,12px)] text-center top-[33.94%] translate-x-[-50%] w-[13.04%] ${M==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("div",{className:"absolute left-[30.43%] w-[14.98%] aspect-square top-[26.3%] overflow-hidden rounded-[18%]",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:z["desktop2-game"]||j6})})]}),l.jsxs("div",{className:"absolute contents left-[54.1%] top-[26.3%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%+11.84%)] text-[clamp(10px,3vw,12px)] text-center top-[33.94%] translate-x-[-50%] w-[13.04%] ${M==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("div",{className:"absolute left-[54.1%] w-[14.98%] aspect-square top-[26.3%] overflow-hidden rounded-[18%]",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:z["desktop2-schedule"]||E6})})]}),l.jsxs("div",{className:"absolute contents left-[77.78%] top-[26.3%]","data-name":"",children:[l.jsx("p",{className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[1.85%] leading-[normal] left-[calc(50%+35.51%)] text-[clamp(10px,3vw,12px)] text-center top-[33.94%] translate-x-[-50%] w-[13.04%] ${M==="dark"?"text-black":"text-white"}`,children:""}),l.jsx("div",{className:"absolute left-[77.78%] w-[14.98%] aspect-square top-[26.3%] overflow-hidden rounded-[18%]",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover",src:z["desktop2-health"]||A6})})]}),l.jsxs("div",{className:"absolute h-[38.04%] left-1/2 top-[38.64%] translate-x-[-50%] w-[86%]","data-name":"2",children:[l.jsx("div",{className:`absolute backdrop-blur-[15px] backdrop-filter inset-0 rounded-[24px] shadow-[0px_0px_2px_0px_inset_#ffffff,0px_1px_1px_0px_inset_rgba(255,255,255,0.5)] ${M==="dark"?"bg-[rgba(0,0,0,0.3)]":"bg-[rgba(255,255,255,0.5)]"}`}),l.jsx("div",{className:"absolute h-[62%] left-[7.3%] rounded-[26px] top-[32.86%] w-[19.66%] cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>W(0),children:v?l.jsx("img",{alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-[26px]",src:v}):l.jsx("div",{className:"absolute inset-0 w-full h-full rounded-[26px]",style:{backgroundColor:"#D5EAE3"}})}),l.jsx("div",{className:"absolute h-[62%] left-[29.21%] rounded-[26px] top-[33.14%] w-[19.66%] cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>W(1),children:y?l.jsx("img",{alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-[26px]",src:y}):l.jsx("div",{className:"absolute inset-0 w-full h-full rounded-[26px]",style:{backgroundColor:"#D5EAE3"}})}),l.jsx("div",{className:"absolute h-[62%] left-[51.12%] rounded-[26px] top-[32.86%] w-[19.66%] cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>W(2),children:k?l.jsx("img",{alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-[26px]",src:k}):l.jsx("div",{className:"absolute inset-0 w-full h-full rounded-[26px]",style:{backgroundColor:"#D5EAE3"}})}),l.jsx("div",{className:"absolute h-[62%] left-[73.03%] rounded-[26px] top-[32.86%] w-[19.66%] cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>W(3),children:T?l.jsx("img",{alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-[26px]",src:T}):l.jsx("div",{className:"absolute inset-0 w-full h-full rounded-[26px]",style:{backgroundColor:"#D5EAE3"}})}),l.jsxs("p",{className:`absolute font-['Bona_Nova:Regular',sans-serif] h-[22.29%] leading-[normal] left-[5.34%] not-italic top-0 w-[46.63%] ${M==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:[l.jsx("span",{className:"text-[clamp(48px,15vw,64px)]",children:E().month}),l.jsx("span",{className:"text-[clamp(36px,11.25vw,48px)]",children:"/"}),l.jsx("span",{className:"text-[clamp(48px,15vw,64px)]",children:E().day})]}),l.jsx("p",{className:"absolute font-['Bona_Nova:Bold','Noto_Sans_JP:Bold',sans-serif] h-[14.29%] leading-[normal] left-[6.18%] text-[clamp(18px,6vw,24px)] top-[21.3%] w-[44.66%] text-white",style:{fontVariationSettings:"'wght' 700",fontFamily:"YShi NewHei T, sans-serif",fontWeight:"bold"},children:L()}),d?l.jsx("input",{type:"text",value:a,onChange:B=>i(B.target.value),onBlur:U,autoFocus:!0,className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[7.43%] leading-[normal] left-[92.42%] text-[clamp(12px,4vw,16px)] text-right top-[12.29%] translate-x-[-100%] w-[40%] bg-transparent border-none outline-none ${M==="dark"?"text-white/70":"text-[#5c5c5c]"}`}):l.jsx("p",{onClick:S,className:`absolute font-['Source_Han_Sans_CN_VF:Regular',sans-serif] font-normal h-[7.43%] leading-[normal] left-[92.42%] text-[clamp(12px,4vw,16px)] text-right top-[12.29%] translate-x-[-100%] w-[40%] cursor-pointer hover:opacity-70 transition-opacity ${M==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:a}),x?l.jsx("input",{type:"text",value:o,onChange:B=>u(B.target.value),onBlur:I,autoFocus:!0,className:`absolute h-[7.43%] leading-[normal] left-[92.42%] text-[clamp(12px,4vw,16px)] text-right top-[22.57%] translate-x-[-100%] w-[80%] bg-transparent border-none outline-none ${M==="dark"?"text-white/70":"text-[#5c5c5c]"}`}):l.jsx("p",{onClick:K,className:`absolute h-[7.43%] leading-[normal] left-[92.42%] text-[clamp(12px,4vw,16px)] text-right top-[22.57%] translate-x-[-100%] w-[80%] cursor-pointer hover:opacity-70 transition-opacity ${M==="dark"?"text-white/70":"text-[#5c5c5c]"}`,children:o})]}),H.map((B,te)=>l.jsx("input",{ref:B,type:"file",accept:"image/*",onChange:X=>O(te,X),className:"hidden"},te))]})}const D6="/assets/c50f0278eb53f2dd6c95d7fda7f37649c4c89657-CgQEB29n.png",P6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAB8CAYAAACrHtS+AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAtYSURBVHgB7Z1bU1TZFcf/NNCAoNzEAS9DI14HFVCj5SURE52qTGoSTfKQ5Il8gJSmKu+j38B5SR51KqnUJBWjJsYxjpaIiDqo3ES50yAqdxoQ6KZvs9bhNDb0AWnYp+nus39Vm9Ocbuju8z9r7b3XXnvvGAjA6/Wm0eEUlUIqFipFVNLUIlkaVrXUqOVeTEyMFcskBktEFfkslWNUSiAJBSz8BSxD/KAF9xP6DKQFrySXqJwPVvigBCexz0EKHW6w6OcW++JFCU5CW+hwBdN1syT8sFI5vhhrN33oBSR2KR2qIcUOZyxUqkmrUx964YKCqy78IqQLjwRYoyuqZvMyr0tX//ALSCKReet1TcFV13AFkkimlET/au7JAMHVBhrX2dKNRzY2KsVzG3JagndguhEgiXxqSPBi/xOzGm1qvW2BJFooIk1ntcNmLFx15R3QEXoPpbicbkyMjGN4YJQeu+B2ueGmc/ycmDd6/14eDx09Hnj8HjPbijcjbW3wtZZzyomGR42wTziwVOLi45CUkoiU1GRkf7wO5iQzyBKhE+za8+j/25T39ntCtxY5X2j7uB1dTa/Q3tCJvlcDGOwZwpTdSaJ4SARVIAgSnPFO/1DuIa/v1PRNEBcXh7XZGUsS3DE5hcobVfQd+rFUTCYTTLEmxJvjkJqVim2Fm7H3eCFS167RQ3j+khwdPc+/KIKr1l0KwfDFfWcbR21FA+qpDJDIbM0rjdAbawl42ONQYe82SYbQ29mLlrp2lPzyKHmefD1EP0tafMlW7rPwEgiGxbY2vsKdr+/hbUcP3G4PJNqwF3rb0YsbF2+RtzuJ7fu2iBZ9xsp9jbYzEIiXXHhbvRVX/3Id3a1vpNiLZGRoDDf/egfdLW/EtWfeU8I/TKo7FxYn5w/a3mDFjUvfYmRwDJLgGBkcxcNvqpQ2j2BKeGibLbwEAuE66eHNpxjqHYYkeNhg2p5b8YqsXAd+wYIXQiDNz1rR1dgFydJxUJev7kEDHI4pCKaIBRfmzqccTrx43KR0tyTLo6upGwPdgxCMhQW3QBD2d5PofyP8QxqS8dEJdFIvRzBFQgXv6erHOEXQJMuH4xV8Pd0uoT2ctA9mvARDDwUQXGEQWIkWbP02CuUKrcfFCj4xNqlEkCRiYG/pmhJrQMIE5+6EfcKOFY5aRhVOZUBJrAGJE5yiazywIBGHy+lUBp5EItDCId25YDxur2JIIhFah0vCHym4wZCCGwwpuMGQghsMKbjBkIIbDCm4wZCCGwwpuMGQgmugQ8Zo2CAF18DWP4Ipe3QOBEnB5zA2PKakWNfef06DF9E3GBQHyQw89afq22q01LZj4O0gPspdh01bN+g50S/kSAv3QdV245NmPC2rU34d7hvBg+vfLWuWaDgiBcd0I22434ayyw9mJWG2kqU//v8T4WPSK4kUHDwF2IE7/yzHYM/s2TKcOVp1uxqtde2IFgwvOE90rC6rJ3feotkdGx+ZwO2vy5Vpz9GAoQVngbtbX+P+fx4qDbb56Hvdj/JrlQu+JlIwtODvqL6+f+0hJt8tPFOT6/Ca8no0V7ch0jGs4OzK71+tRPvzzkVF1ni+3N1/VWCo14ZIxrD98JfUBXtR1RRUcGXgzSAqyCNEcnauIQX3uDxoeNyoTMsNBmXudoMVsbGxiFQMKTgL51hiQIWXF+MSqch+uMGQghsMKbjBkIIbDCm4wZCCGwwpuMGQghsMKbjBkIIbDCm4wZCCGwwpuMEIm9Eyzv2OiY2hO3D+HHBl+xLv+5WNonlKkF6srOCkbWJSAjZuWY+NWzcg46M0xJrmdzpuEtrjdivZKlyUHYp0FN23FJlXeV+PcoO51Z2R+JzX7ZneKUmnz8Cb4CSuSoBIVkxw3sppz9ECFP9otzLDI55+jzFFwAwPr2+xSW9IVp0UfU1WRPBVq5Nw4OQ+HPrpfiQIvoN1J8a32VvMIndfDy9CLviajNU48ZsS7Dq0Q9m/SxJaQip4UkqSIvbuQzsjw31HISETnK254OAO7Ni3dUGxZcs7EJGzV0MmeFpWKg58WgxzYrzm8yw0T+uxDYzA6ZB7pjDx5nhk5mQo+5SKIiSC8x26+8gnWJuTqfn8+NgE6ioalNkdnOivWLnBDZ27Y0c/P4j1m3MgkpAInpq5BoVHCpQNVucy3GdTduNrqWmXy2+rmBPNOPyzA9h/Yi9dswjsluXtyqWgSnrAeZ5sf/sf99Bc0xZVc7CXA7dvCg5ux74fF1KsQvyEB937ReaEeOR9khvQZ2W3/fxRI5qfSbH9SUpOwv6fFCEhSZ/4hO6Cp6SnIDs3K+C8Y2IKVbeeKhuwS96TvSkLWRuzoBe6C55Jrjw1Y03Aed7ySm5qNxtu3G6gcQWOoeuF7oInpyYjNi6wLup40RWVy2ItB66/LTs36bpqlO6Cc3QNGoEWXg9NMhsTCZ22Lg16orvg3J80adyxjihd6XA5mOla6enOGd0F5x2HtaKl8QlmSGbjogasW+etPIUJzkaslbzA87C1dtdLSV0FyWxcTjdGh95BTwQKHgOTRuPMPunQ7Gdn566DZDZ8nV63vYGeiHPpZOFxGoKP0mCI1nJXOZZsoYMC0QAHo7j3oufyYEItPM4cOBJmGxwNWOGQSc1crSxcG4lZI3rS09kHW/8o9EJoo211WnLAWPfE6CT6XwcGWDinrfCHBTCbZePNnwkaOWyra9ctRiFU8Myc9IAVjtg9tdS2aY6EbdmTj21786Nqeerlwq30Z2W1ilfUIxlEqODpFEbViqp1NXbjbUdvwPmEJDOOnT6M/N15UnQ/+sgjVvz3Eezj4pfuFtrL55h5cmqSsjqxP+OjE6i+V49sy7oAD7B2fSY+Kz2Byv99B+vLLoxRt8QtQ67KIv05dL0OnNhHvR9xdilUcDNZbNb6tRjqmb08Jbumpmet2H14Jz7evnGWNfNjHiv/rPSkstcIu7LJcbvhM16YRLqe3K3ltG5RxHgFVxRllytQzstTalhp/i4LfvWHn2NVysJfQOYxvkd0TSc8tJpXkEuCavev2190ovxKJd21C69ezF9SFvFiM8IFz7Z8hM0FFs1GGEeSnlILtOxy5bTbloQc4YInJJqVDNX56h2n3Yknt6tx8293qK4flnnoIUZ4Hc7w0Gf51Uo8/uYJXPOM/nCAJmtDJoqP7cHWonykZ6UqPkx2zqbh66NHV1UXwRnuiv37z9fRVt+x4Os4dXl1RgoystKRQpE6vceDIwEWmrur2ykolZGdAZHoJjgzOjSGW3+/i8aqFrL0yN8vJJQo+W35Ofjdn34ttFumawIEzxQ9+dvj+MGnxViTniInEAaBMvWKvCQvgCASXS3ch9vlIWsfxcuqZnQ1vaIBAju10ifhdEirn4/E5ATs3L8NRz4/qAw0iYIF57FLfTPn/ODBAR5QcU65hN+90QMPNccpy6FoTc9a1n8mwblVZYHECFj59qmBxCgoglshMQo1LHgtJEahhutwbrANQ2IE8kzUwefB6zJIop0a0trqa/OXQRLtXOAfSuhLdevcPQtZf1wScvJmLFx16xcgiVYusdj8YCa4La08qsnzCT4Tt5NWHrWc84nNBAxfkaVX06EIkmjASmLn+Z/QisyfpmKDJNJhDY/PPRkguGr+f4Qk0vm9vyv3oTn2Ri+8RIdzkEQqXG9f1XpiwRQUqs+/gBQ+0mCxz8/35Adzjkj0U3S4CNldC3e4zj5LYn+10IsWlWRGolvocBcyUSJc4ZyG01p19lwWlT/D/0ht3p+DJJxgq2YXXrwYsZmg00hVa+e6vRSSlcIXJPtSDZgtmiXnDavCl1A5AxmoCRVlaglaaB9CEsX9xC/EtPgWyPp+OdjUwnWzVT1eW6rI/nwP7DSvuDGTUckAAAAASUVORK5CYII=",M6="/assets/d12fb0f5a7c98f7ca307964198d2d0075ea990ff-CuWkxAA1.png";function I6({onSettingsClick:e,onWorldBookClick:n,onCharacterClick:r}){const[a,i]=A.useState("light"),[o,u]=A.useState({"bottom-organization":null,"bottom-worldbook":null,"bottom-settings":null});return A.useEffect(()=>{(async()=>{const p=await be.get(ue.APPEARANCE,"desktop_color_mode");i(p||"light")})(),(async()=>{const p={},g=["bottom-organization","bottom-worldbook","bottom-settings"];for(const v of g){const w=await dt(`system-icon-${v}`);w&&(p[v]=w)}u(p)})();const x=p=>{i(p.detail)},f=p=>{const g=p,{iconId:v,url:w}=g.detail;v.startsWith("bottom-")&&u(y=>({...y,[v]:w}))};return window.addEventListener("colorModeChange",x),window.addEventListener("iconChange",f),()=>{window.removeEventListener("colorModeChange",x),window.removeEventListener("iconChange",f)}},[]),l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"absolute left-[13%] w-[14.98%] aspect-square top-[88%] cursor-pointer hover:opacity-80 active:opacity-60 transition-opacity overflow-hidden rounded-[18%]",onClick:r,"data-name":"",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover pointer-events-none",src:o["bottom-organization"]||M6})}),l.jsx("button",{className:"absolute left-[42.51%] w-[14.98%] aspect-square top-[88%] cursor-pointer hover:opacity-80 active:opacity-60 transition-opacity overflow-hidden rounded-[18%]",onClick:n,"data-name":"",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover pointer-events-none",src:o["bottom-worldbook"]||P6})}),l.jsx("button",{className:"absolute left-[72.02%] w-[14.98%] aspect-square top-[88%] cursor-pointer hover:opacity-80 active:opacity-60 transition-opacity overflow-hidden rounded-[18%]",onClick:e,"data-name":"",children:l.jsx("img",{alt:"",className:"block w-full h-full object-cover pointer-events-none",src:o["bottom-settings"]||D6})})]})}function R6({currentPage:e}){const[n,r]=A.useState("light");A.useEffect(()=>{(async()=>{const u=await be.get(ue.APPEARANCE,"desktop_color_mode")||"light";r(u)})();const o=u=>{r(u.detail)};return window.addEventListener("colorModeChange",o),()=>{window.removeEventListener("colorModeChange",o)}},[]);const a=n==="dark";return l.jsxs("div",{className:"absolute h-[20px] left-1/2 top-[82%] translate-x-[-50%] w-[56px]","data-name":"",children:[l.jsx("div",{className:"absolute inset-0 rounded-[12px]",style:{backgroundColor:a?"rgba(0, 0, 0, 0.3)":"rgba(255, 255, 255, 0.3)"}}),l.jsx("div",{className:"absolute left-[14px] size-[8px] top-[6px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 8 8",children:l.jsx("circle",{cx:"4",cy:"4",fill:a?"black":"white",fillOpacity:e===0?"0.7":"0.3",r:"4"})})}),l.jsx("div",{className:"absolute left-[34px] size-[8px] top-[6px]",children:l.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 8 8",children:l.jsx("circle",{cx:"4",cy:"4",fill:a?"black":"white",fillOpacity:e===1?"0.7":"0.3",r:"4"})})})]})}function F6({onNavigate:e,onClose:n}){const[r,a]=A.useState(new Date),[i,o]=A.useState(100),[u,d]=A.useState(!1);A.useEffect(()=>{const x=setInterval(()=>a(new Date),1e3);return()=>clearInterval(x)},[]),A.useEffect(()=>{(async()=>{try{const f=navigator;if(f.getBattery){const p=await f.getBattery(),g=()=>{o(Math.round(p.level*100)),d(p.charging)};return g(),p.addEventListener("levelchange",g),p.addEventListener("chargingchange",g),()=>{p.removeEventListener("levelchange",g),p.removeEventListener("chargingchange",g)}}}catch{console.log("Battery Status API not supported")}})()},[]);const h=[{id:"beautify",label:"",sub:"INTERFACE MOD",desc:"    ",icon:l4},{id:"api",label:"",sub:"NEURAL LINK",desc:"AI   ",icon:P4},{id:"data",label:"",sub:"DATA ARCHIVE",desc:"    ",icon:B1},{id:"disclaimer",label:"",sub:"SYSTEM INFO",desc:"    ",icon:U_}];return l.jsxs("div",{className:"fixed inset-0 bg-[#F0F2F5] z-50 overflow-hidden flex flex-col font-['Source_Han_Sans_CN_VF',sans-serif] text-slate-800",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.05]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-300 px-6 py-2 flex justify-between items-center text-[10px] font-bold tracking-widest text-slate-500 z-20 sticky top-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(e6,{className:"w-3 h-3",strokeWidth:2.5}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{children:[i,"%"]}),l.jsxs("div",{className:"relative",children:[l.jsx(e_,{className:`w-4 h-4 ${u?"text-green-600":"text-slate-500"}`,strokeWidth:2.5}),u&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(r6,{className:"w-2 h-2 text-green-600 fill-current"})})]})]})]}),l.jsxs("div",{className:"px-6 pt-6 pb-4 flex items-center gap-4 z-20",children:[l.jsx("button",{onClick:n,className:"w-10 h-10 bg-white border border-slate-300 flex items-center justify-center text-slate-700 active:bg-slate-800 active:text-white active:border-slate-800 hover:bg-slate-800 hover:text-white hover:border-slate-800 transition-colors",children:l.jsx(Fl,{className:"w-6 h-6",strokeWidth:2})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl font-black text-slate-800 tracking-tighter flex items-center gap-2",children:[" ",l.jsx("span",{className:"text-[10px] px-1.5 py-0.5 border border-slate-800 text-slate-800 font-mono font-medium rounded-sm",children:"CONFIG"})]}),l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-500 tracking-wider mt-1",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),l.jsxs("span",{children:["  ",r.toLocaleTimeString("zh-CN",{hour12:!1})]})]})]})]}),l.jsxs("div",{className:"mx-6 h-[1px] bg-slate-300 mb-6 flex justify-between items-center overflow-hidden",children:[l.jsx("div",{className:"w-1/3 h-full bg-slate-800"}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full"}),l.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full"})]})]}),l.jsxs("div",{className:"flex-1 px-6 pb-6 overflow-y-auto",children:[l.jsx("div",{className:"space-y-3",children:h.map((x,f)=>l.jsxs("button",{onClick:()=>e(x.id),className:"w-full bg-white border border-slate-300 p-0 flex items-stretch justify-between group active:border-slate-800 hover:border-slate-800 transition-colors relative overflow-hidden",children:[l.jsxs("div",{className:"absolute right-0 top-0 text-[60px] font-black text-slate-100 leading-none -translate-y-2 translate-x-4 pointer-events-none opacity-50 group-active:opacity-20 group-hover:opacity-20 transition-opacity",children:["0",f+1]}),l.jsxs("div",{className:"flex items-center gap-5 p-5 z-10",children:[l.jsx("div",{className:"w-12 h-12 bg-slate-100 border border-slate-200 flex items-center justify-center text-slate-600 group-active:bg-slate-800 group-active:text-white group-active:border-slate-800 group-hover:bg-slate-800 group-hover:text-white group-hover:border-slate-800 transition-colors duration-200",children:l.jsx(x.icon,{className:"w-6 h-6",strokeWidth:1.5})}),l.jsxs("div",{className:"text-left",children:[l.jsxs("div",{className:"flex items-baseline gap-2",children:[l.jsx("h3",{className:"text-base font-bold text-slate-800 group-active:text-blue-600 group-hover:text-blue-600 transition-colors",children:x.label}),l.jsx("span",{className:"text-[9px] font-bold text-slate-400 tracking-wider font-mono uppercase",children:x.sub})]}),l.jsx("p",{className:"text-xs text-slate-400 mt-1 font-medium tracking-wide",children:x.desc})]})]}),l.jsx("div",{className:"w-10 border-l border-slate-100 flex items-center justify-center bg-slate-50 group-active:bg-slate-100 group-hover:bg-slate-100 transition-colors",children:l.jsx(z1,{className:"w-5 h-5 text-slate-400 group-active:text-slate-800 group-hover:text-slate-800 transition-colors"})})]},x.id))}),l.jsxs("div",{className:"mt-10 border-t border-slate-300 pt-6",children:[l.jsxs("div",{className:"flex justify-between items-end opacity-60",children:[l.jsxs("div",{className:"text-[10px] font-bold tracking-widest space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yf,{className:"w-3 h-3"})," ",l.jsx("span",{children:": "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_d,{className:"w-3 h-3"})," ",l.jsx("span",{children:": "})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(O1,{className:"w-3 h-3"})," ",l.jsx("span",{children:": 12ms"})]})]}),l.jsx("div",{className:"text-right",children:l.jsx("div",{className:"w-12 h-12 border-2 border-slate-800 rounded-full flex items-center justify-center opacity-20",children:l.jsx("span",{className:"text-[10px] font-black",children:"OS"})})})]}),l.jsxs("div",{className:"mt-6 text-center",children:[l.jsx("div",{className:"inline-flex items-center justify-center px-3 py-1 border border-slate-800 bg-slate-800 text-white text-[10px] font-bold tracking-[0.2em] uppercase",children:" OS"}),l.jsx("p",{className:"text-[9px] text-slate-400 mt-2 font-mono tracking-widest",children:"TOUKEN RANBU ONLINE // CHIFU SYSTEM"})]})]})]})]})}function Ol({title:e,onBack:n,children:r,className:a=""}){return l.jsxs("div",{className:"fixed inset-0 bg-[#F0F2F5] z-50 overflow-hidden flex flex-col font-['Source_Han_Sans_CN_VF',sans-serif] text-slate-800",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.05]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsx("div",{className:"bg-white/90 backdrop-blur-sm border-b border-slate-300 sticky top-0 z-10 flex-shrink-0",children:l.jsxs("div",{className:"max-w-md mx-auto px-4 h-[60px] flex items-center justify-between relative",children:[l.jsxs("button",{onClick:n,className:"absolute left-4 p-2 -ml-2 flex items-center gap-1 text-slate-600 active:text-black active:bg-slate-100 hover:text-black hover:bg-slate-100 rounded-none border border-transparent active:border-slate-300 hover:border-slate-300 transition-colors",children:[l.jsx(Fl,{className:"w-5 h-5",strokeWidth:2}),l.jsx("span",{className:"text-xs font-bold tracking-wider",children:""})]}),l.jsxs("div",{className:"w-full text-center flex flex-col items-center justify-center pointer-events-none",children:[l.jsx("h1",{className:"text-sm font-bold tracking-[0.1em] text-slate-800 uppercase",children:e}),l.jsx("div",{className:"h-[2px] w-8 bg-slate-800 mt-1"})]}),l.jsx("div",{className:"absolute right-4 opacity-30",children:l.jsx(W1,{className:"w-5 h-5"})})]})}),l.jsx("div",{className:`flex-1 overflow-y-auto overscroll-contain ${a}`,children:l.jsx("div",{className:"max-w-md mx-auto min-h-full pb-10 pt-6 px-5",children:r})})]})}function O6({onBack:e}){const[n,r]=A.useState(""),[a,i]=A.useState(""),[o,u]=A.useState(""),[d,h]=A.useState(""),[x,f]=A.useState(.7),[p,g]=A.useState(!1),[v,w]=A.useState(!1),[y,C]=A.useState(!1),[k,j]=A.useState(null),[T,D]=A.useState(null),[M,F]=A.useState([]),[z,N]=A.useState(!1),[P,H]=A.useState(null),[Z,E]=A.useState([]),[L,S]=A.useState(0),[K,U]=A.useState(!1);A.useEffect(()=>{(async()=>{try{const G=await be.get(ue.API_SETTINGS,"api_configs");if(G){const ee=JSON.parse(G);E(ee);const ne=parseInt(await be.get(ue.API_SETTINGS,"current_config_index")||"0");S(ne),ee[ne]&&I(ee[ne])}}catch(G){console.error("Failed to load API settings:",G)}})()},[]);const I=X=>{r(X.name),u(X.baseUrl),i(X.apiKey),h(X.modelName),f(X.temperature)},$=()=>{const X={name:n||"",baseUrl:o,apiKey:a,modelName:d,temperature:x};let G=[...Z];const ee=G.findIndex(ne=>ne.name===X.name);ee>=0?(G[ee]=X,S(ee)):(G.push(X),S(G.length-1)),E(G),be.set(ue.API_SETTINGS,"api_configs",JSON.stringify(G)),be.set(ue.API_SETTINGS,"current_config_index",L.toString()),g(!0),setTimeout(()=>g(!1),2e3)},W=async X=>{S(X),await be.set(ue.API_SETTINGS,"current_config_index",X.toString()),I(Z[X]),U(!1)},Q=async()=>{if(!a||!o){D({success:!1,message:" Key/URL"});return}w(!0);try{const X=await fetch(`${o}/models`,{headers:{Authorization:`Bearer ${a}`}});if(X.ok){const G=await X.json();if(G.data&&G.data.length>0){const ee=G.data.map(ne=>ne.id);F(ee),!d&&ee.length>0&&h(ee[0]),D({success:!0,message:` ${ee.length} `}),setTimeout(()=>D(null),2e3)}else D({success:!1,message:""})}else D({success:!1,message:""})}catch{D({success:!1,message:""})}finally{w(!1)}},O=X=>{const G=Z.filter((ee,ne)=>ne!==X);if(E(G),be.set(ue.API_SETTINGS,"api_configs",JSON.stringify(G)),X===L)S(0),be.set(ue.API_SETTINGS,"current_config_index","0"),G.length>0?I(G[0]):(r(""),u(""),i(""),h(""),f(.7),F([]));else if(X<L){const ee=L-1;S(ee),be.set(ue.API_SETTINGS,"current_config_index",ee.toString())}H(null)},B=async()=>{if(!a||!o){j({success:!1,message:""});return}C(!0),j(null);try{const X=await fetch(`${o}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:d||"gpt-3.5-turbo",messages:[{role:"user",content:"test"}],temperature:x,max_tokens:10})});if(X.ok)j({success:!0,message:""});else{const G=await X.json().catch(()=>({})),ee=G.error?.message||G.message||`HTTP ${X.status}`;j({success:!1,message:`: ${ee}`})}}catch{j({success:!1,message:""})}finally{C(!1)}},te=()=>{const X=` ${Z.length+1}`;r(X),u(""),i(""),h(""),f(.7),S(-1),U(!1)};return l.jsx(Ol,{title:"",onBack:e,children:l.jsxs("div",{className:"space-y-6 text-slate-800",children:[l.jsx(nr,{children:(p||k||T)&&l.jsx(un.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-24 left-0 right-0 flex justify-center z-[60] pointer-events-none px-4",children:l.jsxs("div",{className:`
                   px-5 py-3 border-2 shadow-xl flex items-center gap-3 backdrop-blur-md text-sm font-bold tracking-wide
                   ${k?.success===!1||T?.success===!1?"bg-red-50 border-red-500 text-red-600":"bg-white border-slate-800 text-slate-800"}
                 `,children:[k?.success===!1||T?.success===!1?l.jsx(Wt,{className:"w-4 h-4",strokeWidth:3}):l.jsx(Hn,{className:"w-4 h-4",strokeWidth:3}),l.jsxs("span",{children:[p&&"",k&&k.message,T&&T.message]})]})})}),l.jsxs("div",{className:"relative z-30",children:[l.jsxs("div",{onClick:()=>U(!K),className:"w-full bg-white p-4 border-2 border-slate-200 border-slate-200 active:border-slate-800 hover:border-slate-800 flex items-center justify-between cursor-pointer transition-all",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 bg-slate-100 flex items-center justify-center text-slate-600",children:l.jsx(H1,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:""}),l.jsx("div",{className:"text-base font-bold text-slate-800 font-mono",children:L===-1?"NEW_PROFILE (UNSAVED)":Z[L]?.name||"UNNAMED"})]})]}),l.jsx(kd,{className:`w-5 h-5 text-slate-400 transition-transform ${K?"rotate-180":""}`})]}),l.jsx(nr,{children:K&&l.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-slate-800 shadow-[8px_8px_0px_rgba(0,0,0,0.1)] z-50 max-h-[300px] overflow-y-auto",children:[Z.map((X,G)=>l.jsxs("div",{className:`p-3 flex justify-between items-center cursor-pointer transition-colors border-b border-slate-100 ${G===L?"bg-slate-50":"active:bg-slate-50 hover:bg-slate-50"}`,onClick:()=>W(G),children:[l.jsxs("div",{children:[l.jsx("div",{className:`text-sm font-bold font-mono ${G===L?"text-blue-600":"text-slate-700"}`,children:X.name}),l.jsx("div",{className:"text-[10px] text-slate-400 truncate max-w-[200px] font-mono",children:X.baseUrl})]}),l.jsx("button",{onClick:ee=>{ee.stopPropagation(),H(G)},className:"p-2 text-slate-300 active:text-red-500 active:bg-red-50 hover:text-red-500 hover:bg-red-50 rounded-sm transition-colors",children:l.jsx(Dr,{className:"w-4 h-4"})})]},G)),l.jsxs("button",{onClick:te,className:"w-full p-3 text-center text-sm font-bold text-slate-600 active:bg-slate-100 hover:bg-slate-100 transition-colors flex items-center justify-center gap-2 uppercase tracking-wider",children:[l.jsx(zi,{className:"w-4 h-4"})," "]})]})})]}),l.jsxs("div",{className:"bg-white p-6 border border-slate-200 space-y-6 relative",children:[l.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 border-l-2 border-t-2 border-slate-300"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 border-r-2 border-b-2 border-slate-300"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:""}),l.jsx("input",{type:"text",value:n,onChange:X=>r(X.target.value),className:"w-full bg-slate-50 border border-slate-200 px-4 py-3 text-slate-800 font-bold focus:border-slate-800 focus:outline-none transition-all font-mono text-sm rounded-none",placeholder:"PROFILE_NAME"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[l.jsx(yf,{className:"w-3 h-3"}),"  (Base URL)"]}),l.jsx("input",{type:"text",value:o,onChange:X=>u(X.target.value),className:"w-full bg-slate-50 border border-slate-200 px-4 py-3 text-slate-800 font-medium focus:border-slate-800 focus:outline-none transition-all placeholder:text-slate-300 font-mono text-xs rounded-none",placeholder:"https://api.example.com/v1"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[l.jsx(W_,{className:"w-3 h-3"}),"  (API Key)"]}),l.jsx("input",{type:"password",value:a,onChange:X=>i(X.target.value),className:"w-full bg-slate-50 border border-slate-200 px-4 py-3 text-slate-800 font-medium focus:border-slate-800 focus:outline-none transition-all placeholder:text-slate-300 font-mono text-xs rounded-none",placeholder:"sk-..."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center px-1",children:[l.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(l_,{className:"w-3 h-3"})," "]}),l.jsxs("button",{onClick:Q,disabled:v,className:"text-[9px] font-bold border border-blue-200 text-blue-600 px-2 py-0.5 active:bg-blue-50 hover:bg-blue-50 transition-all flex items-center gap-1 disabled:opacity-50 uppercase",children:[l.jsx(M0,{className:`w-3 h-3 ${v?"animate-spin":""}`}),v?"SCANNING...":"AUTO SCAN"]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:d,onChange:X=>h(X.target.value),className:"w-full bg-slate-50 border border-slate-200 px-4 py-3 text-slate-800 font-medium focus:border-slate-800 focus:outline-none transition-all placeholder:text-slate-300 font-mono text-xs rounded-none",placeholder:"gpt-3.5-turbo"}),M.length>0&&l.jsx("button",{onClick:()=>N(!z),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-slate-400 hover:bg-slate-200 rounded-none transition-colors",children:l.jsx(kd,{className:"w-4 h-4"})}),l.jsx(nr,{children:z&&M.length>0&&l.jsx(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-800 shadow-lg z-40 max-h-[200px] overflow-y-auto",children:M.map((X,G)=>l.jsx("div",{onClick:()=>{h(X),N(!1)},className:"px-4 py-2 text-xs text-slate-700 active:bg-slate-100 hover:bg-slate-100 cursor-pointer border-b border-slate-100 font-mono last:border-0",children:X},G))})})]})]}),l.jsxs("div",{className:"space-y-4 pt-2",children:[l.jsxs("div",{className:"flex justify-between items-center px-1",children:[l.jsxs("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[l.jsx(O1,{className:"w-3 h-3"}),"  (Temperature)"]}),l.jsx("span",{className:"bg-slate-100 border border-slate-200 text-slate-600 px-2 py-0.5 text-xs font-bold font-mono",children:x.toFixed(1)})]}),l.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:x,onChange:X=>f(parseFloat(X.target.value)),className:"w-full h-1 bg-slate-200 rounded-none appearance-none cursor-pointer accent-slate-800 hover:accent-blue-600 transition-all"}),l.jsxs("div",{className:"flex justify-between text-[9px] text-slate-400 font-bold uppercase tracking-widest px-1",children:[l.jsx("span",{children:"PRECISE"}),l.jsx("span",{children:"CREATIVE"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[l.jsxs("button",{onClick:B,disabled:y,className:"col-span-1 py-3.5 border border-slate-300 bg-white text-slate-600 font-bold text-xs active:border-slate-800 active:text-slate-800 hover:border-slate-800 hover:text-slate-800 transition-all flex items-center justify-center gap-2 disabled:opacity-50 uppercase tracking-wider",children:[y?l.jsx(M0,{className:"w-3 h-3 animate-spin"}):l.jsx(N4,{className:"w-3 h-3"}),"TEST"]}),l.jsxs("button",{onClick:$,className:"col-span-2 py-3.5 bg-slate-800 text-white font-bold text-xs active:bg-slate-900 hover:bg-slate-900 transition-all flex items-center justify-center gap-2 shadow-lg shadow-slate-200 uppercase tracking-wider",children:[l.jsx(Li,{className:"w-3 h-3"}),""]})]}),l.jsx(nr,{children:P!==null&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] px-6",children:l.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white border-2 border-slate-800 p-6 w-full max-w-sm shadow-[8px_8px_0px_rgba(0,0,0,0.2)]",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-lg font-black text-slate-800 mb-2 uppercase tracking-tight",children:""}),l.jsxs("p",{className:"text-xs font-mono text-slate-500",children:['PROFILE: "',Z[P]?.name,'"']}),l.jsx("p",{className:"text-sm text-slate-500 mt-2",children:""})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>H(null),className:"flex-1 py-3 border border-slate-300 text-slate-600 font-bold text-xs active:bg-slate-50 hover:bg-slate-50 transition-colors uppercase tracking-wider",children:""}),l.jsx("button",{onClick:()=>O(P),className:"flex-1 py-3 bg-red-600 text-white font-bold text-xs active:bg-red-700 hover:bg-red-700 transition-colors shadow-lg shadow-red-200 uppercase tracking-wider",children:""})]})]})})})]})})}function z6(e,n){return n.forEach((function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach((function(a){if(a!=="default"&&!(a in e)){var i=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:function(){return r[a]}})}}))})),Object.freeze(e)}function Y1(e,n){return new Promise((function(r,a){let i;return L6(e).then((function(o){try{return i=o,r(new Blob([n.slice(0,2),i,n.slice(2)],{type:"image/jpeg"}))}catch(u){return a(u)}}),a)}))}const L6=e=>new Promise(((n,r)=>{const a=new FileReader;a.addEventListener("load",(({target:{result:i}})=>{const o=new DataView(i);let u=0;if(o.getUint16(u)!==65496)return r("not a valid JPEG");for(u+=2;;){const d=o.getUint16(u);if(d===65498)break;const h=o.getUint16(u+2);if(d===65505&&o.getUint32(u+4)===1165519206){const x=u+10;let f;switch(o.getUint16(x)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(x+2,f)!==42)return r("TIFF header contains invalid version");const p=o.getUint32(x+4,f),g=x+p+2+12*o.getUint16(x+p,f);for(let v=x+p+2;v<g;v+=12)if(o.getUint16(v,f)==274){if(o.getUint16(v+2,f)!==3)return r("Orientation data type is invalid");if(o.getUint32(v+4,f)!==1)return r("Orientation data count is invalid");o.setUint16(v+8,1,f);break}return n(i.slice(u,u+2+h))}u+=2+h}return n(new Blob)})),a.readAsArrayBuffer(e)}));var kl={},B6={get exports(){return kl},set exports(e){kl=e}};(function(e){var n,r,a={};B6.exports=a,a.parse=function(i,o){for(var u=a.bin.readUshort,d=a.bin.readUint,h=0,x={},f=new Uint8Array(i),p=f.length-4;d(f,p)!=101010256;)p--;h=p,h+=4;var g=u(f,h+=4);u(f,h+=2);var v=d(f,h+=2),w=d(f,h+=4);h+=4,h=w;for(var y=0;y<g;y++){d(f,h),h+=4,h+=4,h+=4,d(f,h+=4),v=d(f,h+=4);var C=d(f,h+=4),k=u(f,h+=4),j=u(f,h+2),T=u(f,h+4);h+=6;var D=d(f,h+=8);h+=4,h+=k+j+T,a._readLocal(f,D,x,v,C,o)}return x},a._readLocal=function(i,o,u,d,h,x){var f=a.bin.readUshort,p=a.bin.readUint;p(i,o),f(i,o+=4),f(i,o+=2);var g=f(i,o+=2);p(i,o+=2),p(i,o+=4),o+=4;var v=f(i,o+=8),w=f(i,o+=2);o+=2;var y=a.bin.readUTF8(i,o,v);if(o+=v,o+=w,x)u[y]={size:h,csize:d};else{var C=new Uint8Array(i.buffer,o);if(g==0)u[y]=new Uint8Array(C.buffer.slice(o,o+d));else{if(g!=8)throw"unknown compression method: "+g;var k=new Uint8Array(h);a.inflateRaw(C,k),u[y]=k}}},a.inflateRaw=function(i,o){return a.F.inflate(i,o)},a.inflate=function(i,o){return i[0],i[1],a.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},a.deflate=function(i,o){o==null&&(o={level:6});var u=0,d=new Uint8Array(50+Math.floor(1.1*i.length));d[u]=120,d[u+1]=156,u+=2,u=a.F.deflateRaw(i,d,u,o.level);var h=a.adler(i,0,i.length);return d[u+0]=h>>>24&255,d[u+1]=h>>>16&255,d[u+2]=h>>>8&255,d[u+3]=h>>>0&255,new Uint8Array(d.buffer,0,u+4)},a.deflateRaw=function(i,o){o==null&&(o={level:6});var u=new Uint8Array(50+Math.floor(1.1*i.length)),d=a.F.deflateRaw(i,u,d,o.level);return new Uint8Array(u.buffer,0,d)},a.encode=function(i,o){o==null&&(o=!1);var u=0,d=a.bin.writeUint,h=a.bin.writeUshort,x={};for(var f in i){var p=!a._noNeed(f)&&!o,g=i[f],v=a.crc.crc(g,0,g.length);x[f]={cpr:p,usize:g.length,crc:v,file:p?a.deflateRaw(g):g}}for(var f in x)u+=x[f].file.length+30+46+2*a.bin.sizeUTF8(f);u+=22;var w=new Uint8Array(u),y=0,C=[];for(var f in x){var k=x[f];C.push(y),y=a._writeHeader(w,y,f,k,0)}var j=0,T=y;for(var f in x)k=x[f],C.push(y),y=a._writeHeader(w,y,f,k,1,C[j++]);var D=y-T;return d(w,y,101010256),y+=4,h(w,y+=4,j),h(w,y+=2,j),d(w,y+=2,D),d(w,y+=4,T),y+=4,y+=2,w.buffer},a._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},a._writeHeader=function(i,o,u,d,h,x){var f=a.bin.writeUint,p=a.bin.writeUshort,g=d.file;return f(i,o,h==0?67324752:33639248),o+=4,h==1&&(o+=2),p(i,o,20),p(i,o+=2,0),p(i,o+=2,d.cpr?8:0),f(i,o+=2,0),f(i,o+=4,d.crc),f(i,o+=4,g.length),f(i,o+=4,d.usize),p(i,o+=4,a.bin.sizeUTF8(u)),p(i,o+=2,0),o+=2,h==1&&(o+=2,o+=2,f(i,o+=6,x),o+=4),o+=a.bin.writeUTF8(i,o,u),h==0&&(i.set(g,o),o+=g.length),o},a.crc={table:(function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var u=o,d=0;d<8;d++)1&u?u=3988292384^u>>>1:u>>>=1;i[o]=u}return i})(),update:function(i,o,u,d){for(var h=0;h<d;h++)i=a.crc.table[255&(i^o[u+h])]^i>>>8;return i},crc:function(i,o,u){return 4294967295^a.crc.update(4294967295,i,o,u)}},a.adler=function(i,o,u){for(var d=1,h=0,x=o,f=o+u;x<f;){for(var p=Math.min(x+5552,f);x<p;)h+=d+=i[x++];d%=65521,h%=65521}return h<<16|d},a.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,u){i[o]=255&u,i[o+1]=u>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,u){i[o]=255&u,i[o+1]=u>>8&255,i[o+2]=u>>16&255,i[o+3]=u>>24&255},readASCII:function(i,o,u){for(var d="",h=0;h<u;h++)d+=String.fromCharCode(i[o+h]);return d},writeASCII:function(i,o,u){for(var d=0;d<u.length;d++)i[o+d]=u.charCodeAt(d)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,u){for(var d,h="",x=0;x<u;x++)h+="%"+a.bin.pad(i[o+x].toString(16));try{d=decodeURIComponent(h)}catch{return a.bin.readASCII(i,o,u)}return d},writeUTF8:function(i,o,u){for(var d=u.length,h=0,x=0;x<d;x++){var f=u.charCodeAt(x);if((4294967168&f)==0)i[o+h]=f,h++;else if((4294965248&f)==0)i[o+h]=192|f>>6,i[o+h+1]=128|f>>0&63,h+=2;else if((4294901760&f)==0)i[o+h]=224|f>>12,i[o+h+1]=128|f>>6&63,i[o+h+2]=128|f>>0&63,h+=3;else{if((4292870144&f)!=0)throw"e";i[o+h]=240|f>>18,i[o+h+1]=128|f>>12&63,i[o+h+2]=128|f>>6&63,i[o+h+3]=128|f>>0&63,h+=4}}return h},sizeUTF8:function(i){for(var o=i.length,u=0,d=0;d<o;d++){var h=i.charCodeAt(d);if((4294967168&h)==0)u++;else if((4294965248&h)==0)u+=2;else if((4294901760&h)==0)u+=3;else{if((4292870144&h)!=0)throw"e";u+=4}}return u}},a.F={},a.F.deflateRaw=function(i,o,u,d){var h=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],x=a.F.U,f=a.F._goodIndex;a.F._hash;var p=a.F._putsE,g=0,v=u<<3,w=0,y=i.length;if(d==0){for(;g<y;)p(o,v,g+(Z=Math.min(65535,y-g))==y?1:0),v=a.F._copyExact(i,g,Z,o,v+8),g+=Z;return v>>>3}var C=x.lits,k=x.strt,j=x.prev,T=0,D=0,M=0,F=0,z=0,N=0;for(y>2&&(k[N=a.F._hash(i,0)]=0),g=0;g<y;g++){if(z=N,g+1<y-2){N=a.F._hash(i,g+1);var P=g+1&32767;j[P]=k[N],k[N]=P}if(w<=g){(T>14e3||D>26697)&&y-g>100&&(w<g&&(C[T]=g-w,T+=2,w=g),v=a.F._writeBlock(g==y-1||w==y?1:0,C,T,F,i,M,g-M,o,v),T=D=F=0,M=g);var H=0;g<y-2&&(H=a.F._bestMatch(i,g,j,z,Math.min(h[2],y-g),h[3]));var Z=H>>>16,E=65535&H;if(H!=0){E=65535&H;var L=f(Z=H>>>16,x.of0);x.lhst[257+L]++;var S=f(E,x.df0);x.dhst[S]++,F+=x.exb[L]+x.dxb[S],C[T]=Z<<23|g-w,C[T+1]=E<<16|L<<8|S,T+=2,w=g+Z}else x.lhst[i[g]]++;D++}}for(M==g&&i.length!=0||(w<g&&(C[T]=g-w,T+=2,w=g),v=a.F._writeBlock(1,C,T,F,i,M,g-M,o,v),T=0,D=0,T=D=F=0,M=g);(7&v)!=0;)v++;return v>>>3},a.F._bestMatch=function(i,o,u,d,h,x){var f=32767&o,p=u[f],g=f-p+32768&32767;if(p==f||d!=a.F._hash(i,o-g))return 0;for(var v=0,w=0,y=Math.min(32767,o);g<=y&&--x!=0&&p!=f;){if(v==0||i[o+v]==i[o+v-g]){var C=a.F._howLong(i,o,g);if(C>v){if(w=g,(v=C)>=h)break;g+2<C&&(C=g+2);for(var k=0,j=0;j<C-2;j++){var T=o-g+j+32768&32767,D=T-u[T]+32768&32767;D>k&&(k=D,p=T)}}}g+=(f=p)-(p=u[f])+32768&32767}return v<<16|w},a.F._howLong=function(i,o,u){if(i[o]!=i[o-u]||i[o+1]!=i[o+1-u]||i[o+2]!=i[o+2-u])return 0;var d=o,h=Math.min(i.length,o+258);for(o+=3;o<h&&i[o]==i[o-u];)o++;return o-d},a.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(i,o,u,d,h,x,f,p,g){var v,w,y,C,k,j,T,D,M,F=a.F.U,z=a.F._putsF,N=a.F._putsE;F.lhst[256]++,w=(v=a.F.getTrees())[0],y=v[1],C=v[2],k=v[3],j=v[4],T=v[5],D=v[6],M=v[7];var P=32+((g+3&7)==0?0:8-(g+3&7))+(f<<3),H=d+a.F.contSize(F.fltree,F.lhst)+a.F.contSize(F.fdtree,F.dhst),Z=d+a.F.contSize(F.ltree,F.lhst)+a.F.contSize(F.dtree,F.dhst);Z+=14+3*T+a.F.contSize(F.itree,F.ihst)+(2*F.ihst[16]+3*F.ihst[17]+7*F.ihst[18]);for(var E=0;E<286;E++)F.lhst[E]=0;for(E=0;E<30;E++)F.dhst[E]=0;for(E=0;E<19;E++)F.ihst[E]=0;var L=P<H&&P<Z?0:H<Z?1:2;if(z(p,g,i),z(p,g+1,L),g+=3,L==0){for(;(7&g)!=0;)g++;g=a.F._copyExact(h,x,f,p,g)}else{var S,K;if(L==1&&(S=F.fltree,K=F.fdtree),L==2){a.F.makeCodes(F.ltree,w),a.F.revCodes(F.ltree,w),a.F.makeCodes(F.dtree,y),a.F.revCodes(F.dtree,y),a.F.makeCodes(F.itree,C),a.F.revCodes(F.itree,C),S=F.ltree,K=F.dtree,N(p,g,k-257),N(p,g+=5,j-1),N(p,g+=5,T-4),g+=4;for(var U=0;U<T;U++)N(p,g+3*U,F.itree[1+(F.ordr[U]<<1)]);g+=3*T,g=a.F._codeTiny(D,F.itree,p,g),g=a.F._codeTiny(M,F.itree,p,g)}for(var I=x,$=0;$<u;$+=2){for(var W=o[$],Q=W>>>23,O=I+(8388607&W);I<O;)g=a.F._writeLit(h[I++],S,p,g);if(Q!=0){var B=o[$+1],te=B>>16,X=B>>8&255,G=255&B;N(p,g=a.F._writeLit(257+X,S,p,g),Q-F.of0[X]),g+=F.exb[X],z(p,g=a.F._writeLit(G,K,p,g),te-F.df0[G]),g+=F.dxb[G],I+=Q}}g=a.F._writeLit(256,S,p,g)}return g},a.F._copyExact=function(i,o,u,d,h){var x=h>>>3;return d[x]=u,d[x+1]=u>>>8,d[x+2]=255-d[x],d[x+3]=255-d[x+1],x+=4,d.set(new Uint8Array(i.buffer,o,u),x),h+(u+4<<3)},a.F.getTrees=function(){for(var i=a.F.U,o=a.F._hufTree(i.lhst,i.ltree,15),u=a.F._hufTree(i.dhst,i.dtree,15),d=[],h=a.F._lenCodes(i.ltree,d),x=[],f=a.F._lenCodes(i.dtree,x),p=0;p<d.length;p+=2)i.ihst[d[p]]++;for(p=0;p<x.length;p+=2)i.ihst[x[p]]++;for(var g=a.F._hufTree(i.ihst,i.itree,7),v=19;v>4&&i.itree[1+(i.ordr[v-1]<<1)]==0;)v--;return[o,u,g,h,f,v,d,x]},a.F.getSecond=function(i){for(var o=[],u=0;u<i.length;u+=2)o.push(i[u+1]);return o},a.F.nonZero=function(i){for(var o="",u=0;u<i.length;u+=2)i[u+1]!=0&&(o+=(u>>1)+",");return o},a.F.contSize=function(i,o){for(var u=0,d=0;d<o.length;d++)u+=o[d]*i[1+(d<<1)];return u},a.F._codeTiny=function(i,o,u,d){for(var h=0;h<i.length;h+=2){var x=i[h],f=i[h+1];d=a.F._writeLit(x,o,u,d);var p=x==16?2:x==17?3:7;x>15&&(a.F._putsE(u,d,f,p),d+=p)}return d},a.F._lenCodes=function(i,o){for(var u=i.length;u!=2&&i[u-1]==0;)u-=2;for(var d=0;d<u;d+=2){var h=i[d+1],x=d+3<u?i[d+3]:-1,f=d+5<u?i[d+5]:-1,p=d==0?-1:i[d-1];if(h==0&&x==h&&f==h){for(var g=d+5;g+2<u&&i[g+2]==h;)g+=2;(v=Math.min(g+1-d>>>1,138))<11?o.push(17,v-3):o.push(18,v-11),d+=2*v-2}else if(h==p&&x==h&&f==h){for(g=d+5;g+2<u&&i[g+2]==h;)g+=2;var v=Math.min(g+1-d>>>1,6);o.push(16,v-3),d+=2*v-2}else o.push(h,0)}return u>>>1},a.F._hufTree=function(i,o,u){var d=[],h=i.length,x=o.length,f=0;for(f=0;f<x;f+=2)o[f]=0,o[f+1]=0;for(f=0;f<h;f++)i[f]!=0&&d.push({lit:f,f:i[f]});var p=d.length,g=d.slice(0);if(p==0)return 0;if(p==1){var v=d[0].lit;return g=v==0?1:0,o[1+(v<<1)]=1,o[1+(g<<1)]=1,1}d.sort((function(D,M){return D.f-M.f}));var w=d[0],y=d[1],C=0,k=1,j=2;for(d[0]={lit:-1,f:w.f+y.f,l:w,r:y,d:0};k!=p-1;)w=C!=k&&(j==p||d[C].f<d[j].f)?d[C++]:d[j++],y=C!=k&&(j==p||d[C].f<d[j].f)?d[C++]:d[j++],d[k++]={lit:-1,f:w.f+y.f,l:w,r:y};var T=a.F.setDepth(d[k-1],0);for(T>u&&(a.F.restrictDepth(g,u,T),T=u),f=0;f<p;f++)o[1+(g[f].lit<<1)]=g[f].d;return T},a.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(a.F.setDepth(i.l,o+1),a.F.setDepth(i.r,o+1))},a.F.restrictDepth=function(i,o,u){var d=0,h=1<<u-o,x=0;for(i.sort((function(p,g){return g.d==p.d?p.f-g.f:g.d-p.d})),d=0;d<i.length&&i[d].d>o;d++){var f=i[d].d;i[d].d=o,x+=h-(1<<u-f)}for(x>>>=u-o;x>0;)(f=i[d].d)<o?(i[d].d++,x-=1<<o-f-1):d++;for(;d>=0;d--)i[d].d==o&&x<0&&(i[d].d--,x++);x!=0&&console.log("debt left")},a.F._goodIndex=function(i,o){var u=0;return o[16|u]<=i&&(u|=16),o[8|u]<=i&&(u|=8),o[4|u]<=i&&(u|=4),o[2|u]<=i&&(u|=2),o[1|u]<=i&&(u|=1),u},a.F._writeLit=function(i,o,u,d){return a.F._putsF(u,d,o[i<<1]),d+o[1+(i<<1)]},a.F.inflate=function(i,o){var u=Uint8Array;if(i[0]==3&&i[1]==0)return o||new u(0);var d=a.F,h=d._bitsF,x=d._bitsE,f=d._decodeTiny,p=d.makeCodes,g=d.codes2map,v=d._get17,w=d.U,y=o==null;y&&(o=new u(i.length>>>2<<3));for(var C,k,j=0,T=0,D=0,M=0,F=0,z=0,N=0,P=0,H=0;j==0;)if(j=h(i,H,1),T=h(i,H+1,2),H+=3,T!=0){if(y&&(o=a.F._check(o,P+(1<<17))),T==1&&(C=w.flmap,k=w.fdmap,z=511,N=31),T==2){D=x(i,H,5)+257,M=x(i,H+5,5)+1,F=x(i,H+10,4)+4,H+=14;for(var Z=0;Z<38;Z+=2)w.itree[Z]=0,w.itree[Z+1]=0;var E=1;for(Z=0;Z<F;Z++){var L=x(i,H+3*Z,3);w.itree[1+(w.ordr[Z]<<1)]=L,L>E&&(E=L)}H+=3*F,p(w.itree,E),g(w.itree,E,w.imap),C=w.lmap,k=w.dmap,H=f(w.imap,(1<<E)-1,D+M,i,H,w.ttree);var S=d._copyOut(w.ttree,0,D,w.ltree);z=(1<<S)-1;var K=d._copyOut(w.ttree,D,M,w.dtree);N=(1<<K)-1,p(w.ltree,S),g(w.ltree,S,C),p(w.dtree,K),g(w.dtree,K,k)}for(;;){var U=C[v(i,H)&z];H+=15&U;var I=U>>>4;if(!(I>>>8))o[P++]=I;else{if(I==256)break;var $=P+I-254;if(I>264){var W=w.ldef[I-257];$=P+(W>>>3)+x(i,H,7&W),H+=7&W}var Q=k[v(i,H)&N];H+=15&Q;var O=Q>>>4,B=w.ddef[O],te=(B>>>4)+h(i,H,15&B);for(H+=15&B,y&&(o=a.F._check(o,P+(1<<17)));P<$;)o[P]=o[P++-te],o[P]=o[P++-te],o[P]=o[P++-te],o[P]=o[P++-te];P=$}}}else{(7&H)!=0&&(H+=8-(7&H));var X=4+(H>>>3),G=i[X-4]|i[X-3]<<8;y&&(o=a.F._check(o,P+G)),o.set(new u(i.buffer,i.byteOffset+X,G),P),H=X+G<<3,P+=G}return o.length==P?o:o.slice(0,P)},a.F._check=function(i,o){var u=i.length;if(o<=u)return i;var d=new Uint8Array(Math.max(u<<1,o));return d.set(i,0),d},a.F._decodeTiny=function(i,o,u,d,h,x){for(var f=a.F._bitsE,p=a.F._get17,g=0;g<u;){var v=i[p(d,h)&o];h+=15&v;var w=v>>>4;if(w<=15)x[g]=w,g++;else{var y=0,C=0;w==16?(C=3+f(d,h,2),h+=2,y=x[g-1]):w==17?(C=3+f(d,h,3),h+=3):w==18&&(C=11+f(d,h,7),h+=7);for(var k=g+C;g<k;)x[g]=y,g++}}return h},a.F._copyOut=function(i,o,u,d){for(var h=0,x=0,f=d.length>>>1;x<u;){var p=i[x+o];d[x<<1]=0,d[1+(x<<1)]=p,p>h&&(h=p),x++}for(;x<f;)d[x<<1]=0,d[1+(x<<1)]=0,x++;return h},a.F.makeCodes=function(i,o){for(var u,d,h,x,f=a.F.U,p=i.length,g=f.bl_count,v=0;v<=o;v++)g[v]=0;for(v=1;v<p;v+=2)g[i[v]]++;var w=f.next_code;for(u=0,g[0]=0,d=1;d<=o;d++)u=u+g[d-1]<<1,w[d]=u;for(h=0;h<p;h+=2)(x=i[h+1])!=0&&(i[h]=w[x],w[x]++)},a.F.codes2map=function(i,o,u){for(var d=i.length,h=a.F.U.rev15,x=0;x<d;x+=2)if(i[x+1]!=0)for(var f=x>>1,p=i[x+1],g=f<<4|p,v=o-p,w=i[x]<<v,y=w+(1<<v);w!=y;)u[h[w]>>>15-o]=g,w++},a.F.revCodes=function(i,o){for(var u=a.F.U.rev15,d=15-o,h=0;h<i.length;h+=2){var x=i[h]<<o-i[h+1];i[h]=u[x]>>>d}},a.F._putsE=function(i,o,u){u<<=7&o;var d=o>>>3;i[d]|=u,i[d+1]|=u>>>8},a.F._putsF=function(i,o,u){u<<=7&o;var d=o>>>3;i[d]|=u,i[d+1]|=u>>>8,i[d+2]|=u>>>16},a.F._bitsE=function(i,o,u){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<u)-1},a.F._bitsF=function(i,o,u){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<u)-1},a.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},a.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},a.F.U=(n=Uint16Array,r=Uint32Array,{next_code:new n(16),bl_count:new n(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new n(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new n(512),fltree:[],fdmap:new n(32),fdtree:[],lmap:new n(32768),ltree:[],ttree:[],dmap:new n(32768),dtree:[],imap:new n(512),itree:[],rev15:new n(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new n(65536),prev:new n(32768)}),(function(){for(var i=a.F.U,o=0;o<32768;o++){var u=o;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,i.rev15[o]=(u>>>16|u<<16)>>>17}function d(h,x,f){for(;x--!=0;)h.push(0,f)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];d(i.fltree,144,8),d(i.fltree,112,9),d(i.fltree,24,7),d(i.fltree,8,8),a.F.makeCodes(i.fltree,9),a.F.codes2map(i.fltree,9,i.flmap),a.F.revCodes(i.fltree,9),d(i.fdtree,32,5),a.F.makeCodes(i.fdtree,5),a.F.codes2map(i.fdtree,5,i.fdmap),a.F.revCodes(i.fdtree,5),d(i.itree,19,0),d(i.ltree,286,0),d(i.dtree,30,0),d(i.ttree,320,0)})()})();var V6=z6({__proto__:null,default:kl},[kl]);const er=(function(){var e={nextZero(f,p){for(;f[p]!=0;)p++;return p},readUshort:(f,p)=>f[p]<<8|f[p+1],writeUshort(f,p,g){f[p]=g>>8&255,f[p+1]=255&g},readUint:(f,p)=>16777216*f[p]+(f[p+1]<<16|f[p+2]<<8|f[p+3]),writeUint(f,p,g){f[p]=g>>24&255,f[p+1]=g>>16&255,f[p+2]=g>>8&255,f[p+3]=255&g},readASCII(f,p,g){let v="";for(let w=0;w<g;w++)v+=String.fromCharCode(f[p+w]);return v},writeASCII(f,p,g){for(let v=0;v<g.length;v++)f[p+v]=g.charCodeAt(v)},readBytes(f,p,g){const v=[];for(let w=0;w<g;w++)v.push(f[p+w]);return v},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,p,g){let v,w="";for(let y=0;y<g;y++)w+=`%${e.pad(f[p+y].toString(16))}`;try{v=decodeURIComponent(w)}catch{return e.readASCII(f,p,g)}return v}};function n(f,p,g,v){const w=p*g,y=o(v),C=Math.ceil(p*y/8),k=new Uint8Array(4*w),j=new Uint32Array(k.buffer),{ctype:T}=v,{depth:D}=v,M=e.readUshort;if(T==6){const W=w<<2;if(D==8)for(var F=0;F<W;F+=4)k[F]=f[F],k[F+1]=f[F+1],k[F+2]=f[F+2],k[F+3]=f[F+3];if(D==16)for(F=0;F<W;F++)k[F]=f[F<<1]}else if(T==2){const W=v.tabs.tRNS;if(W==null){if(D==8)for(F=0;F<w;F++){var z=3*F;j[F]=255<<24|f[z+2]<<16|f[z+1]<<8|f[z]}if(D==16)for(F=0;F<w;F++)z=6*F,j[F]=255<<24|f[z+4]<<16|f[z+2]<<8|f[z]}else{var N=W[0];const Q=W[1],O=W[2];if(D==8)for(F=0;F<w;F++){var P=F<<2;z=3*F,j[F]=255<<24|f[z+2]<<16|f[z+1]<<8|f[z],f[z]==N&&f[z+1]==Q&&f[z+2]==O&&(k[P+3]=0)}if(D==16)for(F=0;F<w;F++)P=F<<2,z=6*F,j[F]=255<<24|f[z+4]<<16|f[z+2]<<8|f[z],M(f,z)==N&&M(f,z+2)==Q&&M(f,z+4)==O&&(k[P+3]=0)}}else if(T==3){const W=v.tabs.PLTE,Q=v.tabs.tRNS,O=Q?Q.length:0;if(D==1)for(var H=0;H<g;H++){var Z=H*C,E=H*p;for(F=0;F<p;F++){P=E+F<<2;var L=3*(S=f[Z+(F>>3)]>>7-((7&F)<<0)&1);k[P]=W[L],k[P+1]=W[L+1],k[P+2]=W[L+2],k[P+3]=S<O?Q[S]:255}}if(D==2)for(H=0;H<g;H++)for(Z=H*C,E=H*p,F=0;F<p;F++)P=E+F<<2,L=3*(S=f[Z+(F>>2)]>>6-((3&F)<<1)&3),k[P]=W[L],k[P+1]=W[L+1],k[P+2]=W[L+2],k[P+3]=S<O?Q[S]:255;if(D==4)for(H=0;H<g;H++)for(Z=H*C,E=H*p,F=0;F<p;F++)P=E+F<<2,L=3*(S=f[Z+(F>>1)]>>4-((1&F)<<2)&15),k[P]=W[L],k[P+1]=W[L+1],k[P+2]=W[L+2],k[P+3]=S<O?Q[S]:255;if(D==8)for(F=0;F<w;F++){var S;P=F<<2,L=3*(S=f[F]),k[P]=W[L],k[P+1]=W[L+1],k[P+2]=W[L+2],k[P+3]=S<O?Q[S]:255}}else if(T==4){if(D==8)for(F=0;F<w;F++){P=F<<2;var K=f[U=F<<1];k[P]=K,k[P+1]=K,k[P+2]=K,k[P+3]=f[U+1]}if(D==16)for(F=0;F<w;F++){var U;P=F<<2,K=f[U=F<<2],k[P]=K,k[P+1]=K,k[P+2]=K,k[P+3]=f[U+2]}}else if(T==0)for(N=v.tabs.tRNS?v.tabs.tRNS:-1,H=0;H<g;H++){const W=H*C,Q=H*p;if(D==1)for(var I=0;I<p;I++){var $=(K=255*(f[W+(I>>>3)]>>>7-(7&I)&1))==255*N?0:255;j[Q+I]=$<<24|K<<16|K<<8|K}else if(D==2)for(I=0;I<p;I++)$=(K=85*(f[W+(I>>>2)]>>>6-((3&I)<<1)&3))==85*N?0:255,j[Q+I]=$<<24|K<<16|K<<8|K;else if(D==4)for(I=0;I<p;I++)$=(K=17*(f[W+(I>>>1)]>>>4-((1&I)<<2)&15))==17*N?0:255,j[Q+I]=$<<24|K<<16|K<<8|K;else if(D==8)for(I=0;I<p;I++)$=(K=f[W+I])==N?0:255,j[Q+I]=$<<24|K<<16|K<<8|K;else if(D==16)for(I=0;I<p;I++)K=f[W+(I<<1)],$=M(f,W+(I<<1))==N?0:255,j[Q+I]=$<<24|K<<16|K<<8|K}return k}function r(f,p,g,v){const w=o(f),y=Math.ceil(g*w/8),C=new Uint8Array((y+1+f.interlace)*v);return p=f.tabs.CgBI?i(p,C):a(p,C),f.interlace==0?p=u(p,f,0,g,v):f.interlace==1&&(p=(function(j,T){const D=T.width,M=T.height,F=o(T),z=F>>3,N=Math.ceil(D*F/8),P=new Uint8Array(M*N);let H=0;const Z=[0,0,4,0,2,0,1],E=[0,4,0,2,0,1,0],L=[8,8,8,4,4,2,2],S=[8,8,4,4,2,2,1];let K=0;for(;K<7;){const I=L[K],$=S[K];let W=0,Q=0,O=Z[K];for(;O<M;)O+=I,Q++;let B=E[K];for(;B<D;)B+=$,W++;const te=Math.ceil(W*F/8);u(j,T,H,W,Q);let X=0,G=Z[K];for(;G<M;){let ee=E[K],ne=H+X*te<<3;for(;ee<D;){var U;if(F==1&&(U=(U=j[ne>>3])>>7-(7&ne)&1,P[G*N+(ee>>3)]|=U<<7-((7&ee)<<0)),F==2&&(U=(U=j[ne>>3])>>6-(7&ne)&3,P[G*N+(ee>>2)]|=U<<6-((3&ee)<<1)),F==4&&(U=(U=j[ne>>3])>>4-(7&ne)&15,P[G*N+(ee>>1)]|=U<<4-((1&ee)<<2)),F>=8){const oe=G*N+ee*z;for(let me=0;me<z;me++)P[oe+me]=j[(ne>>3)+me]}ne+=F,ee+=$}X++,G+=I}W*Q!=0&&(H+=Q*(1+te)),K+=1}return P})(p,f)),p}function a(f,p){return i(new Uint8Array(f.buffer,2,f.length-6),p)}var i=(function(){const f={H:{}};return f.H.N=function(p,g){const v=Uint8Array;let w,y,C=0,k=0,j=0,T=0,D=0,M=0,F=0,z=0,N=0;if(p[0]==3&&p[1]==0)return g||new v(0);const P=f.H,H=P.b,Z=P.e,E=P.R,L=P.n,S=P.A,K=P.Z,U=P.m,I=g==null;for(I&&(g=new v(p.length>>>2<<5));C==0;)if(C=H(p,N,1),k=H(p,N+1,2),N+=3,k!=0){if(I&&(g=f.H.W(g,z+(1<<17))),k==1&&(w=U.J,y=U.h,M=511,F=31),k==2){j=Z(p,N,5)+257,T=Z(p,N+5,5)+1,D=Z(p,N+10,4)+4,N+=14;let W=1;for(var $=0;$<38;$+=2)U.Q[$]=0,U.Q[$+1]=0;for($=0;$<D;$++){const B=Z(p,N+3*$,3);U.Q[1+(U.X[$]<<1)]=B,B>W&&(W=B)}N+=3*D,L(U.Q,W),S(U.Q,W,U.u),w=U.w,y=U.d,N=E(U.u,(1<<W)-1,j+T,p,N,U.v);const Q=P.V(U.v,0,j,U.C);M=(1<<Q)-1;const O=P.V(U.v,j,T,U.D);F=(1<<O)-1,L(U.C,Q),S(U.C,Q,w),L(U.D,O),S(U.D,O,y)}for(;;){const W=w[K(p,N)&M];N+=15&W;const Q=W>>>4;if(!(Q>>>8))g[z++]=Q;else{if(Q==256)break;{let O=z+Q-254;if(Q>264){const ee=U.q[Q-257];O=z+(ee>>>3)+Z(p,N,7&ee),N+=7&ee}const B=y[K(p,N)&F];N+=15&B;const te=B>>>4,X=U.c[te],G=(X>>>4)+H(p,N,15&X);for(N+=15&X;z<O;)g[z]=g[z++-G],g[z]=g[z++-G],g[z]=g[z++-G],g[z]=g[z++-G];z=O}}}}else{(7&N)!=0&&(N+=8-(7&N));const W=4+(N>>>3),Q=p[W-4]|p[W-3]<<8;I&&(g=f.H.W(g,z+Q)),g.set(new v(p.buffer,p.byteOffset+W,Q),z),N=W+Q<<3,z+=Q}return g.length==z?g:g.slice(0,z)},f.H.W=function(p,g){const v=p.length;if(g<=v)return p;const w=new Uint8Array(v<<1);return w.set(p,0),w},f.H.R=function(p,g,v,w,y,C){const k=f.H.e,j=f.H.Z;let T=0;for(;T<v;){const D=p[j(w,y)&g];y+=15&D;const M=D>>>4;if(M<=15)C[T]=M,T++;else{let F=0,z=0;M==16?(z=3+k(w,y,2),y+=2,F=C[T-1]):M==17?(z=3+k(w,y,3),y+=3):M==18&&(z=11+k(w,y,7),y+=7);const N=T+z;for(;T<N;)C[T]=F,T++}}return y},f.H.V=function(p,g,v,w){let y=0,C=0;const k=w.length>>>1;for(;C<v;){const j=p[C+g];w[C<<1]=0,w[1+(C<<1)]=j,j>y&&(y=j),C++}for(;C<k;)w[C<<1]=0,w[1+(C<<1)]=0,C++;return y},f.H.n=function(p,g){const v=f.H.m,w=p.length;let y,C,k,j;const T=v.j;for(var D=0;D<=g;D++)T[D]=0;for(D=1;D<w;D+=2)T[p[D]]++;const M=v.K;for(y=0,T[0]=0,C=1;C<=g;C++)y=y+T[C-1]<<1,M[C]=y;for(k=0;k<w;k+=2)j=p[k+1],j!=0&&(p[k]=M[j],M[j]++)},f.H.A=function(p,g,v){const w=p.length,y=f.H.m.r;for(let C=0;C<w;C+=2)if(p[C+1]!=0){const k=C>>1,j=p[C+1],T=k<<4|j,D=g-j;let M=p[C]<<D;const F=M+(1<<D);for(;M!=F;)v[y[M]>>>15-g]=T,M++}},f.H.l=function(p,g){const v=f.H.m.r,w=15-g;for(let y=0;y<p.length;y+=2){const C=p[y]<<g-p[y+1];p[y]=v[C]>>>w}},f.H.M=function(p,g,v){v<<=7&g;const w=g>>>3;p[w]|=v,p[w+1]|=v>>>8},f.H.I=function(p,g,v){v<<=7&g;const w=g>>>3;p[w]|=v,p[w+1]|=v>>>8,p[w+2]|=v>>>16},f.H.e=function(p,g,v){return(p[g>>>3]|p[1+(g>>>3)]<<8)>>>(7&g)&(1<<v)-1},f.H.b=function(p,g,v){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)&(1<<v)-1},f.H.Z=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16)>>>(7&g)},f.H.i=function(p,g){return(p[g>>>3]|p[1+(g>>>3)]<<8|p[2+(g>>>3)]<<16|p[3+(g>>>3)]<<24)>>>(7&g)},f.H.m=(function(){const p=Uint16Array,g=Uint32Array;return{K:new p(16),j:new p(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new p(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new g(32),J:new p(512),_:[],h:new p(32),$:[],w:new p(32768),C:[],v:[],d:new p(32768),D:[],u:new p(512),Q:[],r:new p(32768),s:new g(286),Y:new g(30),a:new g(19),t:new g(15e3),k:new p(65536),g:new p(32768)}})(),(function(){const p=f.H.m;for(var g=0;g<32768;g++){let w=g;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,p.r[g]=(w>>>16|w<<16)>>>17}function v(w,y,C){for(;y--!=0;)w.push(0,C)}for(g=0;g<32;g++)p.q[g]=p.S[g]<<3|p.T[g],p.c[g]=p.p[g]<<4|p.z[g];v(p._,144,8),v(p._,112,9),v(p._,24,7),v(p._,8,8),f.H.n(p._,9),f.H.A(p._,9,p.J),f.H.l(p._,9),v(p.$,32,5),f.H.n(p.$,5),f.H.A(p.$,5,p.h),f.H.l(p.$,5),v(p.Q,19,0),v(p.C,286,0),v(p.D,30,0),v(p.v,320,0)})(),f.H.N})();function o(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function u(f,p,g,v,w){let y=o(p);const C=Math.ceil(v*y/8);let k,j;y=Math.ceil(y/8);let T=f[g],D=0;if(T>1&&(f[g]=[0,0,1][T-2]),T==3)for(D=y;D<C;D++)f[D+1]=f[D+1]+(f[D+1-y]>>>1)&255;for(let M=0;M<w;M++)if(k=g+M*C,j=k+M+1,T=f[j-1],D=0,T==0)for(;D<C;D++)f[k+D]=f[j+D];else if(T==1){for(;D<y;D++)f[k+D]=f[j+D];for(;D<C;D++)f[k+D]=f[j+D]+f[k+D-y]}else if(T==2)for(;D<C;D++)f[k+D]=f[j+D]+f[k+D-C];else if(T==3){for(;D<y;D++)f[k+D]=f[j+D]+(f[k+D-C]>>>1);for(;D<C;D++)f[k+D]=f[j+D]+(f[k+D-C]+f[k+D-y]>>>1)}else{for(;D<y;D++)f[k+D]=f[j+D]+d(0,f[k+D-C],0);for(;D<C;D++)f[k+D]=f[j+D]+d(f[k+D-y],f[k+D-C],f[k+D-y-C])}return f}function d(f,p,g){const v=f+p-g,w=v-f,y=v-p,C=v-g;return w*w<=y*y&&w*w<=C*C?f:y*y<=C*C?p:g}function h(f,p,g){g.width=e.readUint(f,p),p+=4,g.height=e.readUint(f,p),p+=4,g.depth=f[p],p++,g.ctype=f[p],p++,g.compress=f[p],p++,g.filter=f[p],p++,g.interlace=f[p],p++}function x(f,p,g,v,w,y,C,k,j){const T=Math.min(p,w),D=Math.min(g,y);let M=0,F=0;for(let K=0;K<D;K++)for(let U=0;U<T;U++)if(C>=0&&k>=0?(M=K*p+U<<2,F=(k+K)*w+C+U<<2):(M=(-k+K)*p-C+U<<2,F=K*w+U<<2),j==0)v[F]=f[M],v[F+1]=f[M+1],v[F+2]=f[M+2],v[F+3]=f[M+3];else if(j==1){var z=f[M+3]*.00392156862745098,N=f[M]*z,P=f[M+1]*z,H=f[M+2]*z,Z=v[F+3]*(1/255),E=v[F]*Z,L=v[F+1]*Z,S=v[F+2]*Z;const I=1-z,$=z+Z*I,W=$==0?0:1/$;v[F+3]=255*$,v[F+0]=(N+E*I)*W,v[F+1]=(P+L*I)*W,v[F+2]=(H+S*I)*W}else if(j==2)z=f[M+3],N=f[M],P=f[M+1],H=f[M+2],Z=v[F+3],E=v[F],L=v[F+1],S=v[F+2],z==Z&&N==E&&P==L&&H==S?(v[F]=0,v[F+1]=0,v[F+2]=0,v[F+3]=0):(v[F]=N,v[F+1]=P,v[F+2]=H,v[F+3]=z);else if(j==3){if(z=f[M+3],N=f[M],P=f[M+1],H=f[M+2],Z=v[F+3],E=v[F],L=v[F+1],S=v[F+2],z==Z&&N==E&&P==L&&H==S)continue;if(z<220&&Z>20)return!1}return!0}return{decode:function(p){const g=new Uint8Array(p);let v=8;const w=e,y=w.readUshort,C=w.readUint,k={tabs:{},frames:[]},j=new Uint8Array(g.length);let T,D=0,M=0;const F=[137,80,78,71,13,10,26,10];for(var z=0;z<8;z++)if(g[z]!=F[z])throw"The input is not a PNG file!";for(;v<g.length;){const K=w.readUint(g,v);v+=4;const U=w.readASCII(g,v,4);if(v+=4,U=="IHDR")h(g,v,k);else if(U=="iCCP"){for(var N=v;g[N]!=0;)N++;w.readASCII(g,v,N-v),g[N+1];const I=g.slice(N+2,v+K);let $=null;try{$=a(I)}catch{$=i(I)}k.tabs[U]=$}else if(U=="CgBI")k.tabs[U]=g.slice(v,v+4);else if(U=="IDAT"){for(z=0;z<K;z++)j[D+z]=g[v+z];D+=K}else if(U=="acTL")k.tabs[U]={num_frames:C(g,v),num_plays:C(g,v+4)},T=new Uint8Array(g.length);else if(U=="fcTL"){M!=0&&((S=k.frames[k.frames.length-1]).data=r(k,T.slice(0,M),S.rect.width,S.rect.height),M=0);const I={x:C(g,v+12),y:C(g,v+16),width:C(g,v+4),height:C(g,v+8)};let $=y(g,v+22);$=y(g,v+20)/($==0?100:$);const W={rect:I,delay:Math.round(1e3*$),dispose:g[v+24],blend:g[v+25]};k.frames.push(W)}else if(U=="fdAT"){for(z=0;z<K-4;z++)T[M+z]=g[v+z+4];M+=K-4}else if(U=="pHYs")k.tabs[U]=[w.readUint(g,v),w.readUint(g,v+4),g[v+8]];else if(U=="cHRM")for(k.tabs[U]=[],z=0;z<8;z++)k.tabs[U].push(w.readUint(g,v+4*z));else if(U=="tEXt"||U=="zTXt"){k.tabs[U]==null&&(k.tabs[U]={});var P=w.nextZero(g,v),H=w.readASCII(g,v,P-v),Z=v+K-P-1;if(U=="tEXt")L=w.readASCII(g,P+1,Z);else{var E=a(g.slice(P+2,P+2+Z));L=w.readUTF8(E,0,E.length)}k.tabs[U][H]=L}else if(U=="iTXt"){k.tabs[U]==null&&(k.tabs[U]={}),P=0,N=v,P=w.nextZero(g,N),H=w.readASCII(g,N,P-N);const I=g[N=P+1];var L;g[N+1],N+=2,P=w.nextZero(g,N),w.readASCII(g,N,P-N),N=P+1,P=w.nextZero(g,N),w.readUTF8(g,N,P-N),Z=K-((N=P+1)-v),I==0?L=w.readUTF8(g,N,Z):(E=a(g.slice(N,N+Z)),L=w.readUTF8(E,0,E.length)),k.tabs[U][H]=L}else if(U=="PLTE")k.tabs[U]=w.readBytes(g,v,K);else if(U=="hIST"){const I=k.tabs.PLTE.length/3;for(k.tabs[U]=[],z=0;z<I;z++)k.tabs[U].push(y(g,v+2*z))}else if(U=="tRNS")k.ctype==3?k.tabs[U]=w.readBytes(g,v,K):k.ctype==0?k.tabs[U]=y(g,v):k.ctype==2&&(k.tabs[U]=[y(g,v),y(g,v+2),y(g,v+4)]);else if(U=="gAMA")k.tabs[U]=w.readUint(g,v)/1e5;else if(U=="sRGB")k.tabs[U]=g[v];else if(U=="bKGD")k.ctype==0||k.ctype==4?k.tabs[U]=[y(g,v)]:k.ctype==2||k.ctype==6?k.tabs[U]=[y(g,v),y(g,v+2),y(g,v+4)]:k.ctype==3&&(k.tabs[U]=g[v]);else if(U=="IEND")break;v+=K,w.readUint(g,v),v+=4}var S;return M!=0&&((S=k.frames[k.frames.length-1]).data=r(k,T.slice(0,M),S.rect.width,S.rect.height)),k.data=r(k,j,k.width,k.height),delete k.compress,delete k.interlace,delete k.filter,k},toRGBA8:function(p){const g=p.width,v=p.height;if(p.tabs.acTL==null)return[n(p.data,g,v,p).buffer];const w=[];p.frames[0].data==null&&(p.frames[0].data=p.data);const y=g*v*4,C=new Uint8Array(y),k=new Uint8Array(y),j=new Uint8Array(y);for(let D=0;D<p.frames.length;D++){const M=p.frames[D],F=M.rect.x,z=M.rect.y,N=M.rect.width,P=M.rect.height,H=n(M.data,N,P,p);if(D!=0)for(var T=0;T<y;T++)j[T]=C[T];if(M.blend==0?x(H,N,P,C,g,v,F,z,0):M.blend==1&&x(H,N,P,C,g,v,F,z,1),w.push(C.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)x(k,N,P,C,g,v,F,z,0);else if(M.dispose==2)for(T=0;T<y;T++)C[T]=j[T]}}return w},_paeth:d,_copyTile:x,_bin:e}})();(function(){const{_copyTile:e}=er,{_bin:n}=er,r=er._paeth;var a={table:(function(){const N=new Uint32Array(256);for(let P=0;P<256;P++){let H=P;for(let Z=0;Z<8;Z++)1&H?H=3988292384^H>>>1:H>>>=1;N[P]=H}return N})(),update(N,P,H,Z){for(let E=0;E<Z;E++)N=a.table[255&(N^P[H+E])]^N>>>8;return N},crc:(N,P,H)=>4294967295^a.update(4294967295,N,P,H)};function i(N,P,H,Z){P[H]+=N[0]*Z>>4,P[H+1]+=N[1]*Z>>4,P[H+2]+=N[2]*Z>>4,P[H+3]+=N[3]*Z>>4}function o(N){return Math.max(0,Math.min(255,N))}function u(N,P){const H=N[0]-P[0],Z=N[1]-P[1],E=N[2]-P[2],L=N[3]-P[3];return H*H+Z*Z+E*E+L*L}function d(N,P,H,Z,E,L,S){S==null&&(S=1);const K=Z.length,U=[];for(var I=0;I<K;I++){const G=Z[I];U.push([G>>>0&255,G>>>8&255,G>>>16&255,G>>>24&255])}for(I=0;I<K;I++){let G=4294967295;for(var $=0,W=0;W<K;W++){var Q=u(U[I],U[W]);W!=I&&Q<G&&(G=Q,$=W)}}const O=new Uint32Array(E.buffer),B=new Int16Array(P*H*4),te=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(I=0;I<te.length;I++)te[I]=255*((te[I]+.5)/16-.5);for(let G=0;G<H;G++)for(let ee=0;ee<P;ee++){var X;I=4*(G*P+ee),S!=2?X=[o(N[I]+B[I]),o(N[I+1]+B[I+1]),o(N[I+2]+B[I+2]),o(N[I+3]+B[I+3])]:(Q=te[4*(3&G)+(3&ee)],X=[o(N[I]+Q),o(N[I+1]+Q),o(N[I+2]+Q),o(N[I+3]+Q)]),$=0;let ne=16777215;for(W=0;W<K;W++){const je=u(X,U[W]);je<ne&&(ne=je,$=W)}const oe=U[$],me=[X[0]-oe[0],X[1]-oe[1],X[2]-oe[2],X[3]-oe[3]];S==1&&(ee!=P-1&&i(me,B,I+4,7),G!=H-1&&(ee!=0&&i(me,B,I+4*P-4,3),i(me,B,I+4*P,5),ee!=P-1&&i(me,B,I+4*P+4,1))),L[I>>2]=$,O[I>>2]=Z[$]}}function h(N,P,H,Z,E){E==null&&(E={});const{crc:L}=a,S=n.writeUint,K=n.writeUshort,U=n.writeASCII;let I=8;const $=N.frames.length>1;let W,Q=!1,O=33+($?20:0);if(E.sRGB!=null&&(O+=13),E.pHYs!=null&&(O+=21),E.iCCP!=null&&(W=pako.deflate(E.iCCP),O+=21+W.length+4),N.ctype==3){for(var B=N.plte.length,te=0;te<B;te++)N.plte[te]>>>24!=255&&(Q=!0);O+=8+3*B+4+(Q?8+1*B+4:0)}for(var X=0;X<N.frames.length;X++)$&&(O+=38),O+=(oe=N.frames[X]).cimg.length+12,X!=0&&(O+=4);O+=12;const G=new Uint8Array(O),ee=[137,80,78,71,13,10,26,10];for(te=0;te<8;te++)G[te]=ee[te];if(S(G,I,13),I+=4,U(G,I,"IHDR"),I+=4,S(G,I,P),I+=4,S(G,I,H),I+=4,G[I]=N.depth,I++,G[I]=N.ctype,I++,G[I]=0,I++,G[I]=0,I++,G[I]=0,I++,S(G,I,L(G,I-17,17)),I+=4,E.sRGB!=null&&(S(G,I,1),I+=4,U(G,I,"sRGB"),I+=4,G[I]=E.sRGB,I++,S(G,I,L(G,I-5,5)),I+=4),E.iCCP!=null){const me=13+W.length;S(G,I,me),I+=4,U(G,I,"iCCP"),I+=4,U(G,I,"ICC profile"),I+=11,I+=2,G.set(W,I),I+=W.length,S(G,I,L(G,I-(me+4),me+4)),I+=4}if(E.pHYs!=null&&(S(G,I,9),I+=4,U(G,I,"pHYs"),I+=4,S(G,I,E.pHYs[0]),I+=4,S(G,I,E.pHYs[1]),I+=4,G[I]=E.pHYs[2],I++,S(G,I,L(G,I-13,13)),I+=4),$&&(S(G,I,8),I+=4,U(G,I,"acTL"),I+=4,S(G,I,N.frames.length),I+=4,S(G,I,E.loop!=null?E.loop:0),I+=4,S(G,I,L(G,I-12,12)),I+=4),N.ctype==3){for(S(G,I,3*(B=N.plte.length)),I+=4,U(G,I,"PLTE"),I+=4,te=0;te<B;te++){const me=3*te,je=N.plte[te],Pe=255&je,Ue=je>>>8&255,nt=je>>>16&255;G[I+me+0]=Pe,G[I+me+1]=Ue,G[I+me+2]=nt}if(I+=3*B,S(G,I,L(G,I-3*B-4,3*B+4)),I+=4,Q){for(S(G,I,B),I+=4,U(G,I,"tRNS"),I+=4,te=0;te<B;te++)G[I+te]=N.plte[te]>>>24&255;I+=B,S(G,I,L(G,I-B-4,B+4)),I+=4}}let ne=0;for(X=0;X<N.frames.length;X++){var oe=N.frames[X];$&&(S(G,I,26),I+=4,U(G,I,"fcTL"),I+=4,S(G,I,ne++),I+=4,S(G,I,oe.rect.width),I+=4,S(G,I,oe.rect.height),I+=4,S(G,I,oe.rect.x),I+=4,S(G,I,oe.rect.y),I+=4,K(G,I,Z[X]),I+=2,K(G,I,1e3),I+=2,G[I]=oe.dispose,I++,G[I]=oe.blend,I++,S(G,I,L(G,I-30,30)),I+=4);const me=oe.cimg;S(G,I,(B=me.length)+(X==0?0:4)),I+=4;const je=I;U(G,I,X==0?"IDAT":"fdAT"),I+=4,X!=0&&(S(G,I,ne++),I+=4),G.set(me,I),I+=B,S(G,I,L(G,je,I-je)),I+=4}return S(G,I,0),I+=4,U(G,I,"IEND"),I+=4,S(G,I,L(G,I-4,4)),I+=4,G.buffer}function x(N,P,H){for(let Z=0;Z<N.frames.length;Z++){const E=N.frames[Z];E.rect.width;const L=E.rect.height,S=new Uint8Array(L*E.bpl+L);E.cimg=v(E.img,L,E.bpp,E.bpl,S,P,H)}}function f(N,P,H,Z,E){const L=E[0],S=E[1],K=E[2],U=E[3],I=E[4],$=E[5];let W=6,Q=8,O=255;for(var B=0;B<N.length;B++){const ce=new Uint8Array(N[B]);for(var te=ce.length,X=0;X<te;X+=4)O&=ce[X+3]}const G=O!=255,ee=(function(Y,q,se,ve,pe,ie){const we=[];for(var ke=0;ke<Y.length;ke++){const rt=new Uint8Array(Y[ke]),it=new Uint32Array(rt.buffer);var Se;let Nt=0,Xe=0,xt=q,sn=se,Mt=ve?1:0;if(ke!=0){const sr=ie||ve||ke==1||we[ke-2].dispose!=0?1:2;let Kn=0,Tn=1e9;for(let $t=0;$t<sr;$t++){var Me=new Uint8Array(Y[ke-1-$t]);const Sn=new Uint32Array(Y[ke-1-$t]);let vt=q,It=se,Dn=-1,pr=-1;for(let dn=0;dn<se;dn++)for(let fn=0;fn<q;fn++)it[Ve=dn*q+fn]!=Sn[Ve]&&(fn<vt&&(vt=fn),fn>Dn&&(Dn=fn),dn<It&&(It=dn),dn>pr&&(pr=dn));Dn==-1&&(vt=It=Dn=pr=0),pe&&((1&vt)==1&&vt--,(1&It)==1&&It--);const ss=(Dn-vt+1)*(pr-It+1);ss<Tn&&(Tn=ss,Kn=$t,Nt=vt,Xe=It,xt=Dn-vt+1,sn=pr-It+1)}Me=new Uint8Array(Y[ke-1-Kn]),Kn==1&&(we[ke-1].dispose=2),Se=new Uint8Array(xt*sn*4),e(Me,q,se,Se,xt,sn,-Nt,-Xe,0),Mt=e(rt,q,se,Se,xt,sn,-Nt,-Xe,3)?1:0,Mt==1?g(rt,q,se,Se,{x:Nt,y:Xe,width:xt,height:sn}):e(rt,q,se,Se,xt,sn,-Nt,-Xe,0)}else Se=rt.slice(0);we.push({rect:{x:Nt,y:Xe,width:xt,height:sn},img:Se,blend:Mt,dispose:0})}if(ve)for(ke=0;ke<we.length;ke++){if((ut=we[ke]).blend==1)continue;const rt=ut.rect,it=we[ke-1].rect,Nt=Math.min(rt.x,it.x),Xe=Math.min(rt.y,it.y),xt={x:Nt,y:Xe,width:Math.max(rt.x+rt.width,it.x+it.width)-Nt,height:Math.max(rt.y+rt.height,it.y+it.height)-Xe};we[ke-1].dispose=1,ke-1!=0&&p(Y,q,se,we,ke-1,xt,pe),p(Y,q,se,we,ke,xt,pe)}let qe=0;if(Y.length!=1)for(var Ve=0;Ve<we.length;Ve++){var ut;qe+=(ut=we[Ve]).rect.width*ut.rect.height}return we})(N,P,H,L,S,K),ne={},oe=[],me=[];if(Z!=0){const ce=[];for(X=0;X<ee.length;X++)ce.push(ee[X].img.buffer);const Y=(function(pe){let ie=0;for(var we=0;we<pe.length;we++)ie+=pe[we].byteLength;const ke=new Uint8Array(ie);let Se=0;for(we=0;we<pe.length;we++){const Me=new Uint8Array(pe[we]),qe=Me.length;for(let Ve=0;Ve<qe;Ve+=4){let ut=Me[Ve],rt=Me[Ve+1],it=Me[Ve+2];const Nt=Me[Ve+3];Nt==0&&(ut=rt=it=0),ke[Se+Ve]=ut,ke[Se+Ve+1]=rt,ke[Se+Ve+2]=it,ke[Se+Ve+3]=Nt}Se+=qe}return ke.buffer})(ce),q=y(Y,Z);for(X=0;X<q.plte.length;X++)oe.push(q.plte[X].est.rgba);let se=0;for(X=0;X<ee.length;X++){const ve=(Pe=ee[X]).img.length;var je=new Uint8Array(q.inds.buffer,se>>2,ve>>2);me.push(je);const pe=new Uint8Array(q.abuf,se,ve);$&&d(Pe.img,Pe.rect.width,Pe.rect.height,oe,pe,je),Pe.img.set(pe),se+=ve}}else for(B=0;B<ee.length;B++){var Pe=ee[B];const ce=new Uint32Array(Pe.img.buffer);var Ue=Pe.rect.width;for(te=ce.length,je=new Uint8Array(te),me.push(je),X=0;X<te;X++){const Y=ce[X];if(X!=0&&Y==ce[X-1])je[X]=je[X-1];else if(X>Ue&&Y==ce[X-Ue])je[X]=je[X-Ue];else{let q=ne[Y];if(q==null&&(ne[Y]=q=oe.length,oe.push(Y),oe.length>=300))break;je[X]=q}}}const nt=oe.length;for(nt<=256&&I==0&&(Q=nt<=2?1:nt<=4?2:nt<=16?4:8,Q=Math.max(Q,U)),B=0;B<ee.length;B++){(Pe=ee[B]).rect.x,Pe.rect.y,Ue=Pe.rect.width;const ce=Pe.rect.height;let Y=Pe.img;new Uint32Array(Y.buffer);let q=4*Ue,se=4;if(nt<=256&&I==0){q=Math.ceil(Q*Ue/8);var R=new Uint8Array(q*ce);const ve=me[B];for(let pe=0;pe<ce;pe++){X=pe*q;const ie=pe*Ue;if(Q==8)for(var fe=0;fe<Ue;fe++)R[X+fe]=ve[ie+fe];else if(Q==4)for(fe=0;fe<Ue;fe++)R[X+(fe>>1)]|=ve[ie+fe]<<4-4*(1&fe);else if(Q==2)for(fe=0;fe<Ue;fe++)R[X+(fe>>2)]|=ve[ie+fe]<<6-2*(3&fe);else if(Q==1)for(fe=0;fe<Ue;fe++)R[X+(fe>>3)]|=ve[ie+fe]<<7-1*(7&fe)}Y=R,W=3,se=1}else if(G==0&&ee.length==1){R=new Uint8Array(Ue*ce*3);const ve=Ue*ce;for(X=0;X<ve;X++){const pe=3*X,ie=4*X;R[pe]=Y[ie],R[pe+1]=Y[ie+1],R[pe+2]=Y[ie+2]}Y=R,W=2,se=3,q=3*Ue}Pe.img=Y,Pe.bpl=q,Pe.bpp=se}return{ctype:W,depth:Q,plte:oe,frames:ee}}function p(N,P,H,Z,E,L,S){const K=Uint8Array,U=Uint32Array,I=new K(N[E-1]),$=new U(N[E-1]),W=E+1<N.length?new K(N[E+1]):null,Q=new K(N[E]),O=new U(Q.buffer);let B=P,te=H,X=-1,G=-1;for(let ne=0;ne<L.height;ne++)for(let oe=0;oe<L.width;oe++){const me=L.x+oe,je=L.y+ne,Pe=je*P+me,Ue=O[Pe];Ue==0||Z[E-1].dispose==0&&$[Pe]==Ue&&(W==null||W[4*Pe+3]!=0)||(me<B&&(B=me),me>X&&(X=me),je<te&&(te=je),je>G&&(G=je))}X==-1&&(B=te=X=G=0),S&&((1&B)==1&&B--,(1&te)==1&&te--),L={x:B,y:te,width:X-B+1,height:G-te+1};const ee=Z[E];ee.rect=L,ee.blend=1,ee.img=new Uint8Array(L.width*L.height*4),Z[E-1].dispose==0?(e(I,P,H,ee.img,L.width,L.height,-L.x,-L.y,0),g(Q,P,H,ee.img,L)):e(Q,P,H,ee.img,L.width,L.height,-L.x,-L.y,0)}function g(N,P,H,Z,E){e(N,P,H,Z,E.width,E.height,-E.x,-E.y,2)}function v(N,P,H,Z,E,L,S){const K=[];let U,I=[0,1,2,3,4];L!=-1?I=[L]:(P*Z>5e5||H==1)&&(I=[0]),S&&(U={level:0});const $=V6;for(var W=0;W<I.length;W++){for(let B=0;B<P;B++)w(E,N,B,Z,H,I[W]);K.push($.deflate(E,U))}let Q,O=1e9;for(W=0;W<K.length;W++)K[W].length<O&&(Q=W,O=K[W].length);return K[Q]}function w(N,P,H,Z,E,L){const S=H*Z;let K=S+H;if(N[K]=L,K++,L==0)if(Z<500)for(var U=0;U<Z;U++)N[K+U]=P[S+U];else N.set(new Uint8Array(P.buffer,S,Z),K);else if(L==1){for(U=0;U<E;U++)N[K+U]=P[S+U];for(U=E;U<Z;U++)N[K+U]=P[S+U]-P[S+U-E]+256&255}else if(H==0){for(U=0;U<E;U++)N[K+U]=P[S+U];if(L==2)for(U=E;U<Z;U++)N[K+U]=P[S+U];if(L==3)for(U=E;U<Z;U++)N[K+U]=P[S+U]-(P[S+U-E]>>1)+256&255;if(L==4)for(U=E;U<Z;U++)N[K+U]=P[S+U]-r(P[S+U-E],0,0)+256&255}else{if(L==2)for(U=0;U<Z;U++)N[K+U]=P[S+U]+256-P[S+U-Z]&255;if(L==3){for(U=0;U<E;U++)N[K+U]=P[S+U]+256-(P[S+U-Z]>>1)&255;for(U=E;U<Z;U++)N[K+U]=P[S+U]+256-(P[S+U-Z]+P[S+U-E]>>1)&255}if(L==4){for(U=0;U<E;U++)N[K+U]=P[S+U]+256-r(0,P[S+U-Z],0)&255;for(U=E;U<Z;U++)N[K+U]=P[S+U]+256-r(P[S+U-E],P[S+U-Z],P[S+U-E-Z])&255}}}function y(N,P){const H=new Uint8Array(N),Z=H.slice(0),E=new Uint32Array(Z.buffer),L=C(Z,P),S=L[0],K=L[1],U=H.length,I=new Uint8Array(U>>2);let $;if(H.length<2e7)for(var W=0;W<U;W+=4)$=k(S,Q=H[W]*(1/255),O=H[W+1]*(1/255),B=H[W+2]*(1/255),te=H[W+3]*(1/255)),I[W>>2]=$.ind,E[W>>2]=$.est.rgba;else for(W=0;W<U;W+=4){var Q=H[W]*.00392156862745098,O=H[W+1]*(1/255),B=H[W+2]*(1/255),te=H[W+3]*(1/255);for($=S;$.left;)$=j($.est,Q,O,B,te)<=0?$.left:$.right;I[W>>2]=$.ind,E[W>>2]=$.est.rgba}return{abuf:Z.buffer,inds:I,plte:K}}function C(N,P,H){H==null&&(H=1e-4);const Z=new Uint32Array(N.buffer),E={i0:0,i1:N.length,bst:null,est:null,tdst:0,left:null,right:null};E.bst=M(N,E.i0,E.i1),E.est=F(E.bst);const L=[E];for(;L.length<P;){let K=0,U=0;for(var S=0;S<L.length;S++)L[S].est.L>K&&(K=L[S].est.L,U=S);if(K<H)break;const I=L[U],$=T(N,Z,I.i0,I.i1,I.est.e,I.est.eMq255);if(I.i0>=$||I.i1<=$){I.est.L=0;continue}const W={i0:I.i0,i1:$,bst:null,est:null,tdst:0,left:null,right:null};W.bst=M(N,W.i0,W.i1),W.est=F(W.bst);const Q={i0:$,i1:I.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Q.bst={R:[],m:[],N:I.bst.N-W.bst.N},S=0;S<16;S++)Q.bst.R[S]=I.bst.R[S]-W.bst.R[S];for(S=0;S<4;S++)Q.bst.m[S]=I.bst.m[S]-W.bst.m[S];Q.est=F(Q.bst),I.left=W,I.right=Q,L[U]=W,L.push(Q)}for(L.sort(((K,U)=>U.bst.N-K.bst.N)),S=0;S<L.length;S++)L[S].ind=S;return[E,L]}function k(N,P,H,Z,E){if(N.left==null)return N.tdst=(function(W,Q,O,B,te){const X=Q-W[0],G=O-W[1],ee=B-W[2],ne=te-W[3];return X*X+G*G+ee*ee+ne*ne})(N.est.q,P,H,Z,E),N;const L=j(N.est,P,H,Z,E);let S=N.left,K=N.right;L>0&&(S=N.right,K=N.left);const U=k(S,P,H,Z,E);if(U.tdst<=L*L)return U;const I=k(K,P,H,Z,E);return I.tdst<U.tdst?I:U}function j(N,P,H,Z,E){const{e:L}=N;return L[0]*P+L[1]*H+L[2]*Z+L[3]*E-N.eMq}function T(N,P,H,Z,E,L){for(Z-=4;H<Z;){for(;D(N,H,E)<=L;)H+=4;for(;D(N,Z,E)>L;)Z-=4;if(H>=Z)break;const S=P[H>>2];P[H>>2]=P[Z>>2],P[Z>>2]=S,H+=4,Z-=4}for(;D(N,H,E)>L;)H-=4;return H+4}function D(N,P,H){return N[P]*H[0]+N[P+1]*H[1]+N[P+2]*H[2]+N[P+3]*H[3]}function M(N,P,H){const Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E=[0,0,0,0],L=H-P>>2;for(let S=P;S<H;S+=4){const K=N[S]*.00392156862745098,U=N[S+1]*(1/255),I=N[S+2]*(1/255),$=N[S+3]*(1/255);E[0]+=K,E[1]+=U,E[2]+=I,E[3]+=$,Z[0]+=K*K,Z[1]+=K*U,Z[2]+=K*I,Z[3]+=K*$,Z[5]+=U*U,Z[6]+=U*I,Z[7]+=U*$,Z[10]+=I*I,Z[11]+=I*$,Z[15]+=$*$}return Z[4]=Z[1],Z[8]=Z[2],Z[9]=Z[6],Z[12]=Z[3],Z[13]=Z[7],Z[14]=Z[11],{R:Z,m:E,N:L}}function F(N){const{R:P}=N,{m:H}=N,{N:Z}=N,E=H[0],L=H[1],S=H[2],K=H[3],U=Z==0?0:1/Z,I=[P[0]-E*E*U,P[1]-E*L*U,P[2]-E*S*U,P[3]-E*K*U,P[4]-L*E*U,P[5]-L*L*U,P[6]-L*S*U,P[7]-L*K*U,P[8]-S*E*U,P[9]-S*L*U,P[10]-S*S*U,P[11]-S*K*U,P[12]-K*E*U,P[13]-K*L*U,P[14]-K*S*U,P[15]-K*K*U],$=I,W=z;let Q=[Math.random(),Math.random(),Math.random(),Math.random()],O=0,B=0;if(Z!=0)for(let X=0;X<16&&(Q=W.multVec($,Q),B=Math.sqrt(W.dot(Q,Q)),Q=W.sml(1/B,Q),!(X!=0&&Math.abs(B-O)<1e-9));X++)O=B;const te=[E*U,L*U,S*U,K*U];return{Cov:I,q:te,e:Q,L:O,eMq255:W.dot(W.sml(255,te),Q),eMq:W.dot(Q,te),rgba:(Math.round(255*te[3])<<24|Math.round(255*te[2])<<16|Math.round(255*te[1])<<8|Math.round(255*te[0])<<0)>>>0}}var z={multVec:(N,P)=>[N[0]*P[0]+N[1]*P[1]+N[2]*P[2]+N[3]*P[3],N[4]*P[0]+N[5]*P[1]+N[6]*P[2]+N[7]*P[3],N[8]*P[0]+N[9]*P[1]+N[10]*P[2]+N[11]*P[3],N[12]*P[0]+N[13]*P[1]+N[14]*P[2]+N[15]*P[3]],dot:(N,P)=>N[0]*P[0]+N[1]*P[1]+N[2]*P[2]+N[3]*P[3],sml:(N,P)=>[N*P[0],N*P[1],N*P[2],N*P[3]]};er.encode=function(P,H,Z,E,L,S,K){E==null&&(E=0),K==null&&(K=!1);const U=f(P,H,Z,E,[!1,!1,!1,0,K,!1]);return x(U,-1),h(U,H,Z,L,S)},er.encodeLL=function(P,H,Z,E,L,S,K,U){const I={ctype:0+(E==1?0:2)+(L==0?0:4),depth:S,frames:[]},$=(E+L)*S,W=$*H;for(let Q=0;Q<P.length;Q++)I.frames.push({rect:{x:0,y:0,width:H,height:Z},img:new Uint8Array(P[Q]),blend:0,dispose:1,bpp:Math.ceil($/8),bpl:Math.ceil(W/8)});return x(I,0,!0),h(I,H,Z,K,U)},er.encode.compress=f,er.encode.dither=d,er.quantize=y,er.quantize.getKDtree=C,er.quantize.getNearest=k})();const Q1={toArrayBuffer(e,n){const r=e.width,a=e.height,i=r<<2,o=e.getContext("2d").getImageData(0,0,r,a),u=new Uint32Array(o.data.buffer),d=(32*r+31)/32<<2,h=d*a,x=122+h,f=new ArrayBuffer(x),p=new DataView(f),g=1<<20;let v,w,y,C,k=g,j=0,T=0,D=0;function M(N){p.setUint16(T,N,!0),T+=2}function F(N){p.setUint32(T,N,!0),T+=4}function z(N){T+=N}M(19778),F(x),z(4),F(122),F(108),F(r),F(-a>>>0),M(1),M(32),F(3),F(h),F(2835),F(2835),z(8),F(16711680),F(65280),F(255),F(4278190080),F(1466527264),(function N(){for(;j<a&&k>0;){for(C=122+j*d,v=0;v<i;)k--,w=u[D++],y=w>>>24,p.setUint32(C+v,w<<8|y),v+=4;j++}D<u.length?(k=g,setTimeout(N,Q1._dly)):n(f)})()},toBlob(e,n){this.toArrayBuffer(e,(r=>{n(new Blob([r],{type:"image/bmp"}))}))},_dly:9};var bn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},U6={[bn.CHROME]:16384,[bn.FIREFOX]:11180,[bn.DESKTOP_SAFARI]:16384,[bn.IE]:8192,[bn.IOS]:4096,[bn.ETC]:8192};const Sf=typeof window<"u",X1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Cl=Sf&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),H6=(Sf||X1)&&(Cl&&Cl.getOriginalSymbol(window,"File")||typeof File<"u"&&File),J1=(Sf||X1)&&(Cl&&Cl.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function kf(e,n,r=Date.now()){return new Promise((a=>{const i=e.split(","),o=i[0].match(/:(.*?);/)[1],u=globalThis.atob(i[1]);let d=u.length;const h=new Uint8Array(d);for(;d--;)h[d]=u.charCodeAt(d);const x=new Blob([h],{type:o});x.name=n,x.lastModified=r,a(x)}))}function e2(e){return new Promise(((n,r)=>{const a=new J1;a.onload=()=>n(a.result),a.onerror=i=>r(i),a.readAsDataURL(e)}))}function t2(e){return new Promise(((n,r)=>{const a=new Image;a.onload=()=>n(a),a.onerror=i=>r(i),a.src=e}))}function Ds(){if(Ds.cachedResult!==void 0)return Ds.cachedResult;let e=bn.ETC;const{userAgent:n}=navigator;return/Chrom(e|ium)/i.test(n)?e=bn.CHROME:/iP(ad|od|hone)/i.test(n)&&/WebKit/i.test(n)?e=bn.IOS:/Safari/i.test(n)?e=bn.DESKTOP_SAFARI:/Firefox/i.test(n)?e=bn.FIREFOX:(/MSIE/i.test(n)||document.documentMode)&&(e=bn.IE),Ds.cachedResult=e,Ds.cachedResult}function n2(e,n){const r=Ds(),a=U6[r];let i=e,o=n,u=i*o;const d=i>o?o/i:i/o;for(;u>a*a;){const h=(a+i)/2,x=(a+o)/2;h<x?(o=x,i=x*d):(o=h*d,i=h),u=i*o}return{width:i,height:o}}function zl(e,n){let r,a;try{if(r=new OffscreenCanvas(e,n),a=r.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),a=r.getContext("2d")}return r.width=e,r.height=n,[r,a]}function r2(e,n){const{width:r,height:a}=n2(e.width,e.height),[i,o]=zl(r,a);return n&&/jpe?g/.test(n)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(e,0,0,i.width,i.height),i}function fl(){return fl.cachedResult!==void 0||(fl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),fl.cachedResult}function _l(e,n={}){return new Promise((function(r,a){let i,o;var u=function(){try{return o=r2(i,n.fileType||e.type),r([i,o])}catch(h){return a(h)}},d=function(h){try{var x=function(f){try{throw f}catch(p){return a(p)}};try{let f;return e2(e).then((function(p){try{return f=p,t2(f).then((function(g){try{return i=g,(function(){try{return u()}catch(v){return a(v)}})()}catch(v){return x(v)}}),x)}catch(g){return x(g)}}),x)}catch(f){x(f)}}catch(f){return a(f)}};try{if(fl()||[bn.DESKTOP_SAFARI,bn.MOBILE_SAFARI].includes(Ds()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(h){try{return i=h,u()}catch{return d()}}),d)}catch{d()}}))}function Nl(e,n,r,a,i=1){return new Promise((function(o,u){let d;if(n==="image/png"){let p,g,v;return p=e.getContext("2d"),{data:g}=p.getImageData(0,0,e.width,e.height),v=er.encode([g.buffer],e.width,e.height,4096*i),d=new Blob([v],{type:n}),d.name=r,d.lastModified=a,h.call(this)}{let p=function(){return h.call(this)};var x=p;if(n==="image/bmp")return new Promise((g=>Q1.toBlob(e,g))).then(function(g){try{return d=g,d.name=r,d.lastModified=a,p.call(this)}catch(v){return u(v)}}.bind(this),u);{let g=function(){return p.call(this)};var f=g;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:n,quality:i}).then(function(v){try{return d=v,d.name=r,d.lastModified=a,g.call(this)}catch(w){return u(w)}}.bind(this),u);{let v;return v=e.toDataURL(n,i),kf(v,r,a).then(function(w){try{return d=w,g.call(this)}catch(y){return u(y)}}.bind(this),u)}}}function h(){return o(d)}}))}function cr(e){e.width=0,e.height=0}function Na(){return new Promise((function(e,n){let r,a,i,o;return Na.cachedResult!==void 0?e(Na.cachedResult):kf("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return r=u,_l(r).then((function(d){try{return a=d[1],Nl(a,r.type,r.name,r.lastModified).then((function(h){try{return i=h,cr(a),_l(i).then((function(x){try{return o=x[0],Na.cachedResult=o.width===1&&o.height===2,e(Na.cachedResult)}catch(f){return n(f)}}),n)}catch(x){return n(x)}}),n)}catch(h){return n(h)}}),n)}catch(d){return n(d)}}),n)}))}function s2(e){return new Promise(((n,r)=>{const a=new J1;a.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return n(-2);const u=o.byteLength;let d=2;for(;d<u;){if(o.getUint16(d+2,!1)<=8)return n(-1);const h=o.getUint16(d,!1);if(d+=2,h==65505){if(o.getUint32(d+=2,!1)!=1165519206)return n(-1);const x=o.getUint16(d+=6,!1)==18761;d+=o.getUint32(d+4,x);const f=o.getUint16(d,x);d+=2;for(let p=0;p<f;p++)if(o.getUint16(d+12*p,x)==274)return n(o.getUint16(d+12*p+8,x))}else{if((65280&h)!=65280)break;d+=o.getUint16(d,!1)}}return n(-1)},a.onerror=i=>r(i),a.readAsArrayBuffer(e)}))}function a2(e,n){const{width:r}=e,{height:a}=e,{maxWidthOrHeight:i}=n;let o,u=e;return isFinite(i)&&(r>i||a>i)&&([u,o]=zl(r,a),r>a?(u.width=i,u.height=a/r*i):(u.width=r/a*i,u.height=i),o.drawImage(e,0,0,u.width,u.height),cr(e)),u}function i2(e,n){const{width:r}=e,{height:a}=e,[i,o]=zl(r,a);switch(n>4&&n<9?(i.width=a,i.height=r):(i.width=r,i.height=a),n){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,a);break;case 4:o.transform(1,0,0,-1,0,a);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,a,0);break;case 7:o.transform(0,-1,-1,0,a,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(e,0,0,r,a),cr(e),i}function O0(e,n,r=0){return new Promise((function(a,i){let o,u,d,h,x,f,p,g,v,w,y,C,k,j,T,D,M,F,z,N;function P(Z=5){if(n.signal&&n.signal.aborted)throw n.signal.reason;o+=Z,n.onProgress(Math.min(o,100))}function H(Z){if(n.signal&&n.signal.aborted)throw n.signal.reason;o=Math.min(Math.max(Z,o),100),n.onProgress(o)}return o=r,u=n.maxIteration||10,d=1024*n.maxSizeMB*1024,P(),_l(e,n).then(function(Z){try{return[,h]=Z,P(),x=a2(h,n),P(),new Promise((function(E,L){var S;if(!(S=n.exifOrientation))return s2(e).then(function(U){try{return S=U,K.call(this)}catch(I){return L(I)}}.bind(this),L);function K(){return E(S)}return K.call(this)})).then(function(E){try{return f=E,P(),Na().then(function(L){try{return p=L?x:i2(x,f),P(),g=n.initialQuality||1,v=n.fileType||e.type,Nl(p,v,e.name,e.lastModified,g).then(function(S){try{{let $=function(){if(u--&&(T>d||T>k)){let Q,O;return Q=N?.95*z.width:z.width,O=N?.95*z.height:z.height,[M,F]=zl(Q,O),F.drawImage(z,0,0,Q,O),g*=v==="image/png"?.85:.95,Nl(M,v,e.name,e.lastModified,g).then((function(B){try{return D=B,cr(z),z=M,T=D.size,H(Math.min(99,Math.floor((j-T)/(j-d)*100))),$}catch(te){return i(te)}}),i)}return[1]},W=function(){return cr(z),cr(M),cr(x),cr(p),cr(h),H(100),a(D)};var U=$,I=W;if(w=S,P(),y=w.size>d,C=w.size>e.size,!y&&!C)return H(100),a(w);var K;return k=e.size,j=w.size,T=j,z=p,N=!n.alwaysKeepResolution&&y,(K=function(Q){for(;Q;){if(Q.then)return void Q.then(K,i);try{if(Q.pop){if(Q.length)return Q.pop()?W.call(this):Q;Q=$}else Q=Q.call(this)}catch(O){return i(O)}}}.bind(this))($)}}catch($){return i($)}}.bind(this),i)}catch(S){return i(S)}}.bind(this),i)}catch(L){return i(L)}}.bind(this),i)}catch(E){return i(E)}}.bind(this),i)}))}const W6=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let qu;function $6(e,n){return new Promise(((r,a)=>{qu||(qu=(function(u){const d=[];return d.push(u),URL.createObjectURL(new Blob(d))})(W6));const i=new Worker(qu);i.addEventListener("message",(function(u){if(n.signal&&n.signal.aborted)i.terminate();else if(u.data.progress===void 0){if(u.data.error)return a(new Error(u.data.error)),void i.terminate();r(u.data.file),i.terminate()}else n.onProgress(u.data.progress)})),i.addEventListener("error",a),n.signal&&n.signal.addEventListener("abort",(()=>{a(n.signal.reason),i.terminate()})),i.postMessage({file:e,imageCompressionLibUrl:n.libURL,options:{...n,onProgress:void 0,signal:void 0}})}))}function nn(e,n){return new Promise((function(r,a){let i,o,u,d,h,x;if(i={...n},u=0,{onProgress:d}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,h=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=v=>{u=v,typeof d=="function"&&d(u)},!(e instanceof Blob||e instanceof H6))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(new Error("The file given is not an image"));if(x=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!h||typeof Worker!="function"||x)return O0(e,i).then(function(v){try{return o=v,g.call(this)}catch(w){return a(w)}}.bind(this),a);var f=function(){try{return g.call(this)}catch(v){return a(v)}}.bind(this),p=function(v){try{return O0(e,i).then((function(w){try{return o=w,f()}catch(y){return a(y)}}),a)}catch(w){return a(w)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",$6(e,i).then((function(v){try{return o=v,f()}catch{return p()}}),p)}catch{p()}function g(){try{o.name=e.name,o.lastModified=e.lastModified}catch{}try{i.preserveExif&&e.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===e.type)&&(o=Y1(e,o))}catch{}return r(o)}}))}nn.getDataUrlFromFile=e2,nn.getFilefromDataUrl=kf,nn.loadImage=t2,nn.drawImageInCanvas=r2,nn.drawFileInCanvas=_l,nn.canvasToFile=Nl,nn.getExifOrientation=s2,nn.handleMaxWidthOrHeight=a2,nn.followExifOrientation=i2,nn.cleanupCanvasMemory=cr,nn.isAutoOrientationInBrowser=Na,nn.approximateBelowMaximumCanvasSizeOfBrowser=n2,nn.copyExifWithoutOrientation=Y1,nn.getBrowserName=Ds,nn.version="2.0.2";const z0=[{id:"desktop1-chat",name:"",location:""},{id:"desktop1-forum",name:"",location:""},{id:"desktop1-memory",name:"",location:""},{id:"desktop1-transfer",name:"",location:""},{id:"desktop2-shop",name:"",location:""},{id:"desktop2-game",name:"",location:""},{id:"desktop2-schedule",name:"",location:""},{id:"desktop2-health",name:"",location:""},{id:"bottom-organization",name:"",location:""},{id:"bottom-worldbook",name:"",location:""},{id:"bottom-settings",name:"",location:""}];function K6({onBack:e}){const[n,r]=A.useState(null),[a,i]=A.useState(!1),[o,u]=A.useState("light"),[d,h]=A.useState({}),[x,f]=A.useState(!1),p=A.useRef(null),g=A.useRef({});A.useEffect(()=>{(async()=>{try{const M=await be.get(ue.MISC,"desktop_wallpaper"),F=await be.get(ue.APPEARANCE,"desktop_color_mode")||"light";if(M)if(M.startsWith("data:"))r(M);else{const N=await dt(M);r(N)}u(F);const z={};for(const N of z0){const P=await dt(`system-icon-${N.id}`);P&&(z[N.id]=P)}h(z)}catch(M){console.error("Failed to load settings:",M)}})()},[]);const v=async D=>{u(D),await be.set(ue.APPEARANCE,"desktop_color_mode",D),window.dispatchEvent(new CustomEvent("colorModeChange",{detail:D}))},w=()=>{p.current?.click()},y=async D=>{const M=D.target.files?.[0];if(M)try{const F=await Wn("desktop-wallpaper",M);r(F),await be.set(ue.MISC,"desktop_wallpaper","desktop-wallpaper"),i(!0),setTimeout(()=>i(!1),2e3),window.dispatchEvent(new CustomEvent("wallpaperChange",{detail:F}))}catch(F){console.error("Failed to save wallpaper:",F)}},C=async D=>{D.stopPropagation(),r(null),await be.delete(ue.MISC,"desktop_wallpaper"),await Pa("desktop-wallpaper"),i(!0),setTimeout(()=>i(!1),2e3),window.dispatchEvent(new CustomEvent("wallpaperChange",{detail:null}))},k=D=>{g.current[D]?.click()},j=async(D,M)=>{const F=M.target.files?.[0];if(F)try{const N=await nn(F,{maxSizeMB:.5,maxWidthOrHeight:512,useWebWorker:!0}),P=await Wn(`system-icon-${D}`,N);h(H=>({...H,[D]:P})),f(!0),setTimeout(()=>f(!1),2e3),window.dispatchEvent(new CustomEvent("iconChange",{detail:{iconId:D,url:P}}))}catch(z){console.error("Failed to save icon:",z)}},T=async(D,M)=>{M.stopPropagation();try{await Pa(`system-icon-${D}`),h(F=>({...F,[D]:null})),f(!0),setTimeout(()=>f(!1),2e3),window.dispatchEvent(new CustomEvent("iconChange",{detail:{iconId:D,url:null}}))}catch(F){console.error("Failed to reset icon:",F)}};return l.jsxs(Ol,{title:"",onBack:e,children:[l.jsxs("div",{className:"space-y-6 text-slate-800",children:[l.jsx(nr,{children:(a||x)&&l.jsx(un.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"fixed top-24 left-0 right-0 flex justify-center z-[60] pointer-events-none px-4",children:l.jsxs("div",{className:"bg-slate-800 text-white px-6 py-3 border border-slate-700 shadow-xl flex items-center gap-3 backdrop-blur-md",children:[l.jsx(Hn,{className:"w-4 h-4 text-green-400",strokeWidth:3}),l.jsx("span",{className:"text-xs font-bold tracking-wider uppercase",children:a?"WALLPAPER_UPDATED":"ICON_CACHE_REFRESHED"})]})})}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:[l.jsx(s4,{className:"w-3 h-3"})," "]}),l.jsx("div",{className:"grid grid-cols-2 gap-3 bg-white p-2 border border-slate-200 shadow-sm",children:[{label:" (LIGHT)",value:"light",icon:z4},{label:" (DARK)",value:"dark",icon:i4}].map(D=>l.jsxs("button",{onClick:()=>v(D.value),className:`flex items-center justify-center gap-2 py-3 border transition-all duration-200 ${o===D.value?"bg-slate-800 text-white border-slate-800 shadow-md":"bg-transparent text-slate-400 border-transparent active:bg-slate-50 active:text-slate-600 hover:bg-slate-50 hover:text-slate-600"}`,children:[l.jsx(D.icon,{className:"w-4 h-4",strokeWidth:1.5}),l.jsx("span",{className:"text-xs font-bold tracking-wide",children:D.label})]},D.value))})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:[l.jsx(E4,{className:"w-3 h-3"})," "]}),l.jsxs("div",{className:"bg-white p-4 border border-slate-200 shadow-sm relative",children:[l.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-slate-200"}),l.jsxs("div",{className:"grid grid-cols-[80px_1fr] gap-5",children:[l.jsxs("div",{onClick:w,className:"w-[80px] aspect-[9/16] bg-slate-100 border border-slate-300 relative group cursor-pointer overflow-hidden",children:[n?l.jsx("img",{src:n,alt:"Wallpaper",className:"w-full h-full object-cover opacity-90 group-active:opacity-100 group-hover:opacity-100 transition-opacity"}):l.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-300",children:l.jsx(Oi,{className:"w-5 h-5",strokeWidth:1})}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-active:opacity-100 group-hover:opacity-100 bg-slate-900/30 transition-opacity",children:l.jsx(bf,{className:"w-4 h-4 text-white"})})]}),l.jsxs("div",{className:"flex flex-col justify-between py-1",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-slate-800 uppercase tracking-wider mb-1",children:""}),l.jsx("div",{className:"text-[10px] text-slate-400 font-mono",children:"RES: AUTO-FIT"}),l.jsx("div",{className:"text-[10px] text-slate-400 font-mono",children:"FMT: JPG/PNG"})]}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("button",{onClick:w,className:"px-4 py-2 border border-blue-200 bg-blue-50 text-blue-600 text-[10px] font-bold active:bg-blue-100 hover:bg-blue-100 transition-colors uppercase tracking-wider",children:""}),n&&l.jsx("button",{onClick:C,className:"px-3 py-2 border border-red-200 bg-red-50 text-red-500 text-[10px] font-bold active:bg-red-100 hover:bg-red-100 transition-colors",children:l.jsx(Wt,{className:"w-3 h-3"})})]})]})]})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:[l.jsx(U1,{className:"w-3 h-3"})," "]}),l.jsx("div",{className:"space-y-2",children:z0.map((D,M)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white border border-slate-200 active:border-slate-400 hover:border-slate-400 transition-colors group",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{onClick:()=>k(D.id),className:"w-10 h-10 bg-slate-50 border border-slate-200 cursor-pointer overflow-hidden relative",children:d[D.id]?l.jsx("img",{src:d[D.id],alt:D.name,className:"w-full h-full object-cover opacity-90 group-active:opacity-100 group-hover:opacity-100 transition-opacity"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:l.jsx(R_,{className:"w-4 h-4"})})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide",children:D.name}),l.jsx("div",{className:"text-[9px] text-slate-400 font-mono",children:D.location})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>k(D.id),className:"p-1.5 text-slate-400 active:text-slate-800 active:bg-slate-100 hover:text-slate-800 hover:bg-slate-100 transition-colors",children:l.jsx(y_,{className:"w-4 h-4",strokeWidth:1.5})}),d[D.id]&&l.jsx("button",{onClick:F=>T(D.id,F),className:"p-1.5 text-slate-300 active:text-red-500 active:bg-red-50 hover:text-red-500 hover:bg-red-50 transition-colors",children:l.jsx(Wt,{className:"w-4 h-4",strokeWidth:1.5})})]}),l.jsx("input",{ref:F=>g.current[D.id]=F,type:"file",accept:"image/*",onChange:F=>j(D.id,F),className:"hidden"})]},D.id))})]})]}),l.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:y,className:"hidden"})]})}function al(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var L0;function G6(){return L0||(L0=1,(function(e,n){(function(r){e.exports=r()})(function(){return(function r(a,i,o){function u(x,f){if(!i[x]){if(!a[x]){var p=typeof al=="function"&&al;if(!f&&p)return p(x,!0);if(d)return d(x,!0);var g=new Error("Cannot find module '"+x+"'");throw g.code="MODULE_NOT_FOUND",g}var v=i[x]={exports:{}};a[x][0].call(v.exports,function(w){var y=a[x][1][w];return u(y||w)},v,v.exports,r,a,i,o)}return i[x].exports}for(var d=typeof al=="function"&&al,h=0;h<o.length;h++)u(o[h]);return u})({1:[function(r,a,i){var o=r("./utils"),u=r("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(h){for(var x,f,p,g,v,w,y,C=[],k=0,j=h.length,T=j,D=o.getTypeOf(h)!=="string";k<h.length;)T=j-k,p=D?(x=h[k++],f=k<j?h[k++]:0,k<j?h[k++]:0):(x=h.charCodeAt(k++),f=k<j?h.charCodeAt(k++):0,k<j?h.charCodeAt(k++):0),g=x>>2,v=(3&x)<<4|f>>4,w=1<T?(15&f)<<2|p>>6:64,y=2<T?63&p:64,C.push(d.charAt(g)+d.charAt(v)+d.charAt(w)+d.charAt(y));return C.join("")},i.decode=function(h){var x,f,p,g,v,w,y=0,C=0,k="data:";if(h.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var j,T=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===d.charAt(64)&&T--,h.charAt(h.length-2)===d.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(j=u.uint8array?new Uint8Array(0|T):new Array(0|T);y<h.length;)x=d.indexOf(h.charAt(y++))<<2|(g=d.indexOf(h.charAt(y++)))>>4,f=(15&g)<<4|(v=d.indexOf(h.charAt(y++)))>>2,p=(3&v)<<6|(w=d.indexOf(h.charAt(y++))),j[C++]=x,v!==64&&(j[C++]=f),w!==64&&(j[C++]=p);return j}},{"./support":30,"./utils":32}],2:[function(r,a,i){var o=r("./external"),u=r("./stream/DataWorker"),d=r("./stream/Crc32Probe"),h=r("./stream/DataLengthProbe");function x(f,p,g,v,w){this.compressedSize=f,this.uncompressedSize=p,this.crc32=g,this.compression=v,this.compressedContent=w}x.prototype={getContentWorker:function(){var f=new u(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new u(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(f,p,g){return f.pipe(new d).pipe(new h("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new h("compressedSize")).withStreamInfo("compression",p)},a.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,i){var o=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,i){var o=r("./utils"),u=(function(){for(var d,h=[],x=0;x<256;x++){d=x;for(var f=0;f<8;f++)d=1&d?3988292384^d>>>1:d>>>1;h[x]=d}return h})();a.exports=function(d,h){return d!==void 0&&d.length?o.getTypeOf(d)!=="string"?(function(x,f,p,g){var v=u,w=g+p;x^=-1;for(var y=g;y<w;y++)x=x>>>8^v[255&(x^f[y])];return-1^x})(0|h,d,d.length,0):(function(x,f,p,g){var v=u,w=g+p;x^=-1;for(var y=g;y<w;y++)x=x>>>8^v[255&(x^f.charCodeAt(y))];return-1^x})(0|h,d,d.length,0):0}},{"./utils":32}],5:[function(r,a,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,a,i){var o=null;o=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:o}},{lie:37}],7:[function(r,a,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=r("pako"),d=r("./utils"),h=r("./stream/GenericWorker"),x=o?"uint8array":"array";function f(p,g){h.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",d.inherits(f,h),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(x,p.data),!1)},f.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,i){function o(v,w){var y,C="";for(y=0;y<w;y++)C+=String.fromCharCode(255&v),v>>>=8;return C}function u(v,w,y,C,k,j){var T,D,M=v.file,F=v.compression,z=j!==x.utf8encode,N=d.transformTo("string",j(M.name)),P=d.transformTo("string",x.utf8encode(M.name)),H=M.comment,Z=d.transformTo("string",j(H)),E=d.transformTo("string",x.utf8encode(H)),L=P.length!==M.name.length,S=E.length!==H.length,K="",U="",I="",$=M.dir,W=M.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};w&&!y||(Q.crc32=v.crc32,Q.compressedSize=v.compressedSize,Q.uncompressedSize=v.uncompressedSize);var O=0;w&&(O|=8),z||!L&&!S||(O|=2048);var B=0,te=0;$&&(B|=16),k==="UNIX"?(te=798,B|=(function(G,ee){var ne=G;return G||(ne=ee?16893:33204),(65535&ne)<<16})(M.unixPermissions,$)):(te=20,B|=(function(G){return 63&(G||0)})(M.dosPermissions)),T=W.getUTCHours(),T<<=6,T|=W.getUTCMinutes(),T<<=5,T|=W.getUTCSeconds()/2,D=W.getUTCFullYear()-1980,D<<=4,D|=W.getUTCMonth()+1,D<<=5,D|=W.getUTCDate(),L&&(U=o(1,1)+o(f(N),4)+P,K+="up"+o(U.length,2)+U),S&&(I=o(1,1)+o(f(Z),4)+E,K+="uc"+o(I.length,2)+I);var X="";return X+=`
\0`,X+=o(O,2),X+=F.magic,X+=o(T,2),X+=o(D,2),X+=o(Q.crc32,4),X+=o(Q.compressedSize,4),X+=o(Q.uncompressedSize,4),X+=o(N.length,2),X+=o(K.length,2),{fileRecord:p.LOCAL_FILE_HEADER+X+N+K,dirRecord:p.CENTRAL_FILE_HEADER+o(te,2)+X+o(Z.length,2)+"\0\0\0\0"+o(B,4)+o(C,4)+N+K+Z}}var d=r("../utils"),h=r("../stream/GenericWorker"),x=r("../utf8"),f=r("../crc32"),p=r("../signature");function g(v,w,y,C){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=y,this.encodeFileName=C,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(g,h),g.prototype.push=function(v){var w=v.meta.percent||0,y=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,h.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:y?(w+100*(y-C-1))/y:100}}))},g.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var w=this.streamFiles&&!v.file.dir;if(w){var y=u(v,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(v){this.accumulate=!1;var w=this.streamFiles&&!v.file.dir,y=u(v,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),w)this.push({data:(function(C){return p.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var v=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var y=this.bytesWritten-v,C=(function(k,j,T,D,M){var F=d.transformTo("string",M(D));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(k,2)+o(k,2)+o(j,4)+o(T,4)+o(F.length,2)+F})(this.dirRecords.length,y,v,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(v){this._sources.push(v);var w=this;return v.on("data",function(y){w.processChunk(y)}),v.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),v.on("error",function(y){w.error(y)}),this},g.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(v){var w=this._sources;if(!h.prototype.error.call(this,v))return!1;for(var y=0;y<w.length;y++)try{w[y].error(v)}catch{}return!0},g.prototype.lock=function(){h.prototype.lock.call(this);for(var v=this._sources,w=0;w<v.length;w++)v[w].lock()},a.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,i){var o=r("../compressions"),u=r("./ZipFileWorker");i.generateWorker=function(d,h,x){var f=new u(h.streamFiles,x,h.platform,h.encodeFileName),p=0;try{d.forEach(function(g,v){p++;var w=(function(j,T){var D=j||T,M=o[D];if(!M)throw new Error(D+" is not a valid compression method !");return M})(v.options.compression,h.compression),y=v.options.compressionOptions||h.compressionOptions||{},C=v.dir,k=v.date;v._compressWorker(w,y).withStreamInfo("file",{name:g,dir:C,date:k,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(g){f.error(g)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new o;for(var d in this)typeof this[d]!="function"&&(u[d]=this[d]);return u}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(u,d){return new o().loadAsync(u,d)},o.external=r("./external"),a.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,i){var o=r("./utils"),u=r("./external"),d=r("./utf8"),h=r("./zipEntries"),x=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function p(g){return new u.Promise(function(v,w){var y=g.decompressed.getContentWorker().pipe(new x);y.on("error",function(C){w(C)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}a.exports=function(g,v){var w=this;return v=o.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),f.isNode&&f.isStream(g)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",g,!0,v.optimizedBinaryString,v.base64).then(function(y){var C=new h(v);return C.load(y),C}).then(function(y){var C=[u.Promise.resolve(y)],k=y.files;if(v.checkCRC32)for(var j=0;j<k.length;j++)C.push(p(k[j]));return u.Promise.all(C)}).then(function(y){for(var C=y.shift(),k=C.files,j=0;j<k.length;j++){var T=k[j],D=T.fileNameStr,M=o.resolve(T.fileNameStr);w.file(M,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:v.createFolders}),T.dir||(w.file(M).unsafeOriginalName=D)}return C.zipComment.length&&(w.comment=C.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,i){var o=r("../utils"),u=r("../stream/GenericWorker");function d(h,x){u.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(x)}o.inherits(d,u),d.prototype._bindStream=function(h){var x=this;(this._stream=h).pause(),h.on("data",function(f){x.push({data:f,meta:{percent:0}})}).on("error",function(f){x.isPaused?this.generatedError=f:x.error(f)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},d.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,i){var o=r("readable-stream").Readable;function u(d,h,x){o.call(this,h),this._helper=d;var f=this;d.on("data",function(p,g){f.push(p)||f._helper.pause(),x&&x(g)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}r("../utils").inherits(u,o),u.prototype._read=function(){this._helper.resume()},a.exports=u},{"../utils":32,"readable-stream":16}],14:[function(r,a,i){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,u);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,u)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var u=new Buffer(o);return u.fill(0),u},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,a,i){function o(M,F,z){var N,P=d.getTypeOf(F),H=d.extend(z||{},f);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(M=k(M)),H.createFolders&&(N=C(M))&&j.call(this,N,!0);var Z=P==="string"&&H.binary===!1&&H.base64===!1;z&&z.binary!==void 0||(H.binary=!Z),(F instanceof p&&F.uncompressedSize===0||H.dir||!F||F.length===0)&&(H.base64=!1,H.binary=!0,F="",H.compression="STORE",P="string");var E=null;E=F instanceof p||F instanceof h?F:w.isNode&&w.isStream(F)?new y(M,F):d.prepareContent(M,F,H.binary,H.optimizedBinaryString,H.base64);var L=new g(M,E,H);this.files[M]=L}var u=r("./utf8"),d=r("./utils"),h=r("./stream/GenericWorker"),x=r("./stream/StreamHelper"),f=r("./defaults"),p=r("./compressedObject"),g=r("./zipObject"),v=r("./generate"),w=r("./nodejsUtils"),y=r("./nodejs/NodejsStreamInputAdapter"),C=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var F=M.lastIndexOf("/");return 0<F?M.substring(0,F):""},k=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},j=function(M,F){return F=F!==void 0?F:f.createFolders,M=k(M),this.files[M]||o.call(this,M,null,{dir:!0,createFolders:F}),this.files[M]};function T(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var F,z,N;for(F in this.files)N=this.files[F],(z=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&M(z,N)},filter:function(M){var F=[];return this.forEach(function(z,N){M(z,N)&&F.push(N)}),F},file:function(M,F,z){if(arguments.length!==1)return M=this.root+M,o.call(this,M,F,z),this;if(T(M)){var N=M;return this.filter(function(H,Z){return!Z.dir&&N.test(H)})}var P=this.files[this.root+M];return P&&!P.dir?P:null},folder:function(M){if(!M)return this;if(T(M))return this.filter(function(P,H){return H.dir&&M.test(P)});var F=this.root+M,z=j.call(this,F),N=this.clone();return N.root=z.name,N},remove:function(M){M=this.root+M;var F=this.files[M];if(F||(M.slice(-1)!=="/"&&(M+="/"),F=this.files[M]),F&&!F.dir)delete this.files[M];else for(var z=this.filter(function(P,H){return H.name.slice(0,M.length)===M}),N=0;N<z.length;N++)delete this.files[z[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var F,z={};try{if((z=d.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");d.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var N=z.comment||this.comment||"";F=v.generateWorker(this,z,N)}catch(P){(F=new h("error")).error(P)}return new x(F,z.type||"string",z.mimeType)},generateAsync:function(M,F){return this.generateInternalStream(M).accumulate(F)},generateNodeStream:function(M,F){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(F)}};a.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,i){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,i){var o=r("./DataReader");function u(d){o.call(this,d);for(var h=0;h<this.data.length;h++)d[h]=255&d[h]}r("../utils").inherits(u,o),u.prototype.byteAt=function(d){return this.data[this.zero+d]},u.prototype.lastIndexOfSignature=function(d){for(var h=d.charCodeAt(0),x=d.charCodeAt(1),f=d.charCodeAt(2),p=d.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===h&&this.data[g+1]===x&&this.data[g+2]===f&&this.data[g+3]===p)return g-this.zero;return-1},u.prototype.readAndCheckSignature=function(d){var h=d.charCodeAt(0),x=d.charCodeAt(1),f=d.charCodeAt(2),p=d.charCodeAt(3),g=this.readData(4);return h===g[0]&&x===g[1]&&f===g[2]&&p===g[3]},u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},a.exports=u},{"../utils":32,"./DataReader":18}],18:[function(r,a,i){var o=r("../utils");function u(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var h,x=0;for(this.checkOffset(d),h=this.index+d-1;h>=this.index;h--)x=(x<<8)+this.byteAt(h);return this.index+=d,x},readString:function(d){return o.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},a.exports=u},{"../utils":32}],19:[function(r,a,i){var o=r("./Uint8ArrayReader");function u(d){o.call(this,d)}r("../utils").inherits(u,o),u.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},a.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,i){var o=r("./DataReader");function u(d){o.call(this,d)}r("../utils").inherits(u,o),u.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},u.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},u.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},u.prototype.readData=function(d){this.checkOffset(d);var h=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},a.exports=u},{"../utils":32,"./DataReader":18}],21:[function(r,a,i){var o=r("./ArrayReader");function u(d){o.call(this,d)}r("../utils").inherits(u,o),u.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,h},a.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,i){var o=r("../utils"),u=r("../support"),d=r("./ArrayReader"),h=r("./StringReader"),x=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");a.exports=function(p){var g=o.getTypeOf(p);return o.checkSupport(g),g!=="string"||u.uint8array?g==="nodebuffer"?new x(p):u.uint8array?new f(o.transformTo("uint8array",p)):new d(o.transformTo("array",p)):new h(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,i){var o=r("./GenericWorker"),u=r("../utils");function d(h){o.call(this,"ConvertWorker to "+h),this.destType=h}u.inherits(d,o),d.prototype.processChunk=function(h){this.push({data:u.transformTo(this.destType,h.data),meta:h.meta})},a.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,i){var o=r("./GenericWorker"),u=r("../crc32");function d(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(d,o),d.prototype.processChunk=function(h){this.streamInfo.crc32=u(h.data,this.streamInfo.crc32||0),this.push(h)},a.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,i){var o=r("../utils"),u=r("./GenericWorker");function d(h){u.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}o.inherits(d,u),d.prototype.processChunk=function(h){if(h){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+h.data.length}u.prototype.processChunk.call(this,h)},a.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,i){var o=r("../utils"),u=r("./GenericWorker");function d(h){u.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(f){x.dataIsReady=!0,x.data=f,x.max=f&&f.length||0,x.type=o.getTypeOf(f),x.isPaused||x._tickAndRepeat()},function(f){x.error(f)})}o.inherits(d,u),d.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,x);break;case"uint8array":h=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":h=this.data.slice(this.index,x)}return this.index=x,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,i){function o(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,d){return this._listeners[u].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,d){if(this._listeners[u])for(var h=0;h<this._listeners[u].length;h++)this._listeners[u][h].call(this,d)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var d=this;return u.on("data",function(h){d.processChunk(h)}),u.on("end",function(){d.end()}),u.on("error",function(h){d.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,d){return this.extraStreamInfo[u]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},a.exports=o},{}],29:[function(r,a,i){var o=r("../utils"),u=r("./ConvertWorker"),d=r("./GenericWorker"),h=r("../base64"),x=r("../support"),f=r("../external"),p=null;if(x.nodestream)try{p=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(w,y){return new f.Promise(function(C,k){var j=[],T=w._internalType,D=w._outputType,M=w._mimeType;w.on("data",function(F,z){j.push(F),y&&y(z)}).on("error",function(F){j=[],k(F)}).on("end",function(){try{var F=(function(z,N,P){switch(z){case"blob":return o.newBlob(o.transformTo("arraybuffer",N),P);case"base64":return h.encode(N);default:return o.transformTo(z,N)}})(D,(function(z,N){var P,H=0,Z=null,E=0;for(P=0;P<N.length;P++)E+=N[P].length;switch(z){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(Z=new Uint8Array(E),P=0;P<N.length;P++)Z.set(N[P],H),H+=N[P].length;return Z;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+z+"'")}})(T,j),M);C(F)}catch(z){k(z)}j=[]}).resume()})}function v(w,y,C){var k=y;switch(y){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=y,this._mimeType=C,o.checkSupport(k),this._worker=w.pipe(new u(k)),w.lock()}catch(j){this._worker=new d("error"),this._worker.error(j)}}v.prototype={accumulate:function(w){return g(this,w)},on:function(w,y){var C=this;return w==="data"?this._worker.on(w,function(k){y.call(C,k.data,k.meta)}):this._worker.on(w,function(){o.delay(y,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},w)}},a.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(o),i.blob=u.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,i){for(var o=r("./utils"),u=r("./support"),d=r("./nodejsUtils"),h=r("./stream/GenericWorker"),x=new Array(256),f=0;f<256;f++)x[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;x[254]=x[254]=1;function p(){h.call(this,"utf-8 decode"),this.leftOver=null}function g(){h.call(this,"utf-8 encode")}i.utf8encode=function(v){return u.nodebuffer?d.newBufferFrom(v,"utf-8"):(function(w){var y,C,k,j,T,D=w.length,M=0;for(j=0;j<D;j++)(64512&(C=w.charCodeAt(j)))==55296&&j+1<D&&(64512&(k=w.charCodeAt(j+1)))==56320&&(C=65536+(C-55296<<10)+(k-56320),j++),M+=C<128?1:C<2048?2:C<65536?3:4;for(y=u.uint8array?new Uint8Array(M):new Array(M),j=T=0;T<M;j++)(64512&(C=w.charCodeAt(j)))==55296&&j+1<D&&(64512&(k=w.charCodeAt(j+1)))==56320&&(C=65536+(C-55296<<10)+(k-56320),j++),C<128?y[T++]=C:(C<2048?y[T++]=192|C>>>6:(C<65536?y[T++]=224|C>>>12:(y[T++]=240|C>>>18,y[T++]=128|C>>>12&63),y[T++]=128|C>>>6&63),y[T++]=128|63&C);return y})(v)},i.utf8decode=function(v){return u.nodebuffer?o.transformTo("nodebuffer",v).toString("utf-8"):(function(w){var y,C,k,j,T=w.length,D=new Array(2*T);for(y=C=0;y<T;)if((k=w[y++])<128)D[C++]=k;else if(4<(j=x[k]))D[C++]=65533,y+=j-1;else{for(k&=j===2?31:j===3?15:7;1<j&&y<T;)k=k<<6|63&w[y++],j--;1<j?D[C++]=65533:k<65536?D[C++]=k:(k-=65536,D[C++]=55296|k>>10&1023,D[C++]=56320|1023&k)}return D.length!==C&&(D.subarray?D=D.subarray(0,C):D.length=C),o.applyFromCharCode(D)})(v=o.transformTo(u.uint8array?"uint8array":"array",v))},o.inherits(p,h),p.prototype.processChunk=function(v){var w=o.transformTo(u.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var y=w;(w=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),w.set(y,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var C=(function(j,T){var D;for((T=T||j.length)>j.length&&(T=j.length),D=T-1;0<=D&&(192&j[D])==128;)D--;return D<0||D===0?T:D+x[j[D]]>T?D:T})(w),k=w;C!==w.length&&(u.uint8array?(k=w.subarray(0,C),this.leftOver=w.subarray(C,w.length)):(k=w.slice(0,C),this.leftOver=w.slice(C,w.length))),this.push({data:i.utf8decode(k),meta:v.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,o.inherits(g,h),g.prototype.processChunk=function(v){this.push({data:i.utf8encode(v.data),meta:v.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,i){var o=r("./support"),u=r("./base64"),d=r("./nodejsUtils"),h=r("./external");function x(y){return y}function f(y,C){for(var k=0;k<y.length;++k)C[k]=255&y.charCodeAt(k);return C}r("setimmediate"),i.newBlob=function(y,C){i.checkSupport("blob");try{return new Blob([y],{type:C})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(y),k.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(y,C,k){var j=[],T=0,D=y.length;if(D<=k)return String.fromCharCode.apply(null,y);for(;T<D;)C==="array"||C==="nodebuffer"?j.push(String.fromCharCode.apply(null,y.slice(T,Math.min(T+k,D)))):j.push(String.fromCharCode.apply(null,y.subarray(T,Math.min(T+k,D)))),T+=k;return j.join("")},stringifyByChar:function(y){for(var C="",k=0;k<y.length;k++)C+=String.fromCharCode(y[k]);return C},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function g(y){var C=65536,k=i.getTypeOf(y),j=!0;if(k==="uint8array"?j=p.applyCanBeUsed.uint8array:k==="nodebuffer"&&(j=p.applyCanBeUsed.nodebuffer),j)for(;1<C;)try{return p.stringifyByChunk(y,k,C)}catch{C=Math.floor(C/2)}return p.stringifyByChar(y)}function v(y,C){for(var k=0;k<y.length;k++)C[k]=y[k];return C}i.applyFromCharCode=g;var w={};w.string={string:x,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return w.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,d.allocBuffer(y.length))}},w.array={string:g,array:x,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return d.newBufferFrom(y)}},w.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return v(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:x,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return d.newBufferFrom(new Uint8Array(y))}},w.uint8array={string:g,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:x,nodebuffer:function(y){return d.newBufferFrom(y)}},w.nodebuffer={string:g,array:function(y){return v(y,new Array(y.length))},arraybuffer:function(y){return w.nodebuffer.uint8array(y).buffer},uint8array:function(y){return v(y,new Uint8Array(y.length))},nodebuffer:x},i.transformTo=function(y,C){if(C=C||"",!y)return C;i.checkSupport(y);var k=i.getTypeOf(C);return w[k][y](C)},i.resolve=function(y){for(var C=y.split("/"),k=[],j=0;j<C.length;j++){var T=C[j];T==="."||T===""&&j!==0&&j!==C.length-1||(T===".."?k.pop():k.push(T))}return k.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&d.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var C,k,j="";for(k=0;k<(y||"").length;k++)j+="\\x"+((C=y.charCodeAt(k))<16?"0":"")+C.toString(16).toUpperCase();return j},i.delay=function(y,C,k){setImmediate(function(){y.apply(k||null,C||[])})},i.inherits=function(y,C){function k(){}k.prototype=C.prototype,y.prototype=new k},i.extend=function(){var y,C,k={};for(y=0;y<arguments.length;y++)for(C in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],C)&&k[C]===void 0&&(k[C]=arguments[y][C]);return k},i.prepareContent=function(y,C,k,j,T){return h.Promise.resolve(C).then(function(D){return o.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new h.Promise(function(M,F){var z=new FileReader;z.onload=function(N){M(N.target.result)},z.onerror=function(N){F(N.target.error)},z.readAsArrayBuffer(D)}):D}).then(function(D){var M=i.getTypeOf(D);return M?(M==="arraybuffer"?D=i.transformTo("uint8array",D):M==="string"&&(T?D=u.decode(D):k&&j!==!0&&(D=(function(F){return f(F,o.uint8array?new Uint8Array(F.length):new Array(F.length))})(D))),D):h.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,i){var o=r("./reader/readerFor"),u=r("./utils"),d=r("./signature"),h=r("./zipEntry"),x=r("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(g)+", expected "+u.pretty(p)+")")}},isSignature:function(p,g){var v=this.reader.index;this.reader.setIndex(p);var w=this.reader.readString(4)===g;return this.reader.setIndex(v),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=x.uint8array?"uint8array":"array",v=u.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,v,w=this.zip64EndOfCentralSize-44;0<w;)p=this.reader.readInt(2),g=this.reader.readInt(4),v=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(p=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var w=g-v;if(0<w)this.isSignature(g,d.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(p){this.reader=o(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,i){var o=r("./reader/readerFor"),u=r("./utils"),d=r("./compressedObject"),h=r("./crc32"),x=r("./utf8"),f=r("./compressions"),p=r("./support");function g(v,w){this.options=v,this.loadOptions=w}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var w,y;if(v.skip(22),this.fileNameLength=v.readInt(2),y=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=(function(C){for(var k in f)if(Object.prototype.hasOwnProperty.call(f,k)&&f[k].magic===C)return f[k];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,w,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var w=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(w),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=o(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var w,y,C,k=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<k;)w=v.readInt(2),y=v.readInt(2),C=v.readData(y),this.extraFields[w]={id:w,length:y,value:C};v.setIndex(k)},handleUTF8:function(){var v=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var y=u.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var k=u.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var w=o(v.value);return w.readInt(1)!==1||h(this.fileName)!==w.readInt(4)?null:x.utf8decode(w.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var w=o(v.value);return w.readInt(1)!==1||h(this.fileComment)!==w.readInt(4)?null:x.utf8decode(w.readData(v.length-5))}return null}},a.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,i){function o(w,y,C){this.name=w,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=y,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var u=r("./stream/StreamHelper"),d=r("./stream/DataWorker"),h=r("./utf8"),x=r("./compressedObject"),f=r("./stream/GenericWorker");o.prototype={internalStream:function(w){var y=null,C="string";try{if(!w)throw new Error("No output type specified.");var k=(C=w.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),y=this._decompressWorker();var j=!this._dataBinary;j&&!k&&(y=y.pipe(new h.Utf8EncodeWorker)),!j&&k&&(y=y.pipe(new h.Utf8DecodeWorker))}catch(T){(y=new f("error")).error(T)}return new u(y,C,"")},async:function(w,y){return this.internalStream(w).accumulate(y)},nodeStream:function(w,y){return this.internalStream(w||"nodebuffer").toNodejsStream(y)},_compressWorker:function(w,y){if(this._data instanceof x&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new h.Utf8EncodeWorker)),x.createWorkerFrom(C,w,y)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof f?this._data:new d(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<p.length;v++)o.prototype[p[v]]=g;a.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,i){(function(o){var u,d,h=o.MutationObserver||o.WebKitMutationObserver;if(h){var x=0,f=new h(w),p=o.document.createTextNode("");f.observe(p,{characterData:!0}),u=function(){p.data=x=++x%2}}else if(o.setImmediate||o.MessageChannel===void 0)u="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){w(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(w,0)};else{var g=new o.MessageChannel;g.port1.onmessage=w,u=function(){g.port2.postMessage(0)}}var v=[];function w(){var y,C;d=!0;for(var k=v.length;k;){for(C=v,v=[],y=-1;++y<k;)C[y]();k=v.length}d=!1}a.exports=function(y){v.push(y)!==1||d||u()}}).call(this,typeof Ko<"u"?Ko:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,i){var o=r("immediate");function u(){}var d={},h=["REJECTED"],x=["FULFILLED"],f=["PENDING"];function p(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,k!==u&&y(this,k)}function g(k,j,T){this.promise=k,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function v(k,j,T){o(function(){var D;try{D=j(T)}catch(M){return d.reject(k,M)}D===k?d.reject(k,new TypeError("Cannot resolve promise with itself")):d.resolve(k,D)})}function w(k){var j=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof j=="function")return function(){j.apply(k,arguments)}}function y(k,j){var T=!1;function D(z){T||(T=!0,d.reject(k,z))}function M(z){T||(T=!0,d.resolve(k,z))}var F=C(function(){j(M,D)});F.status==="error"&&D(F.value)}function C(k,j){var T={};try{T.value=k(j),T.status="success"}catch(D){T.status="error",T.value=D}return T}(a.exports=p).prototype.finally=function(k){if(typeof k!="function")return this;var j=this.constructor;return this.then(function(T){return j.resolve(k()).then(function(){return T})},function(T){return j.resolve(k()).then(function(){throw T})})},p.prototype.catch=function(k){return this.then(null,k)},p.prototype.then=function(k,j){if(typeof k!="function"&&this.state===x||typeof j!="function"&&this.state===h)return this;var T=new this.constructor(u);return this.state!==f?v(T,this.state===x?k:j,this.outcome):this.queue.push(new g(T,k,j)),T},g.prototype.callFulfilled=function(k){d.resolve(this.promise,k)},g.prototype.otherCallFulfilled=function(k){v(this.promise,this.onFulfilled,k)},g.prototype.callRejected=function(k){d.reject(this.promise,k)},g.prototype.otherCallRejected=function(k){v(this.promise,this.onRejected,k)},d.resolve=function(k,j){var T=C(w,j);if(T.status==="error")return d.reject(k,T.value);var D=T.value;if(D)y(k,D);else{k.state=x,k.outcome=j;for(var M=-1,F=k.queue.length;++M<F;)k.queue[M].callFulfilled(j)}return k},d.reject=function(k,j){k.state=h,k.outcome=j;for(var T=-1,D=k.queue.length;++T<D;)k.queue[T].callRejected(j);return k},p.resolve=function(k){return k instanceof this?k:d.resolve(new this(u),k)},p.reject=function(k){var j=new this(u);return d.reject(j,k)},p.all=function(k){var j=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,D=!1;if(!T)return this.resolve([]);for(var M=new Array(T),F=0,z=-1,N=new this(u);++z<T;)P(k[z],z);return N;function P(H,Z){j.resolve(H).then(function(E){M[Z]=E,++F!==T||D||(D=!0,d.resolve(N,M))},function(E){D||(D=!0,d.reject(N,E))})}},p.race=function(k){var j=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,D=!1;if(!T)return this.resolve([]);for(var M=-1,F=new this(u);++M<T;)z=k[M],j.resolve(z).then(function(N){D||(D=!0,d.resolve(F,N))},function(N){D||(D=!0,d.reject(F,N))});var z;return F}},{immediate:36}],38:[function(r,a,i){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,i){var o=r("./zlib/deflate"),u=r("./utils/common"),d=r("./utils/strings"),h=r("./zlib/messages"),x=r("./zlib/zstream"),f=Object.prototype.toString,p=0,g=-1,v=0,w=8;function y(k){if(!(this instanceof y))return new y(k);this.options=u.assign({level:g,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},k||{});var j=this.options;j.raw&&0<j.windowBits?j.windowBits=-j.windowBits:j.gzip&&0<j.windowBits&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var T=o.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(T!==p)throw new Error(h[T]);if(j.header&&o.deflateSetHeader(this.strm,j.header),j.dictionary){var D;if(D=typeof j.dictionary=="string"?d.string2buf(j.dictionary):f.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(T=o.deflateSetDictionary(this.strm,D))!==p)throw new Error(h[T]);this._dict_set=!0}}function C(k,j){var T=new y(j);if(T.push(k,!0),T.err)throw T.msg||h[T.err];return T.result}y.prototype.push=function(k,j){var T,D,M=this.strm,F=this.options.chunkSize;if(this.ended)return!1;D=j===~~j?j:j===!0?4:0,typeof k=="string"?M.input=d.string2buf(k):f.call(k)==="[object ArrayBuffer]"?M.input=new Uint8Array(k):M.input=k,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new u.Buf8(F),M.next_out=0,M.avail_out=F),(T=o.deflate(M,D))!==1&&T!==p)return this.onEnd(T),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(u.shrinkBuf(M.output,M.next_out))):this.onData(u.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&T!==1);return D===4?(T=o.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===p):D!==2||(this.onEnd(p),!(M.avail_out=0))},y.prototype.onData=function(k){this.chunks.push(k)},y.prototype.onEnd=function(k){k===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},i.Deflate=y,i.deflate=C,i.deflateRaw=function(k,j){return(j=j||{}).raw=!0,C(k,j)},i.gzip=function(k,j){return(j=j||{}).gzip=!0,C(k,j)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,i){var o=r("./zlib/inflate"),u=r("./utils/common"),d=r("./utils/strings"),h=r("./zlib/constants"),x=r("./zlib/messages"),f=r("./zlib/zstream"),p=r("./zlib/gzheader"),g=Object.prototype.toString;function v(y){if(!(this instanceof v))return new v(y);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},y||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||y&&y.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var k=o.inflateInit2(this.strm,C.windowBits);if(k!==h.Z_OK)throw new Error(x[k]);this.header=new p,o.inflateGetHeader(this.strm,this.header)}function w(y,C){var k=new v(C);if(k.push(y,!0),k.err)throw k.msg||x[k.err];return k.result}v.prototype.push=function(y,C){var k,j,T,D,M,F,z=this.strm,N=this.options.chunkSize,P=this.options.dictionary,H=!1;if(this.ended)return!1;j=C===~~C?C:C===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof y=="string"?z.input=d.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?z.input=new Uint8Array(y):z.input=y,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new u.Buf8(N),z.next_out=0,z.avail_out=N),(k=o.inflate(z,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&P&&(F=typeof P=="string"?d.string2buf(P):g.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,k=o.inflateSetDictionary(this.strm,F)),k===h.Z_BUF_ERROR&&H===!0&&(k=h.Z_OK,H=!1),k!==h.Z_STREAM_END&&k!==h.Z_OK)return this.onEnd(k),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&k!==h.Z_STREAM_END&&(z.avail_in!==0||j!==h.Z_FINISH&&j!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=d.utf8border(z.output,z.next_out),D=z.next_out-T,M=d.buf2string(z.output,T),z.next_out=D,z.avail_out=N-D,D&&u.arraySet(z.output,z.output,T,D,0),this.onData(M)):this.onData(u.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(H=!0)}while((0<z.avail_in||z.avail_out===0)&&k!==h.Z_STREAM_END);return k===h.Z_STREAM_END&&(j=h.Z_FINISH),j===h.Z_FINISH?(k=o.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h.Z_OK):j!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(z.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=v,i.inflate=w,i.inflateRaw=function(y,C){return(C=C||{}).raw=!0,w(y,C)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(h){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var f=x.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(h[p]=f[p])}}return h},i.shrinkBuf=function(h,x){return h.length===x?h:h.subarray?h.subarray(0,x):(h.length=x,h)};var u={arraySet:function(h,x,f,p,g){if(x.subarray&&h.subarray)h.set(x.subarray(f,f+p),g);else for(var v=0;v<p;v++)h[g+v]=x[f+v]},flattenChunks:function(h){var x,f,p,g,v,w;for(x=p=0,f=h.length;x<f;x++)p+=h[x].length;for(w=new Uint8Array(p),x=g=0,f=h.length;x<f;x++)v=h[x],w.set(v,g),g+=v.length;return w}},d={arraySet:function(h,x,f,p,g){for(var v=0;v<p;v++)h[g+v]=x[f+v]},flattenChunks:function(h){return[].concat.apply([],h)}};i.setTyped=function(h){h?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,u)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,d))},i.setTyped(o)},{}],42:[function(r,a,i){var o=r("./common"),u=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var h=new o.Buf8(256),x=0;x<256;x++)h[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function f(p,g){if(g<65537&&(p.subarray&&d||!p.subarray&&u))return String.fromCharCode.apply(null,o.shrinkBuf(p,g));for(var v="",w=0;w<g;w++)v+=String.fromCharCode(p[w]);return v}h[254]=h[254]=1,i.string2buf=function(p){var g,v,w,y,C,k=p.length,j=0;for(y=0;y<k;y++)(64512&(v=p.charCodeAt(y)))==55296&&y+1<k&&(64512&(w=p.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),y++),j+=v<128?1:v<2048?2:v<65536?3:4;for(g=new o.Buf8(j),y=C=0;C<j;y++)(64512&(v=p.charCodeAt(y)))==55296&&y+1<k&&(64512&(w=p.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(w-56320),y++),v<128?g[C++]=v:(v<2048?g[C++]=192|v>>>6:(v<65536?g[C++]=224|v>>>12:(g[C++]=240|v>>>18,g[C++]=128|v>>>12&63),g[C++]=128|v>>>6&63),g[C++]=128|63&v);return g},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var g=new o.Buf8(p.length),v=0,w=g.length;v<w;v++)g[v]=p.charCodeAt(v);return g},i.buf2string=function(p,g){var v,w,y,C,k=g||p.length,j=new Array(2*k);for(v=w=0;v<k;)if((y=p[v++])<128)j[w++]=y;else if(4<(C=h[y]))j[w++]=65533,v+=C-1;else{for(y&=C===2?31:C===3?15:7;1<C&&v<k;)y=y<<6|63&p[v++],C--;1<C?j[w++]=65533:y<65536?j[w++]=y:(y-=65536,j[w++]=55296|y>>10&1023,j[w++]=56320|1023&y)}return f(j,w)},i.utf8border=function(p,g){var v;for((g=g||p.length)>p.length&&(g=p.length),v=g-1;0<=v&&(192&p[v])==128;)v--;return v<0||v===0?g:v+h[p[v]]>g?v:g}},{"./common":41}],43:[function(r,a,i){a.exports=function(o,u,d,h){for(var x=65535&o|0,f=o>>>16&65535|0,p=0;d!==0;){for(d-=p=2e3<d?2e3:d;f=f+(x=x+u[h++]|0)|0,--p;);x%=65521,f%=65521}return x|f<<16|0}},{}],44:[function(r,a,i){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,i){var o=(function(){for(var u,d=[],h=0;h<256;h++){u=h;for(var x=0;x<8;x++)u=1&u?3988292384^u>>>1:u>>>1;d[h]=u}return d})();a.exports=function(u,d,h,x){var f=o,p=x+h;u^=-1;for(var g=x;g<p;g++)u=u>>>8^f[255&(u^d[g])];return-1^u}},{}],46:[function(r,a,i){var o,u=r("../utils/common"),d=r("./trees"),h=r("./adler32"),x=r("./crc32"),f=r("./messages"),p=0,g=4,v=0,w=-2,y=-1,C=4,k=2,j=8,T=9,D=286,M=30,F=19,z=2*D+1,N=15,P=3,H=258,Z=H+P+1,E=42,L=113,S=1,K=2,U=3,I=4;function $(R,fe){return R.msg=f[fe],fe}function W(R){return(R<<1)-(4<R?9:0)}function Q(R){for(var fe=R.length;0<=--fe;)R[fe]=0}function O(R){var fe=R.state,ce=fe.pending;ce>R.avail_out&&(ce=R.avail_out),ce!==0&&(u.arraySet(R.output,fe.pending_buf,fe.pending_out,ce,R.next_out),R.next_out+=ce,fe.pending_out+=ce,R.total_out+=ce,R.avail_out-=ce,fe.pending-=ce,fe.pending===0&&(fe.pending_out=0))}function B(R,fe){d._tr_flush_block(R,0<=R.block_start?R.block_start:-1,R.strstart-R.block_start,fe),R.block_start=R.strstart,O(R.strm)}function te(R,fe){R.pending_buf[R.pending++]=fe}function X(R,fe){R.pending_buf[R.pending++]=fe>>>8&255,R.pending_buf[R.pending++]=255&fe}function G(R,fe){var ce,Y,q=R.max_chain_length,se=R.strstart,ve=R.prev_length,pe=R.nice_match,ie=R.strstart>R.w_size-Z?R.strstart-(R.w_size-Z):0,we=R.window,ke=R.w_mask,Se=R.prev,Me=R.strstart+H,qe=we[se+ve-1],Ve=we[se+ve];R.prev_length>=R.good_match&&(q>>=2),pe>R.lookahead&&(pe=R.lookahead);do if(we[(ce=fe)+ve]===Ve&&we[ce+ve-1]===qe&&we[ce]===we[se]&&we[++ce]===we[se+1]){se+=2,ce++;do;while(we[++se]===we[++ce]&&we[++se]===we[++ce]&&we[++se]===we[++ce]&&we[++se]===we[++ce]&&we[++se]===we[++ce]&&we[++se]===we[++ce]&&we[++se]===we[++ce]&&we[++se]===we[++ce]&&se<Me);if(Y=H-(Me-se),se=Me-H,ve<Y){if(R.match_start=fe,pe<=(ve=Y))break;qe=we[se+ve-1],Ve=we[se+ve]}}while((fe=Se[fe&ke])>ie&&--q!=0);return ve<=R.lookahead?ve:R.lookahead}function ee(R){var fe,ce,Y,q,se,ve,pe,ie,we,ke,Se=R.w_size;do{if(q=R.window_size-R.lookahead-R.strstart,R.strstart>=Se+(Se-Z)){for(u.arraySet(R.window,R.window,Se,Se,0),R.match_start-=Se,R.strstart-=Se,R.block_start-=Se,fe=ce=R.hash_size;Y=R.head[--fe],R.head[fe]=Se<=Y?Y-Se:0,--ce;);for(fe=ce=Se;Y=R.prev[--fe],R.prev[fe]=Se<=Y?Y-Se:0,--ce;);q+=Se}if(R.strm.avail_in===0)break;if(ve=R.strm,pe=R.window,ie=R.strstart+R.lookahead,we=q,ke=void 0,ke=ve.avail_in,we<ke&&(ke=we),ce=ke===0?0:(ve.avail_in-=ke,u.arraySet(pe,ve.input,ve.next_in,ke,ie),ve.state.wrap===1?ve.adler=h(ve.adler,pe,ke,ie):ve.state.wrap===2&&(ve.adler=x(ve.adler,pe,ke,ie)),ve.next_in+=ke,ve.total_in+=ke,ke),R.lookahead+=ce,R.lookahead+R.insert>=P)for(se=R.strstart-R.insert,R.ins_h=R.window[se],R.ins_h=(R.ins_h<<R.hash_shift^R.window[se+1])&R.hash_mask;R.insert&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[se+P-1])&R.hash_mask,R.prev[se&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=se,se++,R.insert--,!(R.lookahead+R.insert<P)););}while(R.lookahead<Z&&R.strm.avail_in!==0)}function ne(R,fe){for(var ce,Y;;){if(R.lookahead<Z){if(ee(R),R.lookahead<Z&&fe===p)return S;if(R.lookahead===0)break}if(ce=0,R.lookahead>=P&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,ce=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),ce!==0&&R.strstart-ce<=R.w_size-Z&&(R.match_length=G(R,ce)),R.match_length>=P)if(Y=d._tr_tally(R,R.strstart-R.match_start,R.match_length-P),R.lookahead-=R.match_length,R.match_length<=R.max_lazy_match&&R.lookahead>=P){for(R.match_length--;R.strstart++,R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,ce=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart,--R.match_length!=0;);R.strstart++}else R.strstart+=R.match_length,R.match_length=0,R.ins_h=R.window[R.strstart],R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+1])&R.hash_mask;else Y=d._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++;if(Y&&(B(R,!1),R.strm.avail_out===0))return S}return R.insert=R.strstart<P-1?R.strstart:P-1,fe===g?(B(R,!0),R.strm.avail_out===0?U:I):R.last_lit&&(B(R,!1),R.strm.avail_out===0)?S:K}function oe(R,fe){for(var ce,Y,q;;){if(R.lookahead<Z){if(ee(R),R.lookahead<Z&&fe===p)return S;if(R.lookahead===0)break}if(ce=0,R.lookahead>=P&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,ce=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),R.prev_length=R.match_length,R.prev_match=R.match_start,R.match_length=P-1,ce!==0&&R.prev_length<R.max_lazy_match&&R.strstart-ce<=R.w_size-Z&&(R.match_length=G(R,ce),R.match_length<=5&&(R.strategy===1||R.match_length===P&&4096<R.strstart-R.match_start)&&(R.match_length=P-1)),R.prev_length>=P&&R.match_length<=R.prev_length){for(q=R.strstart+R.lookahead-P,Y=d._tr_tally(R,R.strstart-1-R.prev_match,R.prev_length-P),R.lookahead-=R.prev_length-1,R.prev_length-=2;++R.strstart<=q&&(R.ins_h=(R.ins_h<<R.hash_shift^R.window[R.strstart+P-1])&R.hash_mask,ce=R.prev[R.strstart&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=R.strstart),--R.prev_length!=0;);if(R.match_available=0,R.match_length=P-1,R.strstart++,Y&&(B(R,!1),R.strm.avail_out===0))return S}else if(R.match_available){if((Y=d._tr_tally(R,0,R.window[R.strstart-1]))&&B(R,!1),R.strstart++,R.lookahead--,R.strm.avail_out===0)return S}else R.match_available=1,R.strstart++,R.lookahead--}return R.match_available&&(Y=d._tr_tally(R,0,R.window[R.strstart-1]),R.match_available=0),R.insert=R.strstart<P-1?R.strstart:P-1,fe===g?(B(R,!0),R.strm.avail_out===0?U:I):R.last_lit&&(B(R,!1),R.strm.avail_out===0)?S:K}function me(R,fe,ce,Y,q){this.good_length=R,this.max_lazy=fe,this.nice_length=ce,this.max_chain=Y,this.func=q}function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*z),this.dyn_dtree=new u.Buf16(2*(2*M+1)),this.bl_tree=new u.Buf16(2*(2*F+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(N+1),this.heap=new u.Buf16(2*D+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*D+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Pe(R){var fe;return R&&R.state?(R.total_in=R.total_out=0,R.data_type=k,(fe=R.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?E:L,R.adler=fe.wrap===2?0:1,fe.last_flush=p,d._tr_init(fe),v):$(R,w)}function Ue(R){var fe=Pe(R);return fe===v&&(function(ce){ce.window_size=2*ce.w_size,Q(ce.head),ce.max_lazy_match=o[ce.level].max_lazy,ce.good_match=o[ce.level].good_length,ce.nice_match=o[ce.level].nice_length,ce.max_chain_length=o[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=P-1,ce.match_available=0,ce.ins_h=0})(R.state),fe}function nt(R,fe,ce,Y,q,se){if(!R)return w;var ve=1;if(fe===y&&(fe=6),Y<0?(ve=0,Y=-Y):15<Y&&(ve=2,Y-=16),q<1||T<q||ce!==j||Y<8||15<Y||fe<0||9<fe||se<0||C<se)return $(R,w);Y===8&&(Y=9);var pe=new je;return(R.state=pe).strm=R,pe.wrap=ve,pe.gzhead=null,pe.w_bits=Y,pe.w_size=1<<pe.w_bits,pe.w_mask=pe.w_size-1,pe.hash_bits=q+7,pe.hash_size=1<<pe.hash_bits,pe.hash_mask=pe.hash_size-1,pe.hash_shift=~~((pe.hash_bits+P-1)/P),pe.window=new u.Buf8(2*pe.w_size),pe.head=new u.Buf16(pe.hash_size),pe.prev=new u.Buf16(pe.w_size),pe.lit_bufsize=1<<q+6,pe.pending_buf_size=4*pe.lit_bufsize,pe.pending_buf=new u.Buf8(pe.pending_buf_size),pe.d_buf=1*pe.lit_bufsize,pe.l_buf=3*pe.lit_bufsize,pe.level=fe,pe.strategy=se,pe.method=ce,Ue(R)}o=[new me(0,0,0,0,function(R,fe){var ce=65535;for(ce>R.pending_buf_size-5&&(ce=R.pending_buf_size-5);;){if(R.lookahead<=1){if(ee(R),R.lookahead===0&&fe===p)return S;if(R.lookahead===0)break}R.strstart+=R.lookahead,R.lookahead=0;var Y=R.block_start+ce;if((R.strstart===0||R.strstart>=Y)&&(R.lookahead=R.strstart-Y,R.strstart=Y,B(R,!1),R.strm.avail_out===0)||R.strstart-R.block_start>=R.w_size-Z&&(B(R,!1),R.strm.avail_out===0))return S}return R.insert=0,fe===g?(B(R,!0),R.strm.avail_out===0?U:I):(R.strstart>R.block_start&&(B(R,!1),R.strm.avail_out),S)}),new me(4,4,8,4,ne),new me(4,5,16,8,ne),new me(4,6,32,32,ne),new me(4,4,16,16,oe),new me(8,16,32,32,oe),new me(8,16,128,128,oe),new me(8,32,128,256,oe),new me(32,128,258,1024,oe),new me(32,258,258,4096,oe)],i.deflateInit=function(R,fe){return nt(R,fe,j,15,8,0)},i.deflateInit2=nt,i.deflateReset=Ue,i.deflateResetKeep=Pe,i.deflateSetHeader=function(R,fe){return R&&R.state?R.state.wrap!==2?w:(R.state.gzhead=fe,v):w},i.deflate=function(R,fe){var ce,Y,q,se;if(!R||!R.state||5<fe||fe<0)return R?$(R,w):w;if(Y=R.state,!R.output||!R.input&&R.avail_in!==0||Y.status===666&&fe!==g)return $(R,R.avail_out===0?-5:w);if(Y.strm=R,ce=Y.last_flush,Y.last_flush=fe,Y.status===E)if(Y.wrap===2)R.adler=0,te(Y,31),te(Y,139),te(Y,8),Y.gzhead?(te(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),te(Y,255&Y.gzhead.time),te(Y,Y.gzhead.time>>8&255),te(Y,Y.gzhead.time>>16&255),te(Y,Y.gzhead.time>>24&255),te(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),te(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(te(Y,255&Y.gzhead.extra.length),te(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(R.adler=x(R.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(te(Y,0),te(Y,0),te(Y,0),te(Y,0),te(Y,0),te(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),te(Y,3),Y.status=L);else{var ve=j+(Y.w_bits-8<<4)<<8;ve|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(ve|=32),ve+=31-ve%31,Y.status=L,X(Y,ve),Y.strstart!==0&&(X(Y,R.adler>>>16),X(Y,65535&R.adler)),R.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(q=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>q&&(R.adler=x(R.adler,Y.pending_buf,Y.pending-q,q)),O(R),q=Y.pending,Y.pending!==Y.pending_buf_size));)te(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>q&&(R.adler=x(R.adler,Y.pending_buf,Y.pending-q,q)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){q=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>q&&(R.adler=x(R.adler,Y.pending_buf,Y.pending-q,q)),O(R),q=Y.pending,Y.pending===Y.pending_buf_size)){se=1;break}se=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,te(Y,se)}while(se!==0);Y.gzhead.hcrc&&Y.pending>q&&(R.adler=x(R.adler,Y.pending_buf,Y.pending-q,q)),se===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){q=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>q&&(R.adler=x(R.adler,Y.pending_buf,Y.pending-q,q)),O(R),q=Y.pending,Y.pending===Y.pending_buf_size)){se=1;break}se=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,te(Y,se)}while(se!==0);Y.gzhead.hcrc&&Y.pending>q&&(R.adler=x(R.adler,Y.pending_buf,Y.pending-q,q)),se===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&O(R),Y.pending+2<=Y.pending_buf_size&&(te(Y,255&R.adler),te(Y,R.adler>>8&255),R.adler=0,Y.status=L)):Y.status=L),Y.pending!==0){if(O(R),R.avail_out===0)return Y.last_flush=-1,v}else if(R.avail_in===0&&W(fe)<=W(ce)&&fe!==g)return $(R,-5);if(Y.status===666&&R.avail_in!==0)return $(R,-5);if(R.avail_in!==0||Y.lookahead!==0||fe!==p&&Y.status!==666){var pe=Y.strategy===2?(function(ie,we){for(var ke;;){if(ie.lookahead===0&&(ee(ie),ie.lookahead===0)){if(we===p)return S;break}if(ie.match_length=0,ke=d._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,ke&&(B(ie,!1),ie.strm.avail_out===0))return S}return ie.insert=0,we===g?(B(ie,!0),ie.strm.avail_out===0?U:I):ie.last_lit&&(B(ie,!1),ie.strm.avail_out===0)?S:K})(Y,fe):Y.strategy===3?(function(ie,we){for(var ke,Se,Me,qe,Ve=ie.window;;){if(ie.lookahead<=H){if(ee(ie),ie.lookahead<=H&&we===p)return S;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=P&&0<ie.strstart&&(Se=Ve[Me=ie.strstart-1])===Ve[++Me]&&Se===Ve[++Me]&&Se===Ve[++Me]){qe=ie.strstart+H;do;while(Se===Ve[++Me]&&Se===Ve[++Me]&&Se===Ve[++Me]&&Se===Ve[++Me]&&Se===Ve[++Me]&&Se===Ve[++Me]&&Se===Ve[++Me]&&Se===Ve[++Me]&&Me<qe);ie.match_length=H-(qe-Me),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=P?(ke=d._tr_tally(ie,1,ie.match_length-P),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(ke=d._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),ke&&(B(ie,!1),ie.strm.avail_out===0))return S}return ie.insert=0,we===g?(B(ie,!0),ie.strm.avail_out===0?U:I):ie.last_lit&&(B(ie,!1),ie.strm.avail_out===0)?S:K})(Y,fe):o[Y.level].func(Y,fe);if(pe!==U&&pe!==I||(Y.status=666),pe===S||pe===U)return R.avail_out===0&&(Y.last_flush=-1),v;if(pe===K&&(fe===1?d._tr_align(Y):fe!==5&&(d._tr_stored_block(Y,0,0,!1),fe===3&&(Q(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),O(R),R.avail_out===0))return Y.last_flush=-1,v}return fe!==g?v:Y.wrap<=0?1:(Y.wrap===2?(te(Y,255&R.adler),te(Y,R.adler>>8&255),te(Y,R.adler>>16&255),te(Y,R.adler>>24&255),te(Y,255&R.total_in),te(Y,R.total_in>>8&255),te(Y,R.total_in>>16&255),te(Y,R.total_in>>24&255)):(X(Y,R.adler>>>16),X(Y,65535&R.adler)),O(R),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?v:1)},i.deflateEnd=function(R){var fe;return R&&R.state?(fe=R.state.status)!==E&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==L&&fe!==666?$(R,w):(R.state=null,fe===L?$(R,-3):v):w},i.deflateSetDictionary=function(R,fe){var ce,Y,q,se,ve,pe,ie,we,ke=fe.length;if(!R||!R.state||(se=(ce=R.state).wrap)===2||se===1&&ce.status!==E||ce.lookahead)return w;for(se===1&&(R.adler=h(R.adler,fe,ke,0)),ce.wrap=0,ke>=ce.w_size&&(se===0&&(Q(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),we=new u.Buf8(ce.w_size),u.arraySet(we,fe,ke-ce.w_size,ce.w_size,0),fe=we,ke=ce.w_size),ve=R.avail_in,pe=R.next_in,ie=R.input,R.avail_in=ke,R.next_in=0,R.input=fe,ee(ce);ce.lookahead>=P;){for(Y=ce.strstart,q=ce.lookahead-(P-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[Y+P-1])&ce.hash_mask,ce.prev[Y&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=Y,Y++,--q;);ce.strstart=Y,ce.lookahead=P-1,ee(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=P-1,ce.match_available=0,R.next_in=pe,R.input=ie,R.avail_in=ve,ce.wrap=se,v},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,i){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,i){a.exports=function(o,u){var d,h,x,f,p,g,v,w,y,C,k,j,T,D,M,F,z,N,P,H,Z,E,L,S,K;d=o.state,h=o.next_in,S=o.input,x=h+(o.avail_in-5),f=o.next_out,K=o.output,p=f-(u-o.avail_out),g=f+(o.avail_out-257),v=d.dmax,w=d.wsize,y=d.whave,C=d.wnext,k=d.window,j=d.hold,T=d.bits,D=d.lencode,M=d.distcode,F=(1<<d.lenbits)-1,z=(1<<d.distbits)-1;e:do{T<15&&(j+=S[h++]<<T,T+=8,j+=S[h++]<<T,T+=8),N=D[j&F];t:for(;;){if(j>>>=P=N>>>24,T-=P,(P=N>>>16&255)===0)K[f++]=65535&N;else{if(!(16&P)){if((64&P)==0){N=D[(65535&N)+(j&(1<<P)-1)];continue t}if(32&P){d.mode=12;break e}o.msg="invalid literal/length code",d.mode=30;break e}H=65535&N,(P&=15)&&(T<P&&(j+=S[h++]<<T,T+=8),H+=j&(1<<P)-1,j>>>=P,T-=P),T<15&&(j+=S[h++]<<T,T+=8,j+=S[h++]<<T,T+=8),N=M[j&z];n:for(;;){if(j>>>=P=N>>>24,T-=P,!(16&(P=N>>>16&255))){if((64&P)==0){N=M[(65535&N)+(j&(1<<P)-1)];continue n}o.msg="invalid distance code",d.mode=30;break e}if(Z=65535&N,T<(P&=15)&&(j+=S[h++]<<T,(T+=8)<P&&(j+=S[h++]<<T,T+=8)),v<(Z+=j&(1<<P)-1)){o.msg="invalid distance too far back",d.mode=30;break e}if(j>>>=P,T-=P,(P=f-p)<Z){if(y<(P=Z-P)&&d.sane){o.msg="invalid distance too far back",d.mode=30;break e}if(L=k,(E=0)===C){if(E+=w-P,P<H){for(H-=P;K[f++]=k[E++],--P;);E=f-Z,L=K}}else if(C<P){if(E+=w+C-P,(P-=C)<H){for(H-=P;K[f++]=k[E++],--P;);if(E=0,C<H){for(H-=P=C;K[f++]=k[E++],--P;);E=f-Z,L=K}}}else if(E+=C-P,P<H){for(H-=P;K[f++]=k[E++],--P;);E=f-Z,L=K}for(;2<H;)K[f++]=L[E++],K[f++]=L[E++],K[f++]=L[E++],H-=3;H&&(K[f++]=L[E++],1<H&&(K[f++]=L[E++]))}else{for(E=f-Z;K[f++]=K[E++],K[f++]=K[E++],K[f++]=K[E++],2<(H-=3););H&&(K[f++]=K[E++],1<H&&(K[f++]=K[E++]))}break}}break}}while(h<x&&f<g);h-=H=T>>3,j&=(1<<(T-=H<<3))-1,o.next_in=h,o.next_out=f,o.avail_in=h<x?x-h+5:5-(h-x),o.avail_out=f<g?g-f+257:257-(f-g),d.hold=j,d.bits=T}},{}],49:[function(r,a,i){var o=r("../utils/common"),u=r("./adler32"),d=r("./crc32"),h=r("./inffast"),x=r("./inftrees"),f=1,p=2,g=0,v=-2,w=1,y=852,C=592;function k(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(E){var L;return E&&E.state?(L=E.state,E.total_in=E.total_out=L.total=0,E.msg="",L.wrap&&(E.adler=1&L.wrap),L.mode=w,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new o.Buf32(y),L.distcode=L.distdyn=new o.Buf32(C),L.sane=1,L.back=-1,g):v}function D(E){var L;return E&&E.state?((L=E.state).wsize=0,L.whave=0,L.wnext=0,T(E)):v}function M(E,L){var S,K;return E&&E.state?(K=E.state,L<0?(S=0,L=-L):(S=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?v:(K.window!==null&&K.wbits!==L&&(K.window=null),K.wrap=S,K.wbits=L,D(E))):v}function F(E,L){var S,K;return E?(K=new j,(E.state=K).window=null,(S=M(E,L))!==g&&(E.state=null),S):v}var z,N,P=!0;function H(E){if(P){var L;for(z=new o.Buf32(512),N=new o.Buf32(32),L=0;L<144;)E.lens[L++]=8;for(;L<256;)E.lens[L++]=9;for(;L<280;)E.lens[L++]=7;for(;L<288;)E.lens[L++]=8;for(x(f,E.lens,0,288,z,0,E.work,{bits:9}),L=0;L<32;)E.lens[L++]=5;x(p,E.lens,0,32,N,0,E.work,{bits:5}),P=!1}E.lencode=z,E.lenbits=9,E.distcode=N,E.distbits=5}function Z(E,L,S,K){var U,I=E.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new o.Buf8(I.wsize)),K>=I.wsize?(o.arraySet(I.window,L,S-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(K<(U=I.wsize-I.wnext)&&(U=K),o.arraySet(I.window,L,S-K,U,I.wnext),(K-=U)?(o.arraySet(I.window,L,S-K,K,0),I.wnext=K,I.whave=I.wsize):(I.wnext+=U,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=U))),0}i.inflateReset=D,i.inflateReset2=M,i.inflateResetKeep=T,i.inflateInit=function(E){return F(E,15)},i.inflateInit2=F,i.inflate=function(E,L){var S,K,U,I,$,W,Q,O,B,te,X,G,ee,ne,oe,me,je,Pe,Ue,nt,R,fe,ce,Y,q=0,se=new o.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return v;(S=E.state).mode===12&&(S.mode=13),$=E.next_out,U=E.output,Q=E.avail_out,I=E.next_in,K=E.input,W=E.avail_in,O=S.hold,B=S.bits,te=W,X=Q,fe=g;e:for(;;)switch(S.mode){case w:if(S.wrap===0){S.mode=13;break}for(;B<16;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(2&S.wrap&&O===35615){se[S.check=0]=255&O,se[1]=O>>>8&255,S.check=d(S.check,se,2,0),B=O=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&O)<<8)+(O>>8))%31){E.msg="incorrect header check",S.mode=30;break}if((15&O)!=8){E.msg="unknown compression method",S.mode=30;break}if(B-=4,R=8+(15&(O>>>=4)),S.wbits===0)S.wbits=R;else if(R>S.wbits){E.msg="invalid window size",S.mode=30;break}S.dmax=1<<R,E.adler=S.check=1,S.mode=512&O?10:12,B=O=0;break;case 2:for(;B<16;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(S.flags=O,(255&S.flags)!=8){E.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){E.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=O>>8&1),512&S.flags&&(se[0]=255&O,se[1]=O>>>8&255,S.check=d(S.check,se,2,0)),B=O=0,S.mode=3;case 3:for(;B<32;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}S.head&&(S.head.time=O),512&S.flags&&(se[0]=255&O,se[1]=O>>>8&255,se[2]=O>>>16&255,se[3]=O>>>24&255,S.check=d(S.check,se,4,0)),B=O=0,S.mode=4;case 4:for(;B<16;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}S.head&&(S.head.xflags=255&O,S.head.os=O>>8),512&S.flags&&(se[0]=255&O,se[1]=O>>>8&255,S.check=d(S.check,se,2,0)),B=O=0,S.mode=5;case 5:if(1024&S.flags){for(;B<16;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}S.length=O,S.head&&(S.head.extra_len=O),512&S.flags&&(se[0]=255&O,se[1]=O>>>8&255,S.check=d(S.check,se,2,0)),B=O=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(W<(G=S.length)&&(G=W),G&&(S.head&&(R=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),o.arraySet(S.head.extra,K,I,G,R)),512&S.flags&&(S.check=d(S.check,K,G,I)),W-=G,I+=G,S.length-=G),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(W===0)break e;for(G=0;R=K[I+G++],S.head&&R&&S.length<65536&&(S.head.name+=String.fromCharCode(R)),R&&G<W;);if(512&S.flags&&(S.check=d(S.check,K,G,I)),W-=G,I+=G,R)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(W===0)break e;for(G=0;R=K[I+G++],S.head&&R&&S.length<65536&&(S.head.comment+=String.fromCharCode(R)),R&&G<W;);if(512&S.flags&&(S.check=d(S.check,K,G,I)),W-=G,I+=G,R)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;B<16;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(O!==(65535&S.check)){E.msg="header crc mismatch",S.mode=30;break}B=O=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),E.adler=S.check=0,S.mode=12;break;case 10:for(;B<32;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}E.adler=S.check=k(O),B=O=0,S.mode=11;case 11:if(S.havedict===0)return E.next_out=$,E.avail_out=Q,E.next_in=I,E.avail_in=W,S.hold=O,S.bits=B,2;E.adler=S.check=1,S.mode=12;case 12:if(L===5||L===6)break e;case 13:if(S.last){O>>>=7&B,B-=7&B,S.mode=27;break}for(;B<3;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}switch(S.last=1&O,B-=1,3&(O>>>=1)){case 0:S.mode=14;break;case 1:if(H(S),S.mode=20,L!==6)break;O>>>=2,B-=2;break e;case 2:S.mode=17;break;case 3:E.msg="invalid block type",S.mode=30}O>>>=2,B-=2;break;case 14:for(O>>>=7&B,B-=7&B;B<32;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if((65535&O)!=(O>>>16^65535)){E.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&O,B=O=0,S.mode=15,L===6)break e;case 15:S.mode=16;case 16:if(G=S.length){if(W<G&&(G=W),Q<G&&(G=Q),G===0)break e;o.arraySet(U,K,I,G,$),W-=G,I+=G,Q-=G,$+=G,S.length-=G;break}S.mode=12;break;case 17:for(;B<14;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(S.nlen=257+(31&O),O>>>=5,B-=5,S.ndist=1+(31&O),O>>>=5,B-=5,S.ncode=4+(15&O),O>>>=4,B-=4,286<S.nlen||30<S.ndist){E.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;B<3;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}S.lens[ve[S.have++]]=7&O,O>>>=3,B-=3}for(;S.have<19;)S.lens[ve[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ce={bits:S.lenbits},fe=x(0,S.lens,0,19,S.lencode,0,S.work,ce),S.lenbits=ce.bits,fe){E.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;me=(q=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,je=65535&q,!((oe=q>>>24)<=B);){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(je<16)O>>>=oe,B-=oe,S.lens[S.have++]=je;else{if(je===16){for(Y=oe+2;B<Y;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(O>>>=oe,B-=oe,S.have===0){E.msg="invalid bit length repeat",S.mode=30;break}R=S.lens[S.have-1],G=3+(3&O),O>>>=2,B-=2}else if(je===17){for(Y=oe+3;B<Y;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}B-=oe,R=0,G=3+(7&(O>>>=oe)),O>>>=3,B-=3}else{for(Y=oe+7;B<Y;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}B-=oe,R=0,G=11+(127&(O>>>=oe)),O>>>=7,B-=7}if(S.have+G>S.nlen+S.ndist){E.msg="invalid bit length repeat",S.mode=30;break}for(;G--;)S.lens[S.have++]=R}}if(S.mode===30)break;if(S.lens[256]===0){E.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ce={bits:S.lenbits},fe=x(f,S.lens,0,S.nlen,S.lencode,0,S.work,ce),S.lenbits=ce.bits,fe){E.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ce={bits:S.distbits},fe=x(p,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ce),S.distbits=ce.bits,fe){E.msg="invalid distances set",S.mode=30;break}if(S.mode=20,L===6)break e;case 20:S.mode=21;case 21:if(6<=W&&258<=Q){E.next_out=$,E.avail_out=Q,E.next_in=I,E.avail_in=W,S.hold=O,S.bits=B,h(E,X),$=E.next_out,U=E.output,Q=E.avail_out,I=E.next_in,K=E.input,W=E.avail_in,O=S.hold,B=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;me=(q=S.lencode[O&(1<<S.lenbits)-1])>>>16&255,je=65535&q,!((oe=q>>>24)<=B);){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(me&&(240&me)==0){for(Pe=oe,Ue=me,nt=je;me=(q=S.lencode[nt+((O&(1<<Pe+Ue)-1)>>Pe)])>>>16&255,je=65535&q,!(Pe+(oe=q>>>24)<=B);){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}O>>>=Pe,B-=Pe,S.back+=Pe}if(O>>>=oe,B-=oe,S.back+=oe,S.length=je,me===0){S.mode=26;break}if(32&me){S.back=-1,S.mode=12;break}if(64&me){E.msg="invalid literal/length code",S.mode=30;break}S.extra=15&me,S.mode=22;case 22:if(S.extra){for(Y=S.extra;B<Y;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}S.length+=O&(1<<S.extra)-1,O>>>=S.extra,B-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;me=(q=S.distcode[O&(1<<S.distbits)-1])>>>16&255,je=65535&q,!((oe=q>>>24)<=B);){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if((240&me)==0){for(Pe=oe,Ue=me,nt=je;me=(q=S.distcode[nt+((O&(1<<Pe+Ue)-1)>>Pe)])>>>16&255,je=65535&q,!(Pe+(oe=q>>>24)<=B);){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}O>>>=Pe,B-=Pe,S.back+=Pe}if(O>>>=oe,B-=oe,S.back+=oe,64&me){E.msg="invalid distance code",S.mode=30;break}S.offset=je,S.extra=15&me,S.mode=24;case 24:if(S.extra){for(Y=S.extra;B<Y;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}S.offset+=O&(1<<S.extra)-1,O>>>=S.extra,B-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){E.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(Q===0)break e;if(G=X-Q,S.offset>G){if((G=S.offset-G)>S.whave&&S.sane){E.msg="invalid distance too far back",S.mode=30;break}ee=G>S.wnext?(G-=S.wnext,S.wsize-G):S.wnext-G,G>S.length&&(G=S.length),ne=S.window}else ne=U,ee=$-S.offset,G=S.length;for(Q<G&&(G=Q),Q-=G,S.length-=G;U[$++]=ne[ee++],--G;);S.length===0&&(S.mode=21);break;case 26:if(Q===0)break e;U[$++]=S.length,Q--,S.mode=21;break;case 27:if(S.wrap){for(;B<32;){if(W===0)break e;W--,O|=K[I++]<<B,B+=8}if(X-=Q,E.total_out+=X,S.total+=X,X&&(E.adler=S.check=S.flags?d(S.check,U,X,$-X):u(S.check,U,X,$-X)),X=Q,(S.flags?O:k(O))!==S.check){E.msg="incorrect data check",S.mode=30;break}B=O=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;B<32;){if(W===0)break e;W--,O+=K[I++]<<B,B+=8}if(O!==(4294967295&S.total)){E.msg="incorrect length check",S.mode=30;break}B=O=0}S.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return v}return E.next_out=$,E.avail_out=Q,E.next_in=I,E.avail_in=W,S.hold=O,S.bits=B,(S.wsize||X!==E.avail_out&&S.mode<30&&(S.mode<27||L!==4))&&Z(E,E.output,E.next_out,X-E.avail_out)?(S.mode=31,-4):(te-=E.avail_in,X-=E.avail_out,E.total_in+=te,E.total_out+=X,S.total+=X,S.wrap&&X&&(E.adler=S.check=S.flags?d(S.check,U,X,E.next_out-X):u(S.check,U,X,E.next_out-X)),E.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(te==0&&X===0||L===4)&&fe===g&&(fe=-5),fe)},i.inflateEnd=function(E){if(!E||!E.state)return v;var L=E.state;return L.window&&(L.window=null),E.state=null,g},i.inflateGetHeader=function(E,L){var S;return E&&E.state?(2&(S=E.state).wrap)==0?v:((S.head=L).done=!1,g):v},i.inflateSetDictionary=function(E,L){var S,K=L.length;return E&&E.state?(S=E.state).wrap!==0&&S.mode!==11?v:S.mode===11&&u(1,L,K,0)!==S.check?-3:Z(E,L,K,K)?(S.mode=31,-4):(S.havedict=1,g):v},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,i){var o=r("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(f,p,g,v,w,y,C,k){var j,T,D,M,F,z,N,P,H,Z=k.bits,E=0,L=0,S=0,K=0,U=0,I=0,$=0,W=0,Q=0,O=0,B=null,te=0,X=new o.Buf16(16),G=new o.Buf16(16),ee=null,ne=0;for(E=0;E<=15;E++)X[E]=0;for(L=0;L<v;L++)X[p[g+L]]++;for(U=Z,K=15;1<=K&&X[K]===0;K--);if(K<U&&(U=K),K===0)return w[y++]=20971520,w[y++]=20971520,k.bits=1,0;for(S=1;S<K&&X[S]===0;S++);for(U<S&&(U=S),E=W=1;E<=15;E++)if(W<<=1,(W-=X[E])<0)return-1;if(0<W&&(f===0||K!==1))return-1;for(G[1]=0,E=1;E<15;E++)G[E+1]=G[E]+X[E];for(L=0;L<v;L++)p[g+L]!==0&&(C[G[p[g+L]]++]=L);if(z=f===0?(B=ee=C,19):f===1?(B=u,te-=257,ee=d,ne-=257,256):(B=h,ee=x,-1),E=S,F=y,$=L=O=0,D=-1,M=(Q=1<<(I=U))-1,f===1&&852<Q||f===2&&592<Q)return 1;for(;;){for(N=E-$,H=C[L]<z?(P=0,C[L]):C[L]>z?(P=ee[ne+C[L]],B[te+C[L]]):(P=96,0),j=1<<E-$,S=T=1<<I;w[F+(O>>$)+(T-=j)]=N<<24|P<<16|H|0,T!==0;);for(j=1<<E-1;O&j;)j>>=1;if(j!==0?(O&=j-1,O+=j):O=0,L++,--X[E]==0){if(E===K)break;E=p[g+C[L]]}if(U<E&&(O&M)!==D){for($===0&&($=U),F+=S,W=1<<(I=E-$);I+$<K&&!((W-=X[I+$])<=0);)I++,W<<=1;if(Q+=1<<I,f===1&&852<Q||f===2&&592<Q)return 1;w[D=O&M]=U<<24|I<<16|F-y|0}}return O!==0&&(w[F+O]=E-$<<24|64<<16|0),k.bits=U,0}},{"../utils/common":41}],51:[function(r,a,i){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,i){var o=r("../utils/common"),u=0,d=1;function h(q){for(var se=q.length;0<=--se;)q[se]=0}var x=0,f=29,p=256,g=p+1+f,v=30,w=19,y=2*g+1,C=15,k=16,j=7,T=256,D=16,M=17,F=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(g+2));h(Z);var E=new Array(2*v);h(E);var L=new Array(512);h(L);var S=new Array(256);h(S);var K=new Array(f);h(K);var U,I,$,W=new Array(v);function Q(q,se,ve,pe,ie){this.static_tree=q,this.extra_bits=se,this.extra_base=ve,this.elems=pe,this.max_length=ie,this.has_stree=q&&q.length}function O(q,se){this.dyn_tree=q,this.max_code=0,this.stat_desc=se}function B(q){return q<256?L[q]:L[256+(q>>>7)]}function te(q,se){q.pending_buf[q.pending++]=255&se,q.pending_buf[q.pending++]=se>>>8&255}function X(q,se,ve){q.bi_valid>k-ve?(q.bi_buf|=se<<q.bi_valid&65535,te(q,q.bi_buf),q.bi_buf=se>>k-q.bi_valid,q.bi_valid+=ve-k):(q.bi_buf|=se<<q.bi_valid&65535,q.bi_valid+=ve)}function G(q,se,ve){X(q,ve[2*se],ve[2*se+1])}function ee(q,se){for(var ve=0;ve|=1&q,q>>>=1,ve<<=1,0<--se;);return ve>>>1}function ne(q,se,ve){var pe,ie,we=new Array(C+1),ke=0;for(pe=1;pe<=C;pe++)we[pe]=ke=ke+ve[pe-1]<<1;for(ie=0;ie<=se;ie++){var Se=q[2*ie+1];Se!==0&&(q[2*ie]=ee(we[Se]++,Se))}}function oe(q){var se;for(se=0;se<g;se++)q.dyn_ltree[2*se]=0;for(se=0;se<v;se++)q.dyn_dtree[2*se]=0;for(se=0;se<w;se++)q.bl_tree[2*se]=0;q.dyn_ltree[2*T]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function me(q){8<q.bi_valid?te(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function je(q,se,ve,pe){var ie=2*se,we=2*ve;return q[ie]<q[we]||q[ie]===q[we]&&pe[se]<=pe[ve]}function Pe(q,se,ve){for(var pe=q.heap[ve],ie=ve<<1;ie<=q.heap_len&&(ie<q.heap_len&&je(se,q.heap[ie+1],q.heap[ie],q.depth)&&ie++,!je(se,pe,q.heap[ie],q.depth));)q.heap[ve]=q.heap[ie],ve=ie,ie<<=1;q.heap[ve]=pe}function Ue(q,se,ve){var pe,ie,we,ke,Se=0;if(q.last_lit!==0)for(;pe=q.pending_buf[q.d_buf+2*Se]<<8|q.pending_buf[q.d_buf+2*Se+1],ie=q.pending_buf[q.l_buf+Se],Se++,pe===0?G(q,ie,se):(G(q,(we=S[ie])+p+1,se),(ke=z[we])!==0&&X(q,ie-=K[we],ke),G(q,we=B(--pe),ve),(ke=N[we])!==0&&X(q,pe-=W[we],ke)),Se<q.last_lit;);G(q,T,se)}function nt(q,se){var ve,pe,ie,we=se.dyn_tree,ke=se.stat_desc.static_tree,Se=se.stat_desc.has_stree,Me=se.stat_desc.elems,qe=-1;for(q.heap_len=0,q.heap_max=y,ve=0;ve<Me;ve++)we[2*ve]!==0?(q.heap[++q.heap_len]=qe=ve,q.depth[ve]=0):we[2*ve+1]=0;for(;q.heap_len<2;)we[2*(ie=q.heap[++q.heap_len]=qe<2?++qe:0)]=1,q.depth[ie]=0,q.opt_len--,Se&&(q.static_len-=ke[2*ie+1]);for(se.max_code=qe,ve=q.heap_len>>1;1<=ve;ve--)Pe(q,we,ve);for(ie=Me;ve=q.heap[1],q.heap[1]=q.heap[q.heap_len--],Pe(q,we,1),pe=q.heap[1],q.heap[--q.heap_max]=ve,q.heap[--q.heap_max]=pe,we[2*ie]=we[2*ve]+we[2*pe],q.depth[ie]=(q.depth[ve]>=q.depth[pe]?q.depth[ve]:q.depth[pe])+1,we[2*ve+1]=we[2*pe+1]=ie,q.heap[1]=ie++,Pe(q,we,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],(function(Ve,ut){var rt,it,Nt,Xe,xt,sn,Mt=ut.dyn_tree,sr=ut.max_code,Kn=ut.stat_desc.static_tree,Tn=ut.stat_desc.has_stree,$t=ut.stat_desc.extra_bits,Sn=ut.stat_desc.extra_base,vt=ut.stat_desc.max_length,It=0;for(Xe=0;Xe<=C;Xe++)Ve.bl_count[Xe]=0;for(Mt[2*Ve.heap[Ve.heap_max]+1]=0,rt=Ve.heap_max+1;rt<y;rt++)vt<(Xe=Mt[2*Mt[2*(it=Ve.heap[rt])+1]+1]+1)&&(Xe=vt,It++),Mt[2*it+1]=Xe,sr<it||(Ve.bl_count[Xe]++,xt=0,Sn<=it&&(xt=$t[it-Sn]),sn=Mt[2*it],Ve.opt_len+=sn*(Xe+xt),Tn&&(Ve.static_len+=sn*(Kn[2*it+1]+xt)));if(It!==0){do{for(Xe=vt-1;Ve.bl_count[Xe]===0;)Xe--;Ve.bl_count[Xe]--,Ve.bl_count[Xe+1]+=2,Ve.bl_count[vt]--,It-=2}while(0<It);for(Xe=vt;Xe!==0;Xe--)for(it=Ve.bl_count[Xe];it!==0;)sr<(Nt=Ve.heap[--rt])||(Mt[2*Nt+1]!==Xe&&(Ve.opt_len+=(Xe-Mt[2*Nt+1])*Mt[2*Nt],Mt[2*Nt+1]=Xe),it--)}})(q,se),ne(we,qe,q.bl_count)}function R(q,se,ve){var pe,ie,we=-1,ke=se[1],Se=0,Me=7,qe=4;for(ke===0&&(Me=138,qe=3),se[2*(ve+1)+1]=65535,pe=0;pe<=ve;pe++)ie=ke,ke=se[2*(pe+1)+1],++Se<Me&&ie===ke||(Se<qe?q.bl_tree[2*ie]+=Se:ie!==0?(ie!==we&&q.bl_tree[2*ie]++,q.bl_tree[2*D]++):Se<=10?q.bl_tree[2*M]++:q.bl_tree[2*F]++,we=ie,qe=(Se=0)===ke?(Me=138,3):ie===ke?(Me=6,3):(Me=7,4))}function fe(q,se,ve){var pe,ie,we=-1,ke=se[1],Se=0,Me=7,qe=4;for(ke===0&&(Me=138,qe=3),pe=0;pe<=ve;pe++)if(ie=ke,ke=se[2*(pe+1)+1],!(++Se<Me&&ie===ke)){if(Se<qe)for(;G(q,ie,q.bl_tree),--Se!=0;);else ie!==0?(ie!==we&&(G(q,ie,q.bl_tree),Se--),G(q,D,q.bl_tree),X(q,Se-3,2)):Se<=10?(G(q,M,q.bl_tree),X(q,Se-3,3)):(G(q,F,q.bl_tree),X(q,Se-11,7));we=ie,qe=(Se=0)===ke?(Me=138,3):ie===ke?(Me=6,3):(Me=7,4)}}h(W);var ce=!1;function Y(q,se,ve,pe){X(q,(x<<1)+(pe?1:0),3),(function(ie,we,ke,Se){me(ie),te(ie,ke),te(ie,~ke),o.arraySet(ie.pending_buf,ie.window,we,ke,ie.pending),ie.pending+=ke})(q,se,ve)}i._tr_init=function(q){ce||((function(){var se,ve,pe,ie,we,ke=new Array(C+1);for(ie=pe=0;ie<f-1;ie++)for(K[ie]=pe,se=0;se<1<<z[ie];se++)S[pe++]=ie;for(S[pe-1]=ie,ie=we=0;ie<16;ie++)for(W[ie]=we,se=0;se<1<<N[ie];se++)L[we++]=ie;for(we>>=7;ie<v;ie++)for(W[ie]=we<<7,se=0;se<1<<N[ie]-7;se++)L[256+we++]=ie;for(ve=0;ve<=C;ve++)ke[ve]=0;for(se=0;se<=143;)Z[2*se+1]=8,se++,ke[8]++;for(;se<=255;)Z[2*se+1]=9,se++,ke[9]++;for(;se<=279;)Z[2*se+1]=7,se++,ke[7]++;for(;se<=287;)Z[2*se+1]=8,se++,ke[8]++;for(ne(Z,g+1,ke),se=0;se<v;se++)E[2*se+1]=5,E[2*se]=ee(se,5);U=new Q(Z,z,p+1,g,C),I=new Q(E,N,0,v,C),$=new Q(new Array(0),P,0,w,j)})(),ce=!0),q.l_desc=new O(q.dyn_ltree,U),q.d_desc=new O(q.dyn_dtree,I),q.bl_desc=new O(q.bl_tree,$),q.bi_buf=0,q.bi_valid=0,oe(q)},i._tr_stored_block=Y,i._tr_flush_block=function(q,se,ve,pe){var ie,we,ke=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=(function(Se){var Me,qe=4093624447;for(Me=0;Me<=31;Me++,qe>>>=1)if(1&qe&&Se.dyn_ltree[2*Me]!==0)return u;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return d;for(Me=32;Me<p;Me++)if(Se.dyn_ltree[2*Me]!==0)return d;return u})(q)),nt(q,q.l_desc),nt(q,q.d_desc),ke=(function(Se){var Me;for(R(Se,Se.dyn_ltree,Se.l_desc.max_code),R(Se,Se.dyn_dtree,Se.d_desc.max_code),nt(Se,Se.bl_desc),Me=w-1;3<=Me&&Se.bl_tree[2*H[Me]+1]===0;Me--);return Se.opt_len+=3*(Me+1)+5+5+4,Me})(q),ie=q.opt_len+3+7>>>3,(we=q.static_len+3+7>>>3)<=ie&&(ie=we)):ie=we=ve+5,ve+4<=ie&&se!==-1?Y(q,se,ve,pe):q.strategy===4||we===ie?(X(q,2+(pe?1:0),3),Ue(q,Z,E)):(X(q,4+(pe?1:0),3),(function(Se,Me,qe,Ve){var ut;for(X(Se,Me-257,5),X(Se,qe-1,5),X(Se,Ve-4,4),ut=0;ut<Ve;ut++)X(Se,Se.bl_tree[2*H[ut]+1],3);fe(Se,Se.dyn_ltree,Me-1),fe(Se,Se.dyn_dtree,qe-1)})(q,q.l_desc.max_code+1,q.d_desc.max_code+1,ke+1),Ue(q,q.dyn_ltree,q.dyn_dtree)),oe(q),pe&&me(q)},i._tr_tally=function(q,se,ve){return q.pending_buf[q.d_buf+2*q.last_lit]=se>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&se,q.pending_buf[q.l_buf+q.last_lit]=255&ve,q.last_lit++,se===0?q.dyn_ltree[2*ve]++:(q.matches++,se--,q.dyn_ltree[2*(S[ve]+p+1)]++,q.dyn_dtree[2*B(se)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){X(q,2,3),G(q,T,Z),(function(se){se.bi_valid===16?(te(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)})(q)}},{"../utils/common":41}],53:[function(r,a,i){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,i){(function(o){(function(u,d){if(!u.setImmediate){var h,x,f,p,g=1,v={},w=!1,y=u.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(u);C=C&&C.setTimeout?C:u,h={}.toString.call(u.process)==="[object process]"?function(D){process.nextTick(function(){j(D)})}:(function(){if(u.postMessage&&!u.importScripts){var D=!0,M=u.onmessage;return u.onmessage=function(){D=!1},u.postMessage("","*"),u.onmessage=M,D}})()?(p="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",T,!1):u.attachEvent("onmessage",T),function(D){u.postMessage(p+D,"*")}):u.MessageChannel?((f=new MessageChannel).port1.onmessage=function(D){j(D.data)},function(D){f.port2.postMessage(D)}):y&&"onreadystatechange"in y.createElement("script")?(x=y.documentElement,function(D){var M=y.createElement("script");M.onreadystatechange=function(){j(D),M.onreadystatechange=null,x.removeChild(M),M=null},x.appendChild(M)}):function(D){setTimeout(j,0,D)},C.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var M=new Array(arguments.length-1),F=0;F<M.length;F++)M[F]=arguments[F+1];var z={callback:D,args:M};return v[g]=z,h(g),g++},C.clearImmediate=k}function k(D){delete v[D]}function j(D){if(w)setTimeout(j,0,D);else{var M=v[D];if(M){w=!0;try{(function(F){var z=F.callback,N=F.args;switch(N.length){case 0:z();break;case 1:z(N[0]);break;case 2:z(N[0],N[1]);break;case 3:z(N[0],N[1],N[2]);break;default:z.apply(d,N)}})(M)}finally{k(D),w=!1}}}}function T(D){D.source===u&&typeof D.data=="string"&&D.data.indexOf(p)===0&&j(+D.data.slice(p.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Ko<"u"?Ko:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Yu)),Yu.exports}var Z6=G6();const B0=jl(Z6);function q6({onBack:e}){const[n,r]=A.useState(!1),[a,i]=A.useState(!1),[o,u]=A.useState(!1),[d,h]=A.useState(!1),[x,f]=A.useState(!1),[p,g]=A.useState(!1),[v,w]=A.useState({totalSize:"0.00",userDataSize:"0.00",chatMessagesSize:"0.00",characterDataSize:"0.00",chatSettingsSize:"0.00",worldBooksSize:"0.00",otherDataSize:"0.00",imageStats:{totalImages:0,totalSize:"0.00",categories:{}}});A.useEffect(()=>{y()},[]);const y=async()=>{try{const D=await be.getStoreSize(ue.USER_DATA),M=await be.getStoreSize(ue.CHAT_MESSAGES),F=await be.getStoreSize(ue.CHARACTERS),z=await be.getStoreSize(ue.CHAT_SETTINGS),N=await be.getStoreSize(ue.WORLD_BOOKS),P=await be.getStoreSize(ue.API_SETTINGS),H=await be.getStoreSize(ue.APPEARANCE),Z=await be.getStoreSize(ue.MISC),E=await be.getStoreSize(ue.CHATS),L=P+H+Z+E,S=D+M+F+z+N+L,K=await K1(),U=Object.values(K).reduce(($,{count:W})=>$+W,0),I=Object.values(K).reduce(($,{size:W})=>$+parseFloat(W),0);w({totalSize:(S/1024).toFixed(2),userDataSize:(D/1024).toFixed(2),chatMessagesSize:(M/1024).toFixed(2),characterDataSize:(F/1024).toFixed(2),chatSettingsSize:(z/1024).toFixed(2),worldBooksSize:(N/1024).toFixed(2),otherDataSize:(L/1024).toFixed(2),imageStats:{totalImages:U,totalSize:I.toFixed(2),categories:K}})}catch(D){console.error("Failed to load stats:",D)}},C=async()=>{f(!0);try{const M={...await be.exportAll(),exportTime:new Date().toISOString(),version:2},F=JSON.stringify(M,null,2),z=new Blob([F],{type:"application/json"}),N=URL.createObjectURL(z),P=document.createElement("a");P.href=N,P.download=`touken-os-data-${new Date().getTime()}.json`,P.click(),URL.revokeObjectURL(N),u(!0),setTimeout(()=>u(!1),2e3)}catch(D){console.error("Export JSON failed:",D),alert("")}finally{f(!1)}},k=async()=>{f(!0);try{const D=new B0,F={...await be.exportAll(),exportTime:new Date().toISOString(),version:2};D.file("data.json",JSON.stringify(F,null,2));const z=await y6(),N=D.folder("images");for(const[E,{blob:L,category:S}]of Object.entries(z)){const K=L.type.split("/")[1]||"png";N?.folder(S)?.file(`${E}.${K}`,L)}const P=await D.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}),H=URL.createObjectURL(P),Z=document.createElement("a");Z.href=H,Z.download=`touken-os-backup-${new Date().getTime()}.zip`,Z.click(),URL.revokeObjectURL(H),u(!0),setTimeout(()=>u(!1),2e3)}catch(D){console.error("Export Data failed:",D),alert("")}finally{f(!1)}},j=()=>{const D=document.createElement("input");D.type="file",D.accept=".zip,.json,application/zip,application/json",D.onchange=async M=>{const F=M.target.files?.[0];if(F){g(!0);try{if(F.name.endsWith(".json")){const N=await F.text(),{exportTime:P,version:H,...Z}=JSON.parse(N);await be.importAll(Z)}else{const N=await B0.loadAsync(F),P=N.file("data.json");if(!P)throw new Error("Invalid backup file: missing data.json");const H=await P.async("text"),{exportTime:Z,version:E,...L}=JSON.parse(H);await be.importAll(L);const S=N.folder("images");if(S){const K={},U=[];S.forEach((I,$)=>{$.dir||U.push($.async("blob").then(W=>{const Q=I.split("/"),B=Q[Q.length-1].replace(/\.[^/.]+$/,"");K[B]=W}))}),await Promise.all(U),Object.keys(K).length>0&&await b6(K)}}h(!0),setTimeout(()=>window.location.reload(),1500)}catch(z){console.error("Import failed:",z),alert("")}finally{g(!1)}}},D.click()},T=async()=>{try{await be.clearAll(),await v6(),Nd(!0),i(!0),r(!1),setTimeout(()=>window.location.reload(),1500)}catch(D){console.error("Clear failed:",D),alert("")}};return l.jsx(Ol,{title:"",onBack:e,children:l.jsxs("div",{className:"space-y-6 text-slate-800",children:[l.jsx(nr,{children:(o||d||a)&&l.jsx(un.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-24 left-0 right-0 flex justify-center z-[60] pointer-events-none px-4",children:l.jsxs("div",{className:"bg-slate-800 text-white px-5 py-3 border border-slate-700 shadow-xl flex items-center gap-3 backdrop-blur-md",children:[l.jsx(Hn,{className:"w-4 h-4 text-green-400",strokeWidth:3}),l.jsxs("span",{className:"text-xs font-bold tracking-wider uppercase",children:[o&&"ARCHIVE_EXPORT_COMPLETE",d&&"DATA_RESTORED_REBOOTING",a&&"SYSTEM_PURGED_REBOOTING"]})]})})}),l.jsxs("div",{className:"bg-white p-5 border border-slate-300 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-l-2 border-t-2 border-slate-800"}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(O_,{className:"w-5 h-5 text-slate-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-bold text-slate-500 tracking-widest uppercase",children:""}),l.jsx("p",{className:"text-[10px] text-slate-400 font-mono",children:"STATUS: MOUNTED"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-xl font-black text-slate-800 tracking-tighter",children:v.totalSize}),l.jsx("span",{className:"text-xs text-slate-400 font-bold ml-1",children:"KB"})]})]}),l.jsxs("div",{className:"h-3 w-full bg-slate-100 border border-slate-200 flex mb-6",children:[l.jsx("div",{className:"bg-blue-600 h-full border-r border-white",style:{width:`${Math.min(100,parseFloat(v.chatMessagesSize)/parseFloat(v.totalSize)*100)}%`}}),l.jsx("div",{className:"bg-emerald-500 h-full border-r border-white",style:{width:`${Math.min(100,parseFloat(v.imageStats.totalSize)/parseFloat(v.totalSize)*100)}%`}}),l.jsx("div",{className:"bg-orange-500 h-full",style:{width:`${Math.min(100,parseFloat(v.worldBooksSize)/parseFloat(v.totalSize)*100)}%`}})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"",value:v.chatMessagesSize,icon:Cd,color:"text-blue-600"},{label:"",value:v.imageStats.totalSize,icon:Oi,color:"text-emerald-600"},{label:"",value:v.worldBooksSize,icon:B1,color:"text-orange-600"},{label:"",value:v.otherDataSize,icon:Sd,color:"text-slate-600"}].map((D,M)=>l.jsxs("div",{className:"flex items-center justify-between p-2 border border-slate-100 bg-slate-50/50",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(D.icon,{className:`w-3 h-3 ${D.color}`}),l.jsx("span",{className:`text-[10px] font-bold ${D.color}`,children:D.label})]}),l.jsxs("span",{className:"text-[10px] font-mono text-slate-500",children:[D.value," KB"]})]},M))})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-3 ml-1 flex items-center gap-2",children:[l.jsx(yf,{className:"w-3 h-3"})," "]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:C,disabled:x,className:"p-4 bg-white border border-slate-300 active:border-slate-800 hover:border-slate-800 active:bg-slate-50 transition-all flex flex-col gap-2 group",children:[l.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[l.jsx(Cd,{className:"w-5 h-5 text-slate-400 group-active:text-slate-800 group-hover:text-slate-800 transition-colors"}),l.jsx("span",{className:"text-[9px] font-mono text-slate-300 group-active:text-slate-500 group-hover:text-slate-500",children:"JSON"})]}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-800",children:""}),l.jsx("p",{className:"text-[10px] text-slate-400",children:""})]})]}),l.jsxs("button",{onClick:k,disabled:x,className:"p-4 bg-white border border-slate-300 active:border-slate-800 hover:border-slate-800 active:bg-slate-50 transition-all flex flex-col gap-2 group",children:[l.jsxs("div",{className:"flex items-center justify-between w-full mb-1",children:[l.jsx(Sd,{className:"w-5 h-5 text-slate-400 group-active:text-slate-800 group-hover:text-slate-800 transition-colors"}),l.jsx("span",{className:"text-[9px] font-mono text-slate-300 group-active:text-slate-500 group-hover:text-slate-500",children:"ZIP"})]}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-800",children:""}),l.jsx("p",{className:"text-[10px] text-slate-400",children:""})]})]})]}),l.jsxs("button",{onClick:j,disabled:p,className:"w-full p-4 bg-white border border-slate-300 active:border-slate-800 hover:border-slate-800 active:bg-slate-50 transition-all flex items-center justify-between group",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 border border-slate-200 bg-slate-50 flex items-center justify-center text-slate-600 group-active:bg-slate-800 group-active:text-white group-hover:bg-slate-800 group-hover:text-white transition-colors",children:l.jsx(bf,{className:"w-5 h-5"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-sm font-bold text-slate-800",children:""}),l.jsx("p",{className:"text-[10px] text-slate-400",children:"RESTORE FROM ARCHIVE"})]})]}),l.jsx("div",{className:"border border-slate-300 px-3 py-1 text-[10px] font-bold text-slate-600 uppercase active:bg-slate-800 active:text-white hover:bg-slate-800 hover:text-white transition-colors",children:""})]}),l.jsxs("button",{onClick:()=>r(!0),className:"w-full mt-6 p-4 border border-red-200 bg-red-50/30 text-red-600 font-bold text-sm flex items-center justify-center gap-2 active:bg-red-50 active:border-red-300 hover:bg-red-50 hover:border-red-300 transition-all",children:[l.jsx(Dr,{className:"w-4 h-4"})," (ERASE ALL DATA)"]})]})]}),l.jsx(nr,{children:n&&l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[70] px-6",children:l.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"bg-white border-2 border-slate-800 p-6 w-full max-w-sm shadow-[8px_8px_0px_rgba(0,0,0,0.2)] relative",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4 border-b border-slate-100 pb-4",children:[l.jsx(K4,{className:"w-6 h-6 text-red-600"}),l.jsx("h3",{className:"text-lg font-black text-slate-800 tracking-tight uppercase",children:""})]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-8 leading-relaxed font-medium",children:["",l.jsx("span",{className:"text-red-600 font-bold bg-red-50 px-1",children:""}),"",l.jsx("br",{}),l.jsx("br",{}),l.jsx("span",{className:"text-xs text-slate-400",children:"SYSTEM ID: LOCAL_USER"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-3 border border-slate-300 text-slate-600 font-bold text-sm active:bg-slate-50 hover:bg-slate-50 transition-colors uppercase tracking-wider",children:""}),l.jsx("button",{onClick:T,className:"flex-1 py-3 bg-red-600 text-white font-bold text-sm active:bg-red-700 hover:bg-red-700 transition-colors shadow-lg shadow-red-200 uppercase tracking-wider",children:""})]})]})})})]})})}function Y6({onBack:e}){return l.jsx(Ol,{title:"",onBack:e,children:l.jsxs("div",{className:"space-y-8 text-slate-800",children:[l.jsxs("div",{className:"bg-white border border-slate-200 p-6 relative overflow-hidden shadow-sm group",children:[l.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-slate-50 -mr-8 -mt-8 rotate-45 transform transition-transform group-hover:scale-150 duration-700 ease-out"}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-800 text-white flex items-center justify-center mb-4 shadow-lg shadow-slate-200",children:l.jsx(W1,{className:"w-8 h-8"})}),l.jsx("h2",{className:"text-xl font-black tracking-tight uppercase",children:"Touken OS"}),l.jsx("p",{className:"text-[10px] font-bold text-slate-400 tracking-[0.3em] uppercase mt-1",children:"Government Terminal"}),l.jsx("div",{className:"mt-4 inline-flex items-center px-3 py-1 bg-slate-100 border border-slate-200 rounded-none text-xs font-mono text-slate-600",children:"v1.0 (Beta)"})]})]}),l.jsxs("section",{className:"bg-slate-50 border border-slate-200 p-5 relative",children:[l.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 bg-slate-300"}),l.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-slate-300"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 bg-slate-300"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 bg-slate-300"}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-800 mb-4",children:[l.jsx(L1,{className:"w-4 h-4"}),l.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider",children:""})]}),l.jsxs("div",{className:"text-xs text-slate-600 leading-relaxed space-y-4 text-justify h-64 overflow-y-auto pr-2 custom-scrollbar",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"1. "}),l.jsxs("p",{children:["-ONLINE-  ",l.jsx("span",{className:"font-bold",children:"Nitroplus"}),"  ",l.jsx("span",{className:"font-bold",children:"DMM GAMES (EXNOA LLC)"}),"  "]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"2. "}),l.jsxs("p",{children:["",l.jsx("span",{className:"font-bold text-red-500",children:""})," "]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"3. "}),l.jsx("p",{children:" "})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"4. "}),l.jsx("p",{children:" AI  IndexedDB  "})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"5. AI "}),l.jsx("p",{children:"LLMAI   AI "})]})]})]}),l.jsx("div",{className:"text-center py-4 opacity-50",children:l.jsx("p",{className:"text-[9px] text-slate-400 font-mono tracking-widest",children:"MADE WITH  FOR TOUKEN RANBU"})})]})})}function Q6({onClose:e}){const[n,r]=A.useState("main"),a=o=>{r(o)},i=()=>{r("main")};return l.jsxs(l.Fragment,{children:[n==="main"&&l.jsx(F6,{onNavigate:a,onClose:e}),n==="api"&&l.jsx(O6,{onBack:i}),n==="beautify"&&l.jsx(K6,{onBack:i}),n==="data"&&l.jsx(q6,{onBack:i}),n==="disclaimer"&&l.jsx(Y6,{onBack:i})]})}function X6({onBack:e,onEdit:n}){const[r,a]=A.useState([]),[i,o]=A.useState(""),[u,d]=A.useState("all"),[h,x]=A.useState("grid");A.useEffect(()=>{f()},[]);const f=async()=>{try{const w=await be.get(ue.WORLD_BOOKS,"world_books");w&&a(w)}catch(w){console.error("Failed to load world books:",w)}},p=()=>{n(null)},g=w=>{n(w)},v=r.filter(w=>u==="all"||w.scope===u).filter(w=>w.name.toLowerCase().includes(i.toLowerCase())||w.content.toLowerCase().includes(i.toLowerCase()));return l.jsxs("div",{className:"fixed inset-0 bg-[#F5F2EB] z-50 overflow-hidden flex flex-col font-['Source_Han_Sans_CN_VF',sans-serif]",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20 mix-blend-multiply",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%239C92AC' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E")`}}),l.jsxs("div",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 z-20 bg-[#F5F2EB]/95 backdrop-blur-xl border-b border-[#D6D3CC] shadow-sm",children:[l.jsx("button",{onClick:e,className:"w-10 h-10 bg-white/50 border border-[#D6D3CC] rounded-lg flex items-center justify-center text-[#5A5A55] transition-colors hover:bg-white hover:text-[#2C2C2C] shadow-[0_2px_0_#E5E5E5]",children:l.jsx(Fl,{className:"w-5 h-5",strokeWidth:2})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(T0,{className:"w-3 h-3 text-[#8C8C89]"}),l.jsx("span",{className:"text-[10px] font-bold text-[#8C8C89] tracking-[0.2em] uppercase",children:""})]}),l.jsx("h1",{className:"text-lg font-serif font-bold text-[#2C2C2C] tracking-tight flex items-center gap-2",children:""})]}),l.jsx("button",{onClick:p,className:"w-10 h-10 bg-[#2C2C2C] text-[#F2F0EB] rounded-lg flex items-center justify-center transition-colors shadow-lg hover:bg-black",children:l.jsx(zi,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsxs("div",{className:"px-6 py-4 z-10 bg-[#F5F2EB]",children:[l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(y4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#8C8C89]"}),l.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),placeholder:"...",className:"w-full bg-white border border-[#D6D3CC] rounded-full px-4 py-2.5 pl-10 text-xs font-medium text-[#2C2C2C] placeholder:text-[#AAA] focus:outline-none focus:border-[#2C2C2C] focus:ring-1 focus:ring-[#2C2C2C] transition-colors shadow-sm"}),i&&l.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#BBB] hover:text-[#2C2C2C]",children:l.jsx(Wt,{className:"w-3 h-3"})})]}),l.jsxs("div",{className:"flex bg-white border border-[#D6D3CC] rounded-lg p-1 shrink-0 shadow-sm",children:[l.jsx("button",{onClick:()=>x("grid"),className:`p-1.5 rounded-md transition-all ${h==="grid"?"bg-[#F5F2EB] text-[#2C2C2C]":"text-[#8C8C89]"}`,children:l.jsx(U1,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>x("list"),className:`p-1.5 rounded-md transition-all ${h==="list"?"bg-[#F5F2EB] text-[#2C2C2C]":"text-[#8C8C89]"}`,children:l.jsx(Y_,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"flex gap-6 border-b border-[#D6D3CC] px-2",children:[{id:"all",label:""},{id:"global",label:""},{id:"local",label:""}].map(w=>l.jsxs("button",{onClick:()=>d(w.id),className:`pb-3 text-[11px] font-bold uppercase tracking-wider transition-colors relative ${u===w.id?"text-[#2C2C2C]":"text-[#8C8C89] active:text-[#5A5A55] hover:text-[#5A5A55]"}`,children:[w.label,u===w.id&&l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#2C2C2C]"})]},w.id))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-24",children:v.length===0?l.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-[#8C8C89] opacity-60",children:[l.jsx(T0,{className:"w-16 h-16 mb-4 stroke-1"}),l.jsx("p",{className:"text-xs font-serif italic",children:""})]}):l.jsx("div",{className:h==="grid"?"grid grid-cols-2 gap-4 pt-2":"flex flex-col gap-3 pt-2",children:v.map((w,y)=>l.jsx("div",{onClick:()=>g(w),className:`group cursor-pointer relative ${h==="grid"?"aspect-[3/4]":"h-24"}`,children:h==="grid"?l.jsxs("div",{className:"absolute inset-0 bg-white border border-[#E5E5E5] rounded-r-md rounded-l-sm shadow-[4px_4px_10px_rgba(0,0,0,0.05)] active:shadow-[6px_6px_15px_rgba(0,0,0,0.1)] hover:shadow-[6px_6px_15px_rgba(0,0,0,0.1)] transition-all overflow-hidden flex flex-col",children:[l.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-3 ${w.scope==="global"?"bg-[#2C2C2C]":"bg-[#8C8C89]"} opacity-10 border-r border-black/5`}),l.jsxs("div",{className:"mt-4 mx-4 flex justify-between items-start",children:[l.jsx("span",{className:`text-[8px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded-sm ${w.scope==="global"?"bg-[#F0F0F0] text-[#2C2C2C]":"bg-[#F5F5F5] text-[#8C8C89]"}`,children:w.scope==="global"?" I":" II"}),w.scope==="global"?l.jsx(V1,{className:"w-3 h-3 text-[#2C2C2C]"}):l.jsx(i_,{className:"w-3 h-3 text-[#8C8C89]"})]}),l.jsxs("div",{className:"flex-1 px-4 flex flex-col justify-center",children:[l.jsx("h3",{className:"font-serif text-lg leading-tight font-bold text-[#2C2C2C] line-clamp-3",children:w.name||""}),l.jsx("div",{className:"w-8 h-0.5 bg-[#D6D3CC] mt-3"})]}),l.jsxs("div",{className:"px-4 pb-4 pt-2 bg-[#F9F9F7] border-t border-[#F0F0F0]",children:[l.jsx("p",{className:"text-[9px] text-[#8C8C89] font-mono line-clamp-2 mb-2",children:w.content||"..."}),l.jsxs("div",{className:"flex items-center gap-2 text-[8px] font-bold text-[#AAA] uppercase",children:[l.jsx(Rl,{className:"w-2.5 h-2.5"}),new Date(w.updatedAt).toLocaleDateString()]})]})]}):l.jsxs("div",{className:"w-full h-full bg-white border border-[#E5E5E5] rounded-md shadow-sm active:shadow-md hover:shadow-md transition-all flex overflow-hidden",children:[l.jsx("div",{className:`w-2 h-full ${w.scope==="global"?"bg-[#2C2C2C]":"bg-[#D6D3CC]"}`}),l.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-center",children:[l.jsxs("div",{className:"flex justify-between items-start mb-1",children:[l.jsx("h3",{className:"font-serif text-base font-bold text-[#2C2C2C]",children:w.name||""}),l.jsx("span",{className:"text-[9px] px-2 py-0.5 bg-[#F5F5F5] rounded text-[#8C8C89] font-bold uppercase",children:w.scope==="global"?"":""})]}),l.jsx("p",{className:"text-[10px] text-[#666] line-clamp-2 pr-8",children:w.content})]}),l.jsxs("div",{className:"w-12 border-l border-[#F0F0F0] flex flex-col items-center justify-center gap-1 text-[#AAA]",children:[l.jsx(Cd,{className:"w-4 h-4"}),l.jsx("span",{className:"text-[9px] font-mono",children:w.content.length})]})]})},w.id))})}),l.jsxs("div",{className:"bg-[#EAE8E3] border-t border-[#D6D3CC] px-6 py-3 flex justify-between items-center text-[9px] font-mono text-[#8C8C89] uppercase tracking-wider",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34C759]"}),l.jsx("span",{children:""})]}),l.jsxs("span",{children:[": ",r.length]})]})]})}function J6({onBack:e,worldBook:n}){const[r,a]=A.useState(""),[i,o]=A.useState("local"),[u,d]=A.useState("before"),[h,x]=A.useState(""),[f,p]=A.useState(!1),[g,v]=A.useState(!1),[w,y]=A.useState(!1),C=n===null;A.useEffect(()=>{n&&(a(n.name),o(n.scope),d(n.position),x(n.content))},[n]);const k=async()=>{if(!r.trim()){y(!0);return}y(!1);try{let D=await be.get(ue.WORLD_BOOKS,"world_books")||[];const M=new Date().toISOString();if(C){const F={id:`wb_${Date.now()}`,name:r.trim(),scope:i,position:u,content:h.trim(),createdAt:M,updatedAt:M};D.push(F)}else D=D.map(F=>F.id===n.id?{...F,name:r.trim(),scope:i,position:u,content:h.trim(),updatedAt:M}:F);await be.set(ue.WORLD_BOOKS,"world_books",D),window.dispatchEvent(new Event("chat-settings-updated")),v(!0),setTimeout(()=>{v(!1),e()},1500)}catch(T){console.error("Failed to save world book:",T)}},j=async()=>{if(n)try{const T=await be.get(ue.WORLD_BOOKS,"world_books");if(T){const D=T.filter(M=>M.id!==n.id);await be.set(ue.WORLD_BOOKS,"world_books",D)}window.dispatchEvent(new Event("chat-settings-updated")),p(!1),setTimeout(()=>e(),300)}catch(T){console.error("Failed to delete world book:",T)}};return l.jsxs("div",{className:"fixed inset-0 bg-[#F2F0EB] z-50 overflow-hidden flex flex-col font-['Source_Han_Sans_CN_VF',sans-serif]",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsxs("div",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 z-10 bg-[#F2F0EB]/95 backdrop-blur-sm border-b border-[#D6D3CC]",children:[l.jsx("button",{onClick:e,className:"w-10 h-10 bg-[#EAE8E3] border border-[#D6D3CC] rounded-md flex items-center justify-center text-[#5A5A55] transition-colors active:bg-white active:text-[#B93636] hover:bg-white hover:text-[#B93636]",children:l.jsx(Wt,{className:"w-5 h-5",strokeWidth:2})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(n_,{className:"w-3 h-3 text-[#8C8C89]"}),l.jsx("span",{className:"text-[10px] font-bold text-[#8C8C89] tracking-[0.2em] uppercase",children:C?"":""})]}),l.jsx("h1",{className:"text-base font-bold text-[#2C2C2C] tracking-wide",children:C?"":""})]}),l.jsx("div",{className:"w-10"})]}),l.jsxs("div",{className:"flex-1 px-5 pb-28 overflow-y-auto",children:[l.jsxs("div",{className:"mt-6 mb-8 text-center",children:[l.jsx("div",{className:"inline-block border-b-2 border-[#2C2C2C] pb-1 mb-2",children:l.jsxs("h2",{className:"text-xl font-black text-[#2C2C2C] uppercase tracking-tighter flex items-center gap-2",children:[l.jsx(vf,{className:"w-5 h-5"}),""]})}),l.jsx("p",{className:"text-[10px] font-mono text-[#8C8C89] uppercase tracking-widest",children:""})]}),l.jsxs("div",{className:"space-y-6 max-w-[420px] mx-auto",children:[l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)]",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:""}),l.jsxs("div",{className:"space-y-4 mt-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1",children:""}),l.jsx("input",{type:"text",value:r,onChange:T=>{a(T.target.value),y(!1)},className:`w-full bg-[#EAE8E3] border-b-2 px-3 py-2 text-lg font-bold text-[#2C2C2C] focus:outline-none focus:bg-white transition-colors placeholder:text-[#CCC] ${w?"border-[#B93636] bg-[#FFF5F5]":"border-[#D6D3CC] focus:border-[#2C2C2C]"}`,placeholder:""}),w&&l.jsxs("p",{className:"text-[10px] text-[#B93636] font-bold mt-1 uppercase flex items-center gap-1",children:[l.jsx(L1,{className:"w-3 h-3"})," "]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(V1,{className:"w-3 h-3"})," "]}),l.jsx("div",{className:"flex flex-col gap-1",children:[{id:"global",label:" ()"},{id:"local",label:""}].map(T=>l.jsxs("button",{onClick:()=>o(T.id),className:`w-full py-2 px-3 text-xs font-bold text-left transition-all border ${i===T.id?"bg-[#2C2C2C] text-[#F2F0EB] border-[#2C2C2C]":"bg-white border-[#D6D3CC] text-[#8C8C89] active:border-[#8C8C89] hover:border-[#8C8C89]"}`,children:[i===T.id&&l.jsx(Hn,{className:"w-3 h-3 inline mr-1"}),T.label]},T.id))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(K_,{className:"w-3 h-3"})," "]}),l.jsx("div",{className:"flex flex-col gap-1",children:[{id:"before",label:" (Prepend)"},{id:"after",label:" (Append)"}].map(T=>l.jsxs("button",{onClick:()=>d(T.id),className:`w-full py-2 px-3 text-xs font-bold text-left transition-all border ${u===T.id?"bg-[#2C2C2C] text-[#F2F0EB] border-[#2C2C2C]":"bg-white border-[#D6D3CC] text-[#8C8C89] active:border-[#8C8C89] hover:border-[#8C8C89]"}`,children:[u===T.id&&l.jsx(Hn,{className:"w-3 h-3 inline mr-1"}),T.label]},T.id))})]})]})]})]}),l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 pb-2 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)] h-[360px] flex flex-col",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:""}),l.jsxs("div",{className:"flex-1 mt-2 relative",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px)",backgroundSize:"100% 2rem",marginTop:"1.9rem"}}),l.jsx("textarea",{value:h,onChange:T=>x(T.target.value),className:"w-full h-full bg-transparent border-none text-sm text-[#4A4A4A] focus:outline-none resize-none leading-[2rem] font-mono",placeholder:"...",style:{lineHeight:"2rem"}})]}),l.jsx("div",{className:"text-right border-t border-[#E5E5E5] pt-2 mt-2",children:l.jsxs("span",{className:"text-[10px] font-mono text-[#8C8C89]",children:[": ",h.length]})})]})]})]}),l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-[#F2F0EB]/90 backdrop-blur-md border-t border-[#D6D3CC] z-40 flex gap-3 justify-center",children:[!C&&l.jsx("button",{onClick:()=>p(!0),className:"w-12 h-12 border-2 border-[#FF3B30] text-[#FF3B30] flex items-center justify-center active:bg-[#FF3B30] active:text-white hover:bg-[#FF3B30] hover:text-white transition-colors rounded-[2px]",children:l.jsx(Dr,{className:"w-5 h-5"})}),l.jsxs("button",{onClick:k,className:"flex-1 max-w-[300px] bg-[#2C2C2C] text-[#F2F0EB] h-12 rounded-[2px] font-bold text-sm tracking-wider uppercase active:bg-black hover:bg-black transition-colors shadow-lg flex items-center justify-center gap-2",children:[l.jsx(Li,{className:"w-4 h-4"}),C?"":""]})]}),f&&l.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[70] px-4",children:l.jsxs("div",{className:"bg-[#F2F0EB] border-2 border-[#FF3B30] p-6 max-w-xs w-full text-center shadow-2xl",children:[l.jsx("div",{className:"w-12 h-12 bg-[#FF3B30] text-white rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Dr,{className:"w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-black text-[#2C2C2C] uppercase mb-2",children:""}),l.jsx("p",{className:"text-xs font-mono text-[#5A5A55] mb-6",children:""}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>p(!1),className:"flex-1 py-3 border border-[#D6D3CC] font-bold text-xs active:bg-white hover:bg-white",children:""}),l.jsx("button",{onClick:j,className:"flex-1 py-3 bg-[#FF3B30] text-white font-bold text-xs active:bg-[#D32F2F] hover:bg-[#D32F2F]",children:""})]})]})}),l.jsx(nr,{children:g&&l.jsx(un.div,{initial:{opacity:0,scale:1.5,rotate:-10},animate:{opacity:1,scale:1,rotate:-5},exit:{opacity:0},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[70] pointer-events-none",children:l.jsxs("div",{className:"w-40 h-40 rounded-full border-[6px] border-[#34C759] flex flex-col items-center justify-center text-[#34C759] opacity-90 mix-blend-multiply bg-white/50 backdrop-blur-sm",children:[l.jsx(Hn,{className:"w-12 h-12 mb-1",strokeWidth:4}),l.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:""}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest mt-1",children:new Date().toLocaleDateString()})]})})})]})}function eN({onClose:e}){const[n,r]=A.useState("list"),[a,i]=A.useState(null),o=d=>{i(d),r("editor")},u=()=>{i(null),r("list")};return n==="editor"?l.jsx(J6,{onBack:u,worldBook:a}):l.jsx(X6,{onBack:e,onEdit:o})}function tN({onClose:e,onEditUser:n,onEditCharacter:r}){const[a,i]=A.useState([]),[o,u]=A.useState({name:"",country:"",fortress:"",date:"",attendant:""}),[d,h]=A.useState(()=>{const g=Z1();return g!==void 0?g:null});A.useEffect(()=>{x(),f();const g=()=>{f()};return window.addEventListener("avatarChanged",g),window.addEventListener("userDataChanged",g),()=>{window.removeEventListener("avatarChanged",g),window.removeEventListener("userDataChanged",g)}},[]);const x=async()=>{try{const g=await be.get(ue.CHARACTERS,"characters");if(g){const v=await Promise.all(g.map(async w=>{if(w.avatar){if(w.avatar.startsWith("data:"))return{...w,avatarUrl:w.avatar};{const y=await dt(w.avatar);return{...w,avatarUrl:y}}}return{...w,avatarUrl:null}}));i(v)}}catch(g){console.error("Failed to load characters:",g)}},f=async()=>{try{const g=await be.get(ue.USER_DATA,"userData");g&&u(g);const v=await dt("avatar");h(v),q1(v)}catch(g){console.error("Failed to load user data:",g)}},p=()=>{r(null)};return l.jsxs("div",{className:"fixed inset-0 bg-[#F2F0EB] z-50 overflow-hidden flex flex-col font-['Source_Han_Sans_CN_VF',sans-serif]",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsxs("div",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 z-10 bg-[#F2F0EB]/95 backdrop-blur-sm border-b border-stone-200",children:[l.jsx("button",{onClick:e,className:"w-10 h-10 bg-[#EAE8E3] border border-[#D6D3CC] rounded-md flex items-center justify-center text-[#5A5A55] transition-colors hover:bg-white hover:text-black hover:border-[#999]",children:l.jsx(Fl,{className:"w-5 h-5",strokeWidth:2})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] font-bold text-[#8C8C89] tracking-[0.2em] uppercase",children:""}),l.jsx("h1",{className:"text-base font-bold text-[#2C2C2C] tracking-wide",children:""})]}),l.jsx("button",{onClick:p,className:"w-10 h-10 bg-[#2C2C2C] text-[#F2F0EB] rounded-md flex items-center justify-center transition-colors hover:bg-black shadow-sm",children:l.jsx(zi,{className:"w-5 h-5",strokeWidth:2})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-5 pb-24",children:[l.jsx("div",{className:"flex justify-end mt-6 mb-2",children:l.jsxs("div",{className:"border border-[#8C8C89] text-[#8C8C89] px-2 py-0.5 text-[10px] font-mono uppercase tracking-widest flex items-center gap-2 opacity-60",children:[l.jsx(Sd,{className:"w-3 h-3"}),"-",new Date().getFullYear(),"-A"]})}),l.jsxs("div",{className:"relative mb-8 group cursor-pointer",onClick:n,children:[l.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-12 h-4 bg-[#D6D3CC] rounded-sm z-0"}),l.jsxs("div",{className:"relative bg-[#F9F9F7] border border-[#D6D3CC] p-5 shadow-[0_2px_8px_rgba(0,0,0,0.04)] z-10 transition-all active:border-[#B93636] active:shadow-md hover:border-[#B93636] hover:shadow-md",children:[l.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 border-t border-l border-[#B93636] opacity-0 group-active:opacity-100 group-hover:opacity-100 transition-opacity"}),l.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 border-t border-r border-[#B93636] opacity-0 group-active:opacity-100 group-hover:opacity-100 transition-opacity"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 border-b border-l border-[#B93636] opacity-0 group-active:opacity-100 group-hover:opacity-100 transition-opacity"}),l.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 border-b border-r border-[#B93636] opacity-0 group-active:opacity-100 group-hover:opacity-100 transition-opacity"}),l.jsxs("div",{className:"flex gap-5",children:[l.jsxs("div",{className:"w-24 h-32 bg-[#E5E5E5] border border-[#D6D3CC] p-1 flex-shrink-0 relative overflow-hidden",children:[d?l.jsx("img",{src:d,alt:"Saniwa",className:"w-full h-full object-cover grayscale-[0.2] group-active:grayscale-0 group-hover:grayscale-0 transition-all"}):l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-[#999] bg-[#F0F0F0]",children:[l.jsx(jr,{className:"w-8 h-8 mb-1",strokeWidth:1.5}),l.jsx("span",{className:"text-[9px] uppercase",children:""})]}),l.jsx("div",{className:"absolute inset-0 border border-black/5 pointer-events-none"})]}),l.jsxs("div",{className:"flex-1 flex flex-col justify-between py-0.5",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"text-[10px] font-bold bg-[#2C2C2C] text-white px-1.5 py-0.5",children:""}),l.jsx("span",{className:"text-[10px] font-bold text-[#B93636] border border-[#B93636] px-1.5 py-0.5",children:""})]}),l.jsx("h2",{className:"text-xl font-bold text-[#2C2C2C] leading-tight mb-0.5 border-b border-[#D6D3CC] pb-2 inline-block min-w-[120px]",children:o.name||""})]}),l.jsxs("div",{className:"space-y-2 mt-2",children:[l.jsxs("div",{className:"grid grid-cols-[60px_1fr] text-xs",children:[l.jsx("span",{className:"text-[#8C8C89] font-bold uppercase text-[10px] tracking-wider mt-0.5",children:""}),l.jsx("span",{className:"font-medium text-[#4A4A4A] font-mono",children:o.fortress||"---"})]}),l.jsxs("div",{className:"grid grid-cols-[60px_1fr] text-xs",children:[l.jsx("span",{className:"text-[#8C8C89] font-bold uppercase text-[10px] tracking-wider mt-0.5",children:""}),l.jsx("span",{className:"font-medium text-[#4A4A4A] font-mono",children:o.country||"---"})]}),o.attendant&&l.jsxs("div",{className:"grid grid-cols-[60px_1fr] text-xs",children:[l.jsx("span",{className:"text-[#8C8C89] font-bold uppercase text-[10px] tracking-wider mt-0.5",children:""}),l.jsx("span",{className:"font-medium text-[#4A4A4A] flex items-center gap-1",children:o.attendant})]})]})]})]}),l.jsx("div",{className:"absolute right-4 bottom-4 opacity-10 pointer-events-none rotate-[-15deg]",children:l.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-[#2C2C2C] flex items-center justify-center",children:l.jsx("span",{className:"text-[10px] font-black uppercase text-[#2C2C2C]",children:""})})})]})]}),l.jsxs("div",{className:"flex items-end justify-between mb-4 border-b-2 border-[#2C2C2C] pb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(B4,{className:"w-5 h-5 text-[#2C2C2C]"}),l.jsx("h3",{className:"text-base font-black text-[#2C2C2C] uppercase tracking-tight",children:""})]}),l.jsxs("span",{className:"text-xs font-mono font-bold text-[#2C2C2C]",children:[": ",a.length.toString().padStart(2,"0")]})]}),l.jsx("div",{className:"space-y-2",children:a.length===0?l.jsxs("div",{className:"py-16 text-center border border-dashed border-[#BBB] bg-[#F9F9F7]",children:[l.jsx(I4,{className:"w-12 h-12 text-[#D6D3CC] mx-auto mb-3",strokeWidth:1}),l.jsx("p",{className:"text-[#8C8C89] text-sm font-medium uppercase tracking-wider",children:""}),l.jsx("button",{onClick:p,className:"mt-4 text-xs font-bold text-[#2C2C2C] underline hover:text-[#B93636]",children:"+ "})]}):a.map((g,v)=>l.jsx("div",{onClick:()=>r(g),className:"group relative bg-[#F9F9F7] border-l-[3px] border-l-[#D6D3CC] border-y border-r border-[#E5E5E5] p-3 pl-4 active:bg-[#EAE8E3] active:border-l-[#2C2C2C] transition-colors hover:border-l-[#2C2C2C] cursor-pointer",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"text-[10px] font-mono text-[#8C8C89] w-6 text-right group-active:text-[#B93636] group-hover:text-[#B93636] transition-colors",children:(v+1).toString().padStart(3,"0")}),l.jsx("div",{className:"w-10 h-10 bg-[#E5E5E5] border border-[#D6D3CC] flex-shrink-0 overflow-hidden grayscale group-active:grayscale-0 group-hover:grayscale-0 transition-all",children:g.avatarUrl?l.jsx("img",{src:g.avatarUrl,alt:"",className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(jr,{className:"w-4 h-4 text-[#999]"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[l.jsx("h4",{className:"text-sm font-bold text-[#2C2C2C] tracking-wide group-active:text-black group-hover:text-black",children:g.name}),l.jsx("span",{className:"text-[9px] font-bold uppercase text-[#B93636] opacity-0 group-active:opacity-100 group-hover:opacity-100 transition-opacity border border-[#B93636] px-1",children:""})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-[10px] text-[#8C8C89] font-mono uppercase tracking-wider",children:""}),l.jsx("p",{className:"text-xs text-[#5A5A55] truncate font-medium",children:g.description||"---"})]})]}),l.jsx(z1,{className:"w-4 h-4 text-[#D6D3CC] group-active:text-[#2C2C2C] group-hover:text-[#2C2C2C] transition-colors"})]})},g.id))})]})]})}function nN({onBack:e,character:n}){const[r,a]=A.useState(""),[i,o]=A.useState(null),[u,d]=A.useState(null),[h,x]=A.useState(""),[f,p]=A.useState(""),[g,v]=A.useState([]),[w,y]=A.useState([]),[C,k]=A.useState(!1),[j,T]=A.useState(!1),[D,M]=A.useState(!1),[F,z]=A.useState([]),N=A.useRef(null),P=n===null;A.useEffect(()=>{n&&(a(n.name),x(n.description),p(n.manifestDate||""),v(n.worldBooks||[]),(async()=>{if(n.avatar)if(n.avatar.startsWith("data:"))o(n.avatar),d(null);else{const W=await dt(n.avatar);o(W),d(n.avatar)}})())},[n]),A.useEffect(()=>{(async()=>{const W=await be.get(ue.WORLD_BOOKS,"world_books");W&&z(W.filter(Q=>Q.scope==="local"))})()},[]);const H=()=>{N.current?.click()},Z=async $=>{const W=$.target.files?.[0];if(W){const Q=Date.now(),O=`character-${n?.id||Q}-avatar`,B=await Wn(O,W);o(B),d(O)}},E=async()=>{try{let W=await be.get(ue.CHARACTERS,"characters")||[];const Q=new Date().toISOString();if(P){const O={id:`char_${Date.now()}`,name:r.trim()||"",avatar:u,description:h.trim(),manifestDate:f.trim()||void 0,worldBooks:g,createdAt:Q,updatedAt:Q};W.push(O)}else W=W.map(O=>O.id===n.id?{...O,name:r.trim()||"",avatar:u,description:h.trim(),manifestDate:f.trim()||void 0,worldBooks:g,updatedAt:Q}:O);await be.set(ue.CHARACTERS,"characters",W),window.dispatchEvent(new Event("chat-settings-updated")),T(!0),setTimeout(()=>{T(!1),e()},1500)}catch($){console.error("Failed to save character:",$)}},L=async()=>{if(n)try{const $=await be.get(ue.CHARACTERS,"characters");if($){const W=$.filter(Q=>Q.id!==n.id);await be.set(ue.CHARACTERS,"characters",W)}window.dispatchEvent(new Event("chat-settings-updated")),n.avatar&&await Pa(n.avatar),k(!1),setTimeout(()=>e(),300)}catch($){console.error("Failed to delete character:",$)}},S=$=>{v(g.filter(W=>W!==$))},K=()=>{y([...g]),M(!0)},U=$=>{w.includes($)?y(w.filter(W=>W!==$)):y([...w,$])},I=()=>{v([...w]),M(!1)};return l.jsxs("div",{className:"fixed inset-0 bg-[#F2F0EB] z-50 overflow-hidden flex flex-col font-['Source_Han_Sans_CN_VF',sans-serif]",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsxs("div",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 z-10 bg-[#F2F0EB]/95 backdrop-blur-sm border-b border-stone-200",children:[l.jsx("button",{onClick:e,className:"w-10 h-10 bg-[#EAE8E3] border border-[#D6D3CC] rounded-md flex items-center justify-center text-[#5A5A55] transition-colors active:bg-white active:text-[#B93636] hover:bg-white hover:text-[#B93636]",children:l.jsx(Wt,{className:"w-5 h-5",strokeWidth:2})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] font-bold text-[#8C8C89] tracking-[0.2em] uppercase",children:P?"":""}),l.jsx("h1",{className:"text-base font-bold text-[#2C2C2C] tracking-wide",children:P?"":""})]}),l.jsx("div",{className:"w-10"})]}),l.jsxs("div",{className:"flex-1 px-5 pb-28 overflow-y-auto",children:[l.jsxs("div",{className:"mt-6 mb-8 text-center",children:[l.jsx("div",{className:"inline-block border-b-2 border-[#2C2C2C] pb-1 mb-2",children:l.jsxs("h2",{className:"text-xl font-black text-[#2C2C2C] uppercase tracking-tighter flex items-center gap-2",children:[l.jsx(vf,{className:"w-5 h-5"}),""]})}),l.jsx("p",{className:"text-[10px] font-mono text-[#8C8C89] uppercase tracking-widest",children:""})]}),l.jsxs("div",{className:"space-y-6 max-w-[420px] mx-auto",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:Z,className:"hidden"}),l.jsxs("div",{onClick:H,className:"relative w-32 h-40 bg-[#E5E5E5] border-2 border-[#D6D3CC] p-2 cursor-pointer group transition-colors active:border-[#2C2C2C] hover:border-[#2C2C2C]",children:[l.jsxs("div",{className:"w-full h-full bg-[#F0F0F0] overflow-hidden relative",children:[i?l.jsx("img",{src:i,alt:"Avatar",className:"w-full h-full object-cover grayscale-[0.2] group-active:grayscale-0 group-hover:grayscale-0 transition-all"}):l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-[#999]",children:[l.jsx(Oi,{className:"w-8 h-8 mb-1",strokeWidth:1.5}),l.jsx("span",{className:"text-[9px] uppercase tracking-widest",children:""})]}),l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-active:opacity-100 group-hover:opacity-100 transition-opacity",children:l.jsx(xf,{className:"w-8 h-8 text-white"})})]}),l.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 border-t-2 border-l-2 border-[#2C2C2C]"}),l.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 border-t-2 border-r-2 border-[#2C2C2C]"}),l.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 border-b-2 border-l-2 border-[#2C2C2C]"}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 border-b-2 border-r-2 border-[#2C2C2C]"})]}),l.jsx("p",{className:"mt-2 text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider",children:"1. "})]}),l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)]",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:" : "}),l.jsxs("div",{className:"space-y-4 mt-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1",children:" / "}),l.jsx("input",{type:"text",value:r,onChange:$=>a($.target.value),className:"w-full bg-[#EAE8E3] border-b-2 border-[#D6D3CC] px-3 py-2 text-lg font-bold text-[#2C2C2C] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-colors placeholder:text-[#CCC]",placeholder:""})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(Rl,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"text",value:f,onChange:$=>p($.target.value),placeholder:"YYYY-MM-DD",className:"w-full bg-[#EAE8E3] border-b-2 border-[#D6D3CC] px-3 py-2 text-sm font-mono font-medium text-[#4A4A4A] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-colors"})]})]})]}),l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)]",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:" : "}),l.jsxs("div",{className:"mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("label",{className:"text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider flex items-center gap-1",children:[l.jsx(s_,{className:"w-3 h-3"})," "]}),l.jsx("button",{onClick:K,className:"text-[10px] font-bold text-[#2C2C2C] border border-[#2C2C2C] px-2 py-0.5 active:bg-[#2C2C2C] active:text-white hover:bg-[#2C2C2C] hover:text-white transition-colors uppercase",children:"+ "})]}),l.jsx("div",{className:"space-y-2",children:g.length===0?l.jsx("div",{className:"py-4 text-center border border-dashed border-[#D6D3CC] bg-[#F0F0F0]",children:l.jsx("span",{className:"text-[10px] text-[#999] font-mono uppercase",children:""})}):g.map($=>{const W=F.find(Q=>Q.id===$);return W?l.jsxs("div",{className:"bg-white border border-[#E5E5E5] px-3 py-2 flex items-center justify-between group",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(U4,{className:"w-3 h-3 text-[#8C8C89]"}),l.jsx("span",{className:"text-sm font-bold text-[#4A4A4A]",children:W.name})]}),l.jsx("button",{onClick:()=>S($),className:"text-[#D6D3CC] active:text-[#FF3B30] hover:text-[#FF3B30] transition-colors",children:l.jsx(Wt,{className:"w-4 h-4"})})]},$):null})})]})]}),l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 pb-2 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)] h-[300px] flex flex-col",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:" : "}),l.jsxs("div",{className:"flex-1 mt-2 relative",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px)",backgroundSize:"100% 2rem",marginTop:"1.9rem"}}),l.jsx("textarea",{value:h,onChange:$=>x($.target.value),className:"w-full h-full bg-transparent border-none text-sm text-[#4A4A4A] focus:outline-none resize-none leading-[2rem]",placeholder:"...",style:{lineHeight:"2rem"}})]}),l.jsx("div",{className:"text-right border-t border-[#E5E5E5] pt-2 mt-2",children:l.jsxs("span",{className:"text-[10px] font-mono text-[#8C8C89]",children:[": ",h.length]})})]})]})]}),l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-[#F2F0EB]/90 backdrop-blur-md border-t border-[#D6D3CC] z-40 flex gap-3 justify-center",children:[!P&&l.jsx("button",{onClick:()=>k(!0),className:"w-12 h-12 border-2 border-[#FF3B30] text-[#FF3B30] flex items-center justify-center active:bg-[#FF3B30] active:text-white hover:bg-[#FF3B30] hover:text-white transition-colors rounded-[2px]",children:l.jsx(Dr,{className:"w-5 h-5"})}),l.jsxs("button",{onClick:E,className:"flex-1 max-w-[300px] bg-[#2C2C2C] text-[#F2F0EB] h-12 rounded-[2px] font-bold text-sm tracking-wider uppercase active:bg-black hover:bg-black transition-colors shadow-lg flex items-center justify-center gap-2",children:[l.jsx(Li,{className:"w-4 h-4"}),P?"":""]})]}),D&&l.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60] px-4",children:l.jsxs("div",{className:"bg-[#F2F0EB] w-full max-w-[340px] border border-[#D6D3CC] shadow-2xl",children:[l.jsxs("div",{className:"bg-[#2C2C2C] text-[#F2F0EB] px-4 py-3 flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:""}),l.jsx("button",{onClick:()=>M(!1),children:l.jsx(Wt,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"max-h-[50vh] overflow-y-auto p-2",children:F.length===0?l.jsx("div",{className:"p-4 text-center text-xs text-[#8C8C89] font-mono",children:""}):l.jsx("div",{className:"space-y-1",children:F.map($=>l.jsxs("button",{onClick:()=>U($.id),className:`w-full px-4 py-3 text-left text-sm font-bold border transition-all flex justify-between items-center ${w.includes($.id)?"bg-white border-[#2C2C2C] text-[#2C2C2C]":"bg-[#F9F9F7] border-transparent text-[#8C8C89] active:border-[#D6D3CC] hover:border-[#D6D3CC]"}`,children:[$.name,w.includes($.id)&&l.jsx(Hn,{className:"w-4 h-4"})]},$.id))})}),l.jsxs("div",{className:"p-3 border-t border-[#D6D3CC] flex gap-2",children:[l.jsx("button",{onClick:()=>M(!1),className:"flex-1 py-2 text-xs font-bold text-[#5A5A55] active:bg-[#E5E5E5] hover:bg-[#E5E5E5]",children:""}),l.jsx("button",{onClick:I,className:"flex-1 py-2 bg-[#2C2C2C] text-[#F2F0EB] text-xs font-bold active:bg-black hover:bg-black",children:""})]})]})}),l.jsx(nr,{children:j&&l.jsx(un.div,{initial:{opacity:0,scale:1.5,rotate:-10},animate:{opacity:1,scale:1,rotate:-5},exit:{opacity:0},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[70] pointer-events-none",children:l.jsxs("div",{className:"w-40 h-40 rounded-full border-[6px] border-[#34C759] flex flex-col items-center justify-center text-[#34C759] opacity-90 mix-blend-multiply bg-white/50 backdrop-blur-sm",children:[l.jsx(Hn,{className:"w-12 h-12 mb-1",strokeWidth:4}),l.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:""}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest mt-1",children:new Date().toLocaleDateString()})]})})}),C&&l.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[70] px-4",children:l.jsxs("div",{className:"bg-[#F2F0EB] border-2 border-[#FF3B30] p-6 max-w-xs w-full text-center shadow-2xl",children:[l.jsx("div",{className:"w-12 h-12 bg-[#FF3B30] text-white rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Dr,{className:"w-6 h-6"})}),l.jsx("h3",{className:"text-lg font-black text-[#2C2C2C] uppercase mb-2",children:""}),l.jsx("p",{className:"text-xs font-mono text-[#5A5A55] mb-6",children:""}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>k(!1),className:"flex-1 py-3 border border-[#D6D3CC] font-bold text-xs active:bg-white hover:bg-white",children:""}),l.jsx("button",{onClick:L,className:"flex-1 py-3 bg-[#FF3B30] text-white font-bold text-xs active:bg-[#D32F2F] hover:bg-[#D32F2F]",children:""})]})]})})]})}function rN({onBack:e}){const[n,r]=A.useState(""),[a,i]=A.useState(""),[o,u]=A.useState(""),[d,h]=A.useState(""),[x,f]=A.useState(""),[p,g]=A.useState(""),[v,w]=A.useState(""),[y,C]=A.useState(!1);A.useEffect(()=>{(async()=>{try{const T=await be.get(ue.USER_DATA,"userData");T&&(r(T.name||""),i(T.country||""),u(T.fortress||""),h(T.attendant||""),f(T.date||""),g(T.birthday||""));const D=await be.get(ue.USER_DATA,"user_description");D&&w(D)}catch(T){console.error("Failed to load user data:",T)}})()},[]);const k=async()=>{try{const j={name:n,country:a,fortress:o,attendant:d,date:x,birthday:p};await be.set(ue.USER_DATA,"userData",j),await be.set(ue.USER_DATA,"user_description",v);const T=new CustomEvent("userDataChanged",{detail:j});window.dispatchEvent(T),window.dispatchEvent(new Event("chat-settings-updated")),C(!0),setTimeout(()=>{C(!1),e()},1500)}catch(j){console.error("Failed to save user data:",j)}};return l.jsxs("div",{className:"fixed inset-0 bg-[#F2F0EB] z-50 overflow-hidden flex flex-col font-['Source_Han_Sans_CN_VF',sans-serif]",children:[l.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsxs("div",{className:"px-6 pt-8 pb-4 flex items-center justify-between sticky top-0 z-10 bg-[#F2F0EB]/95 backdrop-blur-sm border-b border-stone-200",children:[l.jsx("button",{onClick:e,className:"w-10 h-10 bg-[#EAE8E3] border border-[#D6D3CC] rounded-md flex items-center justify-center text-[#5A5A55] transition-colors active:bg-white active:text-[#B93636] hover:bg-white hover:text-[#B93636]",children:l.jsx(Wt,{className:"w-5 h-5",strokeWidth:2})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-[10px] font-bold text-[#8C8C89] tracking-[0.2em] uppercase",children:"Form 10-24"}),l.jsx("h1",{className:"text-base font-bold text-[#2C2C2C] tracking-wide",children:""})]}),l.jsx("div",{className:"w-10"})," "]}),l.jsxs("div",{className:"flex-1 px-5 pb-28 overflow-y-auto",children:[l.jsxs("div",{className:"mt-6 mb-8 text-center",children:[l.jsx("div",{className:"inline-block border-b-2 border-[#2C2C2C] pb-1 mb-2",children:l.jsxs("h2",{className:"text-xl font-black text-[#2C2C2C] uppercase tracking-tighter flex items-center gap-2",children:[l.jsx(vf,{className:"w-5 h-5"}),""]})}),l.jsx("p",{className:"text-[10px] font-mono text-[#8C8C89] uppercase tracking-widest",children:""})]}),l.jsxs("div",{className:"space-y-6 max-w-[420px] mx-auto",children:[l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)]",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:""}),l.jsxs("div",{className:"space-y-4 mt-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1",children:""}),l.jsx("input",{type:"text",value:n,onChange:j=>r(j.target.value),className:"w-full bg-[#EAE8E3] border-b-2 border-[#D6D3CC] px-3 py-2 text-lg font-bold text-[#2C2C2C] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-colors placeholder:text-[#CCC]",placeholder:""})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(f_,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"text",value:o,onChange:j=>u(j.target.value),className:"w-full bg-[#EAE8E3] border-b-2 border-[#D6D3CC] px-3 py-2 text-sm font-medium text-[#4A4A4A] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-colors"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(T_,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"text",value:a,onChange:j=>i(j.target.value),className:"w-full bg-[#EAE8E3] border-b-2 border-[#D6D3CC] px-3 py-2 text-sm font-medium text-[#4A4A4A] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-colors"})]})]})]})]}),l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)]",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:""}),l.jsxs("div",{className:"mt-2 space-y-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#B93636] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(F4,{className:"w-3 h-3",fill:"currentColor"})," "]}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",value:d,onChange:j=>h(j.target.value),className:"w-full bg-[#FFF5F5] border-b-2 border-[#EFCACA] px-3 py-2 text-sm font-bold text-[#B93636] focus:outline-none focus:border-[#B93636] focus:bg-white transition-colors",placeholder:""})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(Rl,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"date",value:x,onChange:j=>f(j.target.value),className:"w-full bg-[#EAE8E3] border-b-2 border-[#D6D3CC] px-2 py-2 text-xs font-mono font-medium text-[#4A4A4A] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-colors"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-[10px] font-mono text-[#8C8C89] uppercase tracking-wider mb-1 flex items-center gap-1",children:[l.jsx(P_,{className:"w-3 h-3"})," "]}),l.jsx("input",{type:"text",value:p,onChange:j=>g(j.target.value),placeholder:"MM-DD",className:"w-full bg-[#EAE8E3] border-b-2 border-[#D6D3CC] px-3 py-2 text-xs font-mono font-medium text-[#4A4A4A] focus:outline-none focus:border-[#2C2C2C] focus:bg-white transition-colors"})]})]})]})]}),l.jsxs("div",{className:"bg-[#F9F9F7] border border-[#D6D3CC] p-5 pb-2 relative shadow-[2px_2px_0px_rgba(0,0,0,0.05)] h-[240px] flex flex-col",children:[l.jsx("div",{className:"absolute -top-2.5 left-4 bg-[#2C2C2C] text-white px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider",children:""}),l.jsxs("div",{className:"flex-1 mt-2 relative",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px)",backgroundSize:"100% 2rem",marginTop:"1.9rem"}}),l.jsx("textarea",{value:v,onChange:j=>w(j.target.value),className:"w-full h-full bg-transparent border-none text-sm text-[#4A4A4A] focus:outline-none resize-none leading-[2rem]",placeholder:"...",style:{lineHeight:"2rem"}})]}),l.jsx("div",{className:"text-right border-t border-[#E5E5E5] pt-2 mt-2",children:l.jsxs("span",{className:"text-[10px] font-mono text-[#8C8C89]",children:[": ",v.length]})})]})]})]}),l.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-[#F2F0EB]/90 backdrop-blur-md border-t border-[#D6D3CC] z-40",children:l.jsxs("div",{className:"max-w-[420px] mx-auto flex gap-4 items-center justify-between",children:[l.jsx("div",{className:"text-[10px] font-mono text-[#8C8C89] max-w-[150px]",children:""}),l.jsxs("button",{onClick:k,className:"bg-[#2C2C2C] text-[#F2F0EB] px-8 py-3 rounded-[2px] font-bold text-sm tracking-wider uppercase active:bg-black hover:bg-black transition-colors shadow-lg flex items-center gap-2",children:[l.jsx(Li,{className:"w-4 h-4"}),""]})]})}),l.jsx(nr,{children:y&&l.jsx(un.div,{initial:{opacity:0,scale:1.5,rotate:-10},animate:{opacity:1,scale:1,rotate:-5},exit:{opacity:0},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[60] pointer-events-none",children:l.jsxs("div",{className:"w-40 h-40 rounded-full border-[6px] border-[#34C759] flex flex-col items-center justify-center text-[#34C759] opacity-90 mix-blend-multiply bg-white/50 backdrop-blur-sm",children:[l.jsx(Hn,{className:"w-12 h-12 mb-1",strokeWidth:4}),l.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:""}),l.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest mt-1",children:new Date().toLocaleDateString()})]})})})]})}function sN({onClose:e}){const[n,r]=A.useState("list"),[a,i]=A.useState(null),o=()=>{r("editUser")},u=h=>{i(h),r("editCharacter")},d=()=>{r("list"),i(null)};return l.jsxs(l.Fragment,{children:[n==="list"&&l.jsx(tN,{onClose:e,onEditUser:o,onEditCharacter:u}),n==="editUser"&&l.jsx(rN,{onBack:d}),n==="editCharacter"&&l.jsx(nN,{onBack:d,character:a})]})}function aN(){const e={user:`background: linear-gradient(75deg, rgba(172, 188, 166, 1), rgba(172, 188, 166, 1), rgba(172, 188, 166, 1));
color: #ffffff;
border-radius: 8px;
padding: 0.625rem 0.875rem;
max-width: 70vw;`,character:`background: linear-gradient(-75deg, rgba(245, 245, 245, 1), rgba(245, 245, 245, 1), rgba(245, 245, 245, 1));
color: #333333;
border-radius: 8px;
padding: 0.625rem 0.875rem;
max-width: 70vw;`,userQuote:`background: #9BAD96;
color: rgba(255, 255, 255, 0.8);
border-radius: 4px;
padding: 0.5rem;
margin-bottom: 0.5rem;`,characterQuote:`background: #e8e8e8;
color: #666666;
border-radius: 4px;
padding: 0.5rem;
margin-bottom: 0.5rem;`},[n,r]=A.useState(()=>$e.chatSettings||{userAvatar:null,userNickname:"",contextMessageCount:10,chatBackground:null,enabledWorldBooks:[],timeAwareness:!0,bubbleStyles:e}),[a,i]=A.useState(()=>$e.chatSettings||{userAvatar:null,userNickname:"",contextMessageCount:10,chatBackground:null,enabledWorldBooks:[],timeAwareness:!0,bubbleStyles:e}),[o,u]=A.useState(null),[d,h]=A.useState(null),[x,f]=A.useState(!1),[p,g]=A.useState([]),[v,w]=A.useState(!1),[y,C]=A.useState(!1),[k,j]=A.useState([]),[T,D]=A.useState(""),[M,F]=A.useState(!1),[z,N]=A.useState([]),P=ne=>{const oe={user:ne?.user||e.user,userQuote:ne?.userQuote||e.userQuote,character:ne?.character||e.character,characterQuote:ne?.characterQuote||e.characterQuote};return`/*  */
.user-bubble {
  ${oe.user.split(`
`).join(`
  `)}
}

/*  */
.user-quote {
  ${oe.userQuote.split(`
`).join(`
  `)}
}

/*  */
.character-bubble {
  ${oe.character.split(`
`).join(`
  `)}
}

/*  */
.character-quote {
  ${oe.characterQuote.split(`
`).join(`
  `)}
}`},H=ne=>{const oe={...e},me=ne.match(/\.user-bubble\s*\{([^}]*)\}/),je=ne.match(/\.user-quote\s*\{([^}]*)\}/),Pe=ne.match(/\.character-bubble\s*\{([^}]*)\}/),Ue=ne.match(/\.character-quote\s*\{([^}]*)\}/);return me&&(oe.user=me[1].trim().replace(/\s+/g," ").replace(/; /g,`;
`)),je&&(oe.userQuote=je[1].trim().replace(/\s+/g," ").replace(/; /g,`;
`)),Pe&&(oe.character=Pe[1].trim().replace(/\s+/g," ").replace(/; /g,`;
`)),Ue&&(oe.characterQuote=Ue[1].trim().replace(/\s+/g," ").replace(/; /g,`;
`)),oe};A.useEffect(()=>{Z(),E(),L()},[]),A.useEffect(()=>{(async()=>{if(a.userAvatar)if(a.userAvatar.startsWith("data:"))u(a.userAvatar);else{const oe=await dt(a.userAvatar);u(oe)}else u(null);if(a.chatBackground)if(a.chatBackground.startsWith("data:"))h(a.chatBackground);else{const oe=await dt(a.chatBackground);h(oe)}else h(null)})()},[a.userAvatar,a.chatBackground]);const Z=async()=>{try{const ne=await be.get(ue.CHATS,"chat_settings");if(ne){const oe={...ne,enabledWorldBooks:ne.enabledWorldBooks||[],timeAwareness:ne.timeAwareness!==void 0?ne.timeAwareness:!0,bubbleStyles:ne.bubbleStyles||e};r(oe),i(oe),$e.chatSettings=oe}else{const oe=await be.get(ue.USER_DATA,"userData");if(oe){const me={userAvatar:null,userNickname:oe.name||"",contextMessageCount:10,chatBackground:null,enabledWorldBooks:[],timeAwareness:!0,bubbleStyles:e};r(me),i(me),$e.chatSettings=me}}}catch(ne){console.error("Failed to load chat settings:",ne)}},E=async()=>{try{const ne=await be.get(ue.WORLD_BOOKS,"world_books");if(ne){const oe=ne.filter(me=>me.scope==="local");g(oe)}}catch(ne){console.error("Failed to load world books:",ne)}},L=async()=>{try{const ne=await be.get(ue.BUBBLE_PRESETS,"bubble_presets");ne&&j(ne)}catch(ne){console.error("Failed to load bubble presets:",ne)}},S=async()=>{try{a.userAvatar==="chat-avatar-temp"&&(await F0("chat-avatar-temp","chat-avatar"),a.userAvatar="chat-avatar",await Pa("chat-avatar-temp")),a.chatBackground==="chat-background-temp"&&(await F0("chat-background-temp","chat-background"),a.chatBackground="chat-background",await Pa("chat-background-temp")),r(a),await be.set(ue.CHATS,"chat_settings",a),$e.chatSettings=a,window.dispatchEvent(new Event("chat-settings-updated")),f(!0),setTimeout(()=>f(!1),2e3)}catch(ne){console.error("Failed to save chat settings:",ne)}},K=()=>{const ne=document.createElement("input");ne.type="file",ne.accept="image/*",ne.onchange=async oe=>{const me=oe.target.files?.[0];if(me){w(!0);try{const je=await Wn("chat-avatar-temp",me);i({...a,userAvatar:"chat-avatar-temp"}),u(je)}catch(je){console.error(":",je)}finally{w(!1)}}},ne.click()},U=ne=>{i({...a,userNickname:ne})},I=ne=>{i({...a,contextMessageCount:ne})},$=()=>{const ne=document.createElement("input");ne.type="file",ne.accept="image/*",ne.onchange=async oe=>{const me=oe.target.files?.[0];if(me){w(!0);try{const je=await Wn("chat-background-temp",me);i({...a,chatBackground:"chat-background-temp"}),h(je)}catch(je){console.error(":",je)}finally{w(!1)}}},ne.click()},W=()=>{N([...a.enabledWorldBooks]),F(!0)},Q=ne=>{z.includes(ne)?N(z.filter(oe=>oe!==ne)):N([...z,ne])},O=()=>{i({...a,enabledWorldBooks:[...z]}),F(!1)},B=ne=>{i({...a,enabledWorldBooks:a.enabledWorldBooks.filter(oe=>oe!==ne)})},te=ne=>{const oe={};return ne&&ne.split(";").filter(je=>je.trim()).forEach(je=>{const[Pe,Ue]=je.split(":").map(nt=>nt.trim());if(Pe&&Ue){const nt=Pe.replace(/-([a-z])/g,R=>R[1].toUpperCase());oe[nt]=Ue}}),oe},X=async()=>{if(!T.trim()){alert("");return}const ne={id:Date.now().toString(),name:T.trim(),styles:a.bubbleStyles||e,createdAt:new Date().toISOString()},oe=[...k,ne];j(oe),await be.set(ue.BUBBLE_PRESETS,"bubble_presets",oe),D(""),f(!0),setTimeout(()=>f(!1),1500)},G=ne=>{i({...a,bubbleStyles:ne.styles})},ee=async ne=>{const oe=k.filter(me=>me.id!==ne);j(oe),await be.set(ue.BUBBLE_PRESETS,"bubble_presets",oe)};return l.jsxs("div",{className:"flex-1 overflow-y-auto bg-white flex flex-col",children:[l.jsxs("div",{className:"flex-1 px-5 py-6",children:[l.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[l.jsx("button",{onClick:K,className:"w-24 h-24 rounded-full bg-[#f5f5f5] flex items-center justify-center overflow-hidden active:opacity-70 transition-opacity",children:o?l.jsx("img",{src:o,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(xf,{className:"w-8 h-8 text-[#999]",strokeWidth:2})}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[13px] text-[#999] mt-2",children:""})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333] mb-3",children:""}),l.jsx("input",{type:"text",value:a.userNickname,onChange:ne=>U(ne.target.value),placeholder:"",className:"w-full px-4 py-3 bg-[#f5f5f5] rounded-lg font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333] placeholder:text-[#999] outline-none focus:bg-[#ebebeb] transition-colors"})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333]",children:"AI"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#7B9E7B]",children:a.contextMessageCount})]}),l.jsx("div",{className:"px-1",children:l.jsx("input",{type:"range",min:"1",max:"1000",value:a.contextMessageCount,onChange:ne=>I(parseInt(ne.target.value)),className:"w-full h-2 bg-[#f5f5f5] rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #7B9E7B 0%, #7B9E7B ${(a.contextMessageCount-1)/999*100}%, #f5f5f5 ${(a.contextMessageCount-1)/999*100}%, #f5f5f5 100%)`}})}),l.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#999]",children:"1"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#999]",children:"1000"})]}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[13px] text-[#999] mt-3",children:"AIAI"})]}),l.jsx("div",{className:"mb-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333] mb-1",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[13px] text-[#999]",children:""})]}),l.jsx("button",{onClick:()=>i({...a,timeAwareness:!a.timeAwareness}),className:`w-12 h-7 rounded-full transition-colors flex items-center px-0.5 ${a.timeAwareness?"bg-[#7B9E7B]":"bg-[#d0d0d0]"}`,children:l.jsx("div",{className:`w-6 h-6 bg-white rounded-full transition-transform ${a.timeAwareness?"translate-x-5":"translate-x-0"}`})})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333]",children:""}),p.length>0&&l.jsx("button",{onClick:W,className:"w-8 h-8 bg-[#7B9E7B] rounded-full flex items-center justify-center active:opacity-80 transition-opacity",children:l.jsx(zi,{className:"w-5 h-5 text-white",strokeWidth:2})})]}),p.length===0?l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#999]",children:""}):a.enabledWorldBooks.length===0?l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#999]",children:""}):l.jsx("div",{className:"flex flex-col gap-2",children:a.enabledWorldBooks.map(ne=>{const oe=p.find(me=>me.id===ne);return oe?l.jsxs("div",{className:"bg-[#f5f5f5] rounded-lg px-4 py-3 flex items-center justify-between",children:[l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333]",children:oe.name}),l.jsx("button",{onClick:()=>B(ne),className:"text-[#999] hover:text-[#666] active:text-[#333] transition-colors",children:l.jsx(Wt,{className:"w-5 h-5",strokeWidth:2})})]},ne):null})})]}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("button",{onClick:()=>C(!y),className:"w-full flex items-center justify-between p-4 bg-[#f5f5f5] rounded-lg active:bg-[#ebebeb] transition-colors",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333]",children:""}),l.jsx(kd,{className:`w-5 h-5 text-[#666] transition-transform ${y?"rotate-180":""}`,strokeWidth:2})]}),l.jsx("div",{className:`overflow-y-auto transition-all duration-300 ${y?"max-h-[800px] opacity-100 mt-4":"max-h-0 opacity-0"}`,children:l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#333] mb-3",children:""}),l.jsxs("button",{onClick:$,className:"w-full px-4 py-3 bg-[#f5f5f5] rounded-lg font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333] active:bg-[#ebebeb] transition-colors flex items-center justify-center gap-2",children:[l.jsx(Oi,{className:"w-5 h-5 text-[#666]",strokeWidth:2}),l.jsx("span",{children:a.chatBackground?"":""})]}),d&&l.jsx("div",{className:"mt-3 rounded-lg overflow-hidden",children:l.jsx("img",{src:d,alt:"Background Preview",className:"w-full h-32 object-cover"})})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#333] mb-3",children:"CSS"}),l.jsxs("div",{className:"mb-4 p-3 bg-[#fafafa] rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("input",{type:"text",value:T,onChange:ne=>D(ne.target.value),placeholder:"",className:"flex-1 px-3 py-2 bg-white border border-[#e0e0e0] rounded-lg font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px] text-[#333] placeholder:text-[#999] outline-none focus:border-[#7B9E7B] transition-colors"}),l.jsxs("button",{onClick:X,className:"px-3 py-2 bg-[#7B9E7B] rounded-lg text-white active:opacity-80 transition-opacity flex items-center gap-1.5",children:[l.jsx(Li,{className:"w-4 h-4",strokeWidth:2}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[13px]",children:""})]})]}),k.length>0&&l.jsx("div",{className:"flex flex-col gap-2",children:k.map(ne=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-lg border border-[#e0e0e0]",children:[l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px] text-[#333] flex-1",children:ne.name}),l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("button",{onClick:()=>G(ne),className:"px-2.5 py-1.5 bg-[#7B9E7B] rounded font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[12px] text-white active:opacity-80 transition-opacity",children:""}),l.jsx("button",{onClick:()=>ee(ne.id),className:"p-1.5 bg-[#f0f0f0] rounded text-[#666] active:bg-[#e0e0e0] transition-colors",children:l.jsx(Dr,{className:"w-3.5 h-3.5",strokeWidth:2})})]})]},ne.id))})]}),l.jsx("textarea",{value:P(a.bubbleStyles||e),onChange:ne=>{const oe=H(ne.target.value);i({...a,bubbleStyles:oe})},placeholder:"CSS...",className:"w-full px-3 py-2 bg-[#f5f5f5] rounded-lg font-mono text-[11px] text-[#333] placeholder:text-[#999] outline-none focus:bg-[#ebebeb] transition-colors resize-y min-h-[300px]",style:{whiteSpace:"pre",overflowWrap:"normal",overflowX:"auto"}}),l.jsxs("div",{className:"mt-2 p-3 bg-[#fafafa] rounded-lg space-y-1.5",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[12px] text-[#666]",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#888]",children:".user-bubble.user-quote.character-bubble.character-quote"}),l.jsxs("div",{className:"border-l-2 border-[#ACBCA6] pl-2 space-y-1",children:[l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#888]",children:[" ",l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif]",children:""}),"quote  bubble "]}),l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#888]",children:[" ",l.jsx("code",{className:"bg-white px-1 rounded text-[#ACBCA6]",children:"margin-bottom"})," - "]}),l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#888]",children:[" ",l.jsx("code",{className:"bg-white px-1 rounded text-[#ACBCA6]",children:"margin-top"})," - "]}),l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#888]",children:[" ",l.jsx("code",{className:"bg-white px-1 rounded text-[#ACBCA6]",children:"padding"})," - "]})]})]}),l.jsxs("div",{className:"mt-4 p-3 bg-[#fafafa] rounded-lg",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[12px] text-[#999] mb-3",children:""}),l.jsx("div",{className:"flex justify-start mb-3",children:l.jsxs("div",{style:te((a.bubbleStyles||e).character),children:[l.jsxs("div",{style:te((a.bubbleStyles||e).characterQuote),children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px]",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px]",children:""})]}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px]",children:""})]})}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("div",{style:te((a.bubbleStyles||e).user),children:[l.jsxs("div",{style:te((a.bubbleStyles||e).userQuote),children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px]",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px]",children:""})]}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px]",children:""})]})})]}),l.jsx("button",{onClick:()=>i({...a,bubbleStyles:e}),className:"mt-4 w-full px-4 py-2 bg-white border border-[#d0d0d0] rounded-lg font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#666] active:bg-[#f5f5f5] transition-colors",children:""})]})]})})]})]}),l.jsx("div",{className:"px-5 py-4 bg-white border-t border-[#f0f0f0]",children:l.jsx("button",{onClick:S,className:"w-full py-3 bg-[#7B9E7B] rounded-lg font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[16px] text-white active:opacity-80 transition-opacity flex items-center justify-center",children:""})}),x&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[80] flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-64 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-[#7B9E7B] flex items-center justify-center mb-3",children:l.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[16px] text-[#333]",children:""})]})})}),v&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[80] flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-xl w-64 px-6 py-5 shadow-2xl",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-[#7B9E7B] flex items-center justify-center mb-3",children:l.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"})}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[16px] text-[#333]",children:"..."})]})})}),M&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[360px] shadow-xl max-h-[70vh] overflow-y-auto",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-4",children:""}),p.length===0?l.jsx("div",{className:"py-8 text-center",children:l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#999]",children:""})}):l.jsx("div",{className:"flex flex-col gap-3 mb-6",children:p.map(ne=>l.jsxs("button",{onClick:()=>Q(ne.id),className:"flex items-center gap-3 active:opacity-70 transition-opacity",children:[l.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors flex-shrink-0 ${z.includes(ne.id)?"bg-[#7B9E7B] border-[#7B9E7B]":"bg-white border-[#d0d0d0]"}`,children:z.includes(ne.id)&&l.jsx(Hn,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333] text-left flex-1",children:ne.name})]},ne.id))}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>F(!1),className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors",children:""}),l.jsx("button",{onClick:O,className:"flex-1 py-2.5 rounded-xl bg-[#7B9E7B] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity",children:""})]})]})})]})}function iN({onClose:e,onOpenChat:n}){const[r,a]=A.useState("messages"),[i,o]=A.useState([]),[u,d]=A.useState(!1),[h,x]=A.useState(!1),[f,p]=A.useState([]);A.useEffect(()=>{v(),w(),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const M=F=>{const{type:z,payload:N}=F.data;z==="AI_TASK_COMPLETED"&&(console.log("[ChatList]  AI "),v())};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",M),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",M)}},[]);const g=M=>{if(!M)return"";const F=new Date,z=new Date(M),N=new Date(F);N.setHours(0,0,0,0);const P=new Date(z);P.setHours(0,0,0,0);const H=Math.floor((N.getTime()-P.getTime())/(1e3*60*60*24)),Z=z.getHours().toString().padStart(2,"0"),E=z.getMinutes().toString().padStart(2,"0");if(H===0)return`${Z}:${E}`;if(H===1)return` ${Z}:${E}`;if(H<7)return["","","","","","",""][z.getDay()];if(F.getFullYear()===z.getFullYear()){const U=z.getMonth()+1,I=z.getDate();return`${U}/${I}`}const L=z.getFullYear(),S=z.getMonth()+1,K=z.getDate();return`${L}/${S}/${K}`},v=async()=>{try{const M=await be.get(ue.CHATS,"chat_list");if(M){const F=await Promise.all(M.map(async z=>{const N=`chat_detail_settings_${z.id}`,P=await be.get(ue.CHAT_SETTINGS,N),H=g(z.timestamp);return P?{...z,remark:P.remark||z.remark,isPinned:P.isPinned!==void 0?P.isPinned:z.isPinned,time:H}:{...z,time:H}}));F.sort((z,N)=>{if(z.isPinned&&!N.isPinned)return-1;if(!z.isPinned&&N.isPinned)return 1;const P=z.timestamp||0;return(N.timestamp||0)-P}),o(F)}else o([])}catch(M){console.error("Failed to load chats:",M),o([])}},w=async()=>{try{const M=await be.get(ue.CHARACTERS,"characters");M&&p(M)}catch(M){console.error("Failed to load characters:",M)}},y=()=>{d(!u)},C=()=>{d(!1),console.log("Create group")},k=()=>{d(!1),x(!0)},j=async M=>{x(!1);const F=jd(M.id,M.name);if(F===M.name){const z=`chat_detail_settings_${M.id}`,P=(await be.get(ue.CHAT_SETTINGS,z))?.remark||M.name;n(M.id,P)}else n(M.id,F)},T=M=>{const F=i.find(z=>z.id===M);if(F){const z=jd(M,F.remark||F.name);n(M,z)}},D=()=>{switch(r){case"messages":return"";case"notifications":return"";case"settings":return"";default:return""}};return l.jsxs("div",{className:"fixed inset-0 bg-white z-50 flex flex-col",children:[l.jsx("div",{className:"bg-white",children:l.jsxs("div",{className:"h-16 flex items-center justify-between px-4 relative",children:[l.jsx("button",{onClick:e,className:"p-2 -ml-2 active:opacity-60 transition-opacity",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M15 18l-6-6 6-6"})})}),l.jsx("h1",{className:"absolute left-1/2 -translate-x-1/2 font-semibold text-[18px] text-[#333]",children:D()}),r==="messages"&&l.jsx("button",{onClick:y,className:"p-2 -mr-2 active:opacity-60 transition-opacity relative font-normal",children:l.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#333333",strokeWidth:"2.5",children:[l.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),r!=="messages"&&l.jsx("div",{className:"w-11"})]})}),u&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-[51]",onClick:()=>d(!1)}),l.jsxs("div",{className:"absolute right-4 top-[68px] bg-white rounded-lg shadow-lg z-[52] overflow-hidden",children:[l.jsxs("button",{onClick:C,className:"w-full flex items-center gap-3 px-4 py-3 active:bg-[#f5f5f5] transition-colors",children:[l.jsx(X4,{className:"w-6 h-6 text-[#333]",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333] whitespace-nowrap",children:""})]}),l.jsxs("button",{onClick:k,className:"w-full flex items-center gap-3 px-4 py-3 active:bg-[#f5f5f5] transition-colors",children:[l.jsx(q4,{className:"w-6 h-6 text-[#333]",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333] whitespace-nowrap",children:""})]})]})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl w-64 max-h-96 flex flex-col shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-[#f0f0f0]",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333]",children:""}),l.jsx("button",{onClick:()=>x(!1),className:"p-1 active:bg-[#f5f5f5] rounded-full transition-colors",children:l.jsx(Wt,{className:"w-5 h-5 text-[#666]",strokeWidth:2})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:f.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#999]",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#ccc] mt-1",children:""})]}):f.map(M=>l.jsx("button",{onClick:()=>j(M),className:"w-full flex items-center px-5 py-2.5 active:bg-[#f5f5f5] transition-colors",children:l.jsx("div",{className:"flex-1 text-center",children:l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333]",children:M.name})})},M.id))})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto bg-white",children:[r==="messages"&&l.jsx(l.Fragment,{children:i.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-[#f5f5f5] flex items-center justify-center mb-3",children:l.jsx(P0,{className:"w-9 h-9 text-[#ccc]",strokeWidth:2.5})}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#999]",children:""})]}):l.jsx("div",{className:"bg-white",children:i.map((M,F)=>l.jsxs("div",{children:[l.jsx("button",{onClick:()=>T(M.id),className:`w-full px-4 py-3.5 active:bg-[#f5f5f5] transition-colors flex items-start text-left ${M.isPinned?"bg-[#f9f9f9]":"bg-white"}`,children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[17px] text-[#333] truncate",children:M.remark||M.name}),M.memberCount&&l.jsxs("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#999] flex-shrink-0",children:["(",M.memberCount,")"]})]}),M.time&&l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#999] flex-shrink-0 ml-2",children:M.time})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#999] truncate flex-1 pr-2",children:M.lastSender?`${M.lastSender}${M.lastMessage}`:M.lastMessage}),M.unread!==void 0&&M.unread>0&&l.jsx("span",{className:"min-w-[18px] h-[18px] bg-[#ff4d4f] text-white text-[11px] font-medium flex items-center justify-center rounded-full px-1.5 flex-shrink-0",children:M.unread>99?"99+":M.unread})]})]})}),F<i.length-1&&l.jsx("div",{className:"border-b border-[#f0f0f0]"})]},M.id))})}),r==="notifications"&&l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-[#f5f5f5] flex items-center justify-center mb-3",children:l.jsx(D0,{className:"w-9 h-9 text-[#ccc]",strokeWidth:2.5})}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#999]",children:""})]}),r==="settings"&&l.jsx(aN,{})]}),l.jsxs("div",{className:"h-[64px] bg-white flex items-center justify-around px-4 safe-area-inset-bottom",children:[l.jsxs("button",{onClick:()=>a("messages"),className:"flex flex-col items-center justify-center gap-1 py-1.5 px-6 active:opacity-60 transition-opacity",children:[l.jsx(P0,{className:`w-6 h-6 ${r==="messages"?"text-[#7B9E7B]":"text-[#999]"}`,strokeWidth:2.5}),l.jsx("span",{className:`font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] ${r==="messages"?"text-[#7B9E7B]":"text-[#999]"}`,children:""})]}),l.jsxs("button",{onClick:()=>a("notifications"),className:"flex flex-col items-center justify-center gap-1 py-1.5 px-6 active:opacity-60 transition-opacity",children:[l.jsx(D0,{className:`w-6 h-6 ${r==="notifications"?"text-[#7B9E7B]":"text-[#999]"}`,strokeWidth:2.5}),l.jsx("span",{className:`font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] ${r==="notifications"?"text-[#7B9E7B]":"text-[#999]"}`,children:""})]}),l.jsxs("button",{onClick:()=>a("settings"),className:"flex flex-col items-center justify-center gap-1 py-1.5 px-6 active:opacity-60 transition-opacity",children:[l.jsx(H1,{className:`w-6 h-6 ${r==="settings"?"text-[#7B9E7B]":"text-[#999]"}`,strokeWidth:2.5}),l.jsx("span",{className:`font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] ${r==="settings"?"text-[#7B9E7B]":"text-[#999]"}`,children:""})]})]})]})}function ba(e,n,r){let a=r.initialDeps??[],i;function o(){var u,d,h,x;let f;r.key&&((u=r.debug)!=null&&u.call(r))&&(f=Date.now());const p=e();if(!(p.length!==a.length||p.some((w,y)=>a[y]!==w)))return i;a=p;let v;if(r.key&&((d=r.debug)!=null&&d.call(r))&&(v=Date.now()),i=n(...p),r.key&&((h=r.debug)!=null&&h.call(r))){const w=Math.round((Date.now()-f)*100)/100,y=Math.round((Date.now()-v)*100)/100,C=y/16,k=(j,T)=>{for(j=String(j);j.length<T;)j=" "+j;return j};console.info(`%c ${k(y,5)} /${k(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*C,120))}deg 100% 31%);`,r?.key)}return(x=r?.onChange)==null||x.call(r,i),i}return o.updateDeps=u=>{a=u},o}function V0(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const oN=(e,n)=>Math.abs(e-n)<1.01,lN=(e,n,r)=>{let a;return function(...i){e.clearTimeout(a),a=e.setTimeout(()=>n.apply(this,i),r)}},U0=e=>{const{offsetWidth:n,offsetHeight:r}=e;return{width:n,height:r}},cN=e=>e,uN=e=>{const n=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),a=[];for(let i=n;i<=r;i++)a.push(i);return a},dN=(e,n)=>{const r=e.scrollElement;if(!r)return;const a=e.targetWindow;if(!a)return;const i=u=>{const{width:d,height:h}=u;n({width:Math.round(d),height:Math.round(h)})};if(i(U0(r)),!a.ResizeObserver)return()=>{};const o=new a.ResizeObserver(u=>{const d=()=>{const h=u[0];if(h?.borderBoxSize){const x=h.borderBoxSize[0];if(x){i({width:x.inlineSize,height:x.blockSize});return}}i(U0(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()});return o.observe(r,{box:"border-box"}),()=>{o.unobserve(r)}},H0={passive:!0},W0=typeof window>"u"?!0:"onscrollend"in window,fN=(e,n)=>{const r=e.scrollElement;if(!r)return;const a=e.targetWindow;if(!a)return;let i=0;const o=e.options.useScrollendEvent&&W0?()=>{}:lN(a,()=>{n(i,!1)},e.options.isScrollingResetDelay),u=f=>()=>{const{horizontal:p,isRtl:g}=e.options;i=p?r.scrollLeft*(g&&-1||1):r.scrollTop,o(),n(i,f)},d=u(!0),h=u(!1);h(),r.addEventListener("scroll",d,H0);const x=e.options.useScrollendEvent&&W0;return x&&r.addEventListener("scrollend",h,H0),()=>{r.removeEventListener("scroll",d),x&&r.removeEventListener("scrollend",h)}},hN=(e,n,r)=>{if(n?.borderBoxSize){const a=n.borderBoxSize[0];if(a)return Math.round(a[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},pN=(e,{adjustments:n=0,behavior:r},a)=>{var i,o;const u=e+n;(o=(i=a.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[a.options.horizontal?"left":"top"]:u,behavior:r})};class mN{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const a=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const u=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(u):u()})}));return{disconnect:()=>{var i;(i=a())==null||i.disconnect(),r=null},observe:i=>{var o;return(o=a())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=a())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([a,i])=>{typeof i>"u"&&delete r[a]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:cN,rangeExtractor:uN,onChange:()=>{},measureElement:hN,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var a,i;(i=(a=this.options).onChange)==null||i.call(a,this,r)},this.maybeNotify=ba(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const a=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==a){if(this.cleanup(),!a){this.maybeNotify();return}this.scrollElement=a,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,a)=>{const i=new Map,o=new Map;for(let u=a-1;u>=0;u--){const d=r[u];if(i.has(d.lane))continue;const h=o.get(d.lane);if(h==null||d.end>h.end?o.set(d.lane,d):d.end<h.end&&i.set(d.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((u,d)=>u.end===d.end?u.index-d.index:u.end-d.end)[0]:void 0},this.getMeasurementOptions=ba(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,a,i,o,u)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:a,scrollMargin:i,getItemKey:o,enabled:u}),{key:!1}),this.getMeasurements=ba(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:a,scrollMargin:i,getItemKey:o,enabled:u},d)=>{if(!u)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const h=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const x=this.measurementsCache.slice(0,h);for(let f=h;f<r;f++){const p=o(f),g=this.options.lanes===1?x[f-1]:this.getFurthestMeasurement(x,f),v=g?g.end+this.options.gap:a+i,w=d.get(p),y=typeof w=="number"?w:this.options.estimateSize(f),C=v+y,k=g?g.lane:f%this.options.lanes;x[f]={index:f,start:v,size:y,end:C,key:p,lane:k}}return this.measurementsCache=x,x},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ba(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,a,i,o)=>this.range=r.length>0&&a>0?gN({measurements:r,outerSize:a,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ba(()=>{let r=null,a=null;const i=this.calculateRange();return i&&(r=i.startIndex,a=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,a]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,a]},(r,a,i,o,u)=>o===null||u===null?[]:r({startIndex:o,endIndex:u,overscan:a,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const a=this.options.indexAttribute,i=r.getAttribute(a);return i?parseInt(i,10):(console.warn(`Missing attribute name '${a}={index}' on measured element.`),-1)},this._measureElement=(r,a)=>{const i=this.indexFromElement(r),o=this.measurementsCache[i];if(!o)return;const u=o.key,d=this.elementsCache.get(u);d!==r&&(d&&this.observer.unobserve(d),this.observer.observe(r),this.elementsCache.set(u,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,a,this))},this.resizeItem=(r,a)=>{const i=this.measurementsCache[r];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,u=a-o;u!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,u,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=u,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,a)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((a,i)=>{a.isConnected||(this.observer.unobserve(a),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=ba(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,a)=>{const i=[];for(let o=0,u=r.length;o<u;o++){const d=r[o],h=a[d];i.push(h)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const a=this.getMeasurements();if(a.length!==0)return V0(a[o2(0,a.length-1,i=>V0(a[i]).start,r)])},this.getOffsetForAlignment=(r,a,i=0)=>{const o=this.getSize(),u=this.getScrollOffset();a==="auto"&&(a=r>=u+o?"end":"start"),a==="center"?r+=(i-o)/2:a==="end"&&(r-=o);const d=this.getTotalSize()+this.options.scrollMargin-o;return Math.max(Math.min(d,r),0)},this.getOffsetForIndex=(r,a="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const o=this.getSize(),u=this.getScrollOffset();if(a==="auto")if(i.end>=u+o-this.options.scrollPaddingEnd)a="end";else if(i.start<=u+this.options.scrollPaddingStart)a="start";else return[u,a];const d=a==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(d,a,i.size),a]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:a="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:a="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let o=0;const u=10,d=x=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(r,x);if(!f){console.warn("Failed to get offset for index:",r);return}const[p,g]=f;this._scrollToOffset(p,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const v=this.getScrollOffset(),w=this.getOffsetForIndex(r,g);if(!w){console.warn("Failed to get offset for index:",r);return}oN(w[0],v)||h(g)})},h=x=>{this.targetWindow&&(o++,o<u?this.targetWindow.requestAnimationFrame(()=>d(x)):console.warn(`Failed to scroll to index ${r} after ${u} attempts.`))};d(a)},this.scrollBy=(r,{behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:a})},this.getTotalSize=()=>{var r;const a=this.getMeasurements();let i;if(a.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=a[a.length-1])==null?void 0:r.end)??0;else{const o=Array(this.options.lanes).fill(null);let u=a.length-1;for(;u>=0&&o.some(d=>d===null);){const d=a[u];o[d.lane]===null&&(o[d.lane]=d.end),u--}i=Math.max(...o.filter(d=>d!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:a,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:a},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const o2=(e,n,r,a)=>{for(;e<=n;){const i=(e+n)/2|0,o=r(i);if(o<a)e=i+1;else if(o>a)n=i-1;else return i}return e>0?e-1:0};function gN({measurements:e,outerSize:n,scrollOffset:r,lanes:a}){const i=e.length-1,o=h=>e[h].start;if(e.length<=a)return{startIndex:0,endIndex:i};let u=o2(0,i,o,r),d=u;if(a===1)for(;d<i&&e[d].end<r+n;)d++;else if(a>1){const h=Array(a).fill(0);for(;d<i&&h.some(f=>f<r+n);){const f=e[d];h[f.lane]=f.end,d++}const x=Array(a).fill(r+n);for(;u>=0&&x.some(f=>f>=r);){const f=e[u];x[f.lane]=f.start,u--}u=Math.max(0,u-u%a),d=Math.min(i,d+(a-1-d%a))}return{startIndex:u,endIndex:d}}const $0=typeof document<"u"?A.useLayoutEffect:A.useEffect;function xN(e){const n=A.useReducer(()=>({}),{})[1],r={...e,onChange:(i,o)=>{var u;o?ff.flushSync(n):n(),(u=e.onChange)==null||u.call(e,i,o)}},[a]=A.useState(()=>new mN(r));return a.setOptions(r),$0(()=>a._didMount(),[]),$0(()=>a._willUpdate()),a}function vN(e){return xN({observeElementRect:dN,observeElementOffset:fN,scrollToFn:pN,...e})}function yN({characterId:e,characterName:n,onClose:r,onUpdate:a,onDelete:i}){const[o,u]=A.useState(""),[d,h]=A.useState(!1),[x,f]=A.useState(!0),[p,g]=A.useState(30),[v,w]=A.useState(!1),[y,C]=A.useState(!1);A.useEffect(()=>{k()},[e]);const k=async()=>{try{const H=`chat_detail_settings_${e}`,Z=await be.get(ue.CHAT_SETTINGS,H);Z&&(u(Z.remark||""),h(Z.isPinned||!1),f(Z.enableStickers!==void 0?Z.enableStickers:!0),g(Z.stickerProbability!==void 0?Z.stickerProbability:30))}catch(H){console.error("Failed to load settings:",H)}},j=async(H,Z,E,L)=>{try{const S=`chat_detail_settings_${e}`,K={remark:H,isPinned:Z,enableStickers:E,stickerProbability:L};await be.set(ue.CHAT_SETTINGS,S,K),await T(H,Z),a()}catch(S){console.error("Failed to save settings:",S)}},T=async(H,Z)=>{try{const E=await be.get(ue.CHATS,"chat_list");if(E){const L=E.findIndex(S=>S.id===e);L!==-1&&(E[L].remark=H,E[L].isPinned=Z,await be.set(ue.CHATS,"chat_list",E))}}catch(E){console.error("Failed to update chat list:",E)}},D=H=>{u(H),j(H,d,x,p)},M=()=>{const H=!d;h(H),j(o,H,x,p)},F=()=>{const H=!x;f(H),j(o,d,H,p)},z=H=>{const Z=parseInt(H,10);!isNaN(Z)&&Z>=0&&Z<=100&&(g(Z),j(o,d,x,Z))},N=async()=>{try{const H=`chat_messages_${e}`;await be.delete(ue.CHAT_MESSAGES,H);const Z=await be.get(ue.CHATS,"chat_list");if(Z){const E=Z.findIndex(L=>L.id===e);E!==-1&&(Z[E].lastMessage="",Z[E].lastSender="",await be.set(ue.CHATS,"chat_list",Z))}w(!1),a(),setTimeout(()=>{window.dispatchEvent(new CustomEvent("chat-messages-cleared"))},100),r()}catch(H){console.error("Failed to clear messages:",H)}},P=async()=>{try{const H=`chat_messages_${e}`;await be.delete(ue.CHAT_MESSAGES,H);const Z=`chat_detail_settings_${e}`;await be.delete(ue.CHAT_SETTINGS,Z);const E=await be.get(ue.CHATS,"chat_list");if(E){const L=E.filter(S=>S.id!==e);await be.set(ue.CHATS,"chat_list",L)}C(!1),i?i():r()}catch(H){console.error("Failed to delete chat:",H),C(!1)}};return l.jsxs("div",{className:"fixed inset-0 bg-white z-[70] flex flex-col",children:[l.jsxs("div",{className:"h-16 bg-white flex items-center justify-between px-4",children:[l.jsx("button",{onClick:r,className:"p-2 -ml-2 active:opacity-60 transition-opacity",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M15 18l-6-6 6-6"})})}),l.jsx("h1",{className:"font-semibold text-[18px] text-[#333]",children:""}),l.jsx("div",{className:"w-11"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto bg-white px-5 py-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333] mb-3",children:""}),l.jsx("input",{type:"text",value:o,onChange:H=>D(H.target.value),placeholder:n,className:"w-full px-4 py-3 bg-[#f5f5f5] rounded-lg font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333] placeholder:text-[#999] outline-none focus:bg-[#ebebeb] transition-colors"})]}),l.jsx("div",{className:"mb-8",children:l.jsxs("button",{onClick:M,className:"w-full px-4 py-3 bg-[#f5f5f5] rounded-lg active:bg-[#ebebeb] transition-colors flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(f4,{className:"w-5 h-5 text-[#666]",strokeWidth:2}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333]",children:d?"":""})]}),d&&l.jsx("div",{className:"w-5 h-5 rounded-full bg-[#7B9E7B] flex items-center justify-center",children:l.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})})]})}),l.jsxs("div",{className:"mb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#333] mb-1",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[13px] text-[#999]",children:""})]}),l.jsx("button",{onClick:F,className:`w-12 h-7 rounded-full transition-colors flex items-center px-0.5 ${x?"bg-[#7B9E7B]":"bg-[#d0d0d0]"}`,children:l.jsx("div",{className:`w-6 h-6 bg-white rounded-full transition-transform ${x?"translate-x-5":"translate-x-0"}`})})]}),x&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#666]",children:""}),l.jsxs("span",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-[#7B9E7B]",children:[p,"%"]})]}),l.jsx("div",{className:"px-1",children:l.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:H=>z(H.target.value),className:"w-full h-2 bg-[#f5f5f5] rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, #7B9E7B 0%, #7B9E7B ${p}%, #f5f5f5 ${p}%, #f5f5f5 100%)`}})}),l.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#999]",children:"0%"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#999]",children:"100%"})]}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#999] mt-2",children:""})]})]}),l.jsx("div",{className:"mb-8",children:l.jsxs("button",{onClick:()=>w(!0),className:"w-full px-4 py-3 bg-[#ffe5e5] rounded-lg active:bg-[#ffd0d0] transition-colors flex items-center gap-3",children:[l.jsx(Dr,{className:"w-5 h-5 text-[#ff3b30]",strokeWidth:2}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#ff3b30]",children:""})]})}),l.jsx("div",{className:"mb-8",children:l.jsxs("button",{onClick:()=>C(!0),className:"w-full px-4 py-3 bg-[#ffe5e5] rounded-lg active:bg-[#ffd0d0] transition-colors flex items-center gap-3",children:[l.jsx(Wt,{className:"w-5 h-5 text-[#ff3b30]",strokeWidth:2}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#ff3b30]",children:""})]})})]}),v&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[320px] shadow-xl",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-3",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#666] text-center mb-6",children:""}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors",children:""}),l.jsx("button",{onClick:N,className:"flex-1 py-2.5 rounded-xl bg-[#ff3b30] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity",children:""})]})]})}),y&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[320px] shadow-xl",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-3",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#666] text-center mb-6",children:""}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>C(!1),className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors",children:""}),l.jsx("button",{onClick:P,className:"flex-1 py-2.5 rounded-xl bg-[#ff3b30] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity",children:""})]})]})})]})}const l2=A.memo(({dateString:e})=>l.jsx("div",{className:"flex justify-center mb-3",children:l.jsx("div",{className:"bg-black/20 rounded-full px-2 py-0 flex items-center justify-center",children:l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-white",children:e})})}));l2.displayName="DateSeparator";const c2=async(e,n)=>{try{const r=await wf(e,{maxSizeMB:.2,maxWidthOrHeight:512,useWebWorker:!0}),a=`sticker_${Date.now()}`,i=`meme-${a}`;await Wn(i,new File([r],e.name,{type:r.type}));const o={id:a,imageKey:i,meaning:n,createdAt:new Date().toISOString()},u=await Fs();return u.push(o),await be.set(ue.STICKERS,"stickers",u),o}catch(r){throw console.error("Failed to add sticker:",r),r}},Fs=async()=>{try{return await be.get(ue.STICKERS,"stickers")||[]}catch(e){return console.error("Failed to get stickers:",e),[]}},Cf=async e=>{try{return await dt(e)}catch(n){return console.error("Failed to get sticker image:",n),null}},u2=async e=>{try{const n=await Fs(),r=n.find(i=>i.id===e);if(!r)throw new Error("Sticker not found");r.imageKey&&await Pa(r.imageKey);const a=n.filter(i=>i.id!==e);await be.set(ue.STICKERS,"stickers",a)}catch(n){throw console.error("Failed to delete sticker:",n),n}},bN=async()=>{try{const e=await Fs(),n={};return e.forEach(r=>{n[r.id]=r.meaning}),n}catch(e){return console.error("Failed to get sticker meanings:",e),{}}},d2=async e=>{const n=e.split(`
`).map(a=>a.trim()).filter(a=>a.length>0),r={success:0,failed:0,errors:[]};for(const a of n)try{const i=a.indexOf("-");if(i===-1){r.failed++,r.errors.push(`: "${a}" (: -URL)`);continue}const o=a.substring(0,i).trim(),u=a.substring(i+1).trim();if(!o){r.failed++,r.errors.push(`: "${a}"`);continue}if(!u||!u.startsWith("http://")&&!u.startsWith("https://")){r.failed++,r.errors.push(`URL: "${u}"`);continue}const h={id:`sticker_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,imageUrl:u,meaning:o,createdAt:new Date().toISOString()},x=await Fs();x.push(h),await be.set(ue.STICKERS,"stickers",x),r.success++,await new Promise(f=>setTimeout(f,10))}catch(i){r.failed++,r.errors.push(`"${a.substring(0,30)}...": ${i.message||""}`)}return r},wN=Object.freeze(Object.defineProperty({__proto__:null,addSticker:c2,batchImportStickersFromURL:d2,deleteSticker:u2,getAllStickers:Fs,getStickerImageURL:Cf,getStickerMeaningsForAI:bN},Symbol.toStringTag,{value:"Module"}));function SN({onClose:e,onSelect:n}){const[r,a]=A.useState([]),[i,o]=A.useState({}),[u,d]=A.useState(!1),[h,x]=A.useState(null),[f,p]=A.useState(""),[g,v]=A.useState(null),[w,y]=A.useState(!1),C=A.useRef(null),[k,j]=A.useState({show:!1,message:""}),[T,D]=A.useState(!1),[M,F]=A.useState(""),[z,N]=A.useState(!1),[P,H]=A.useState(null),[Z,E]=A.useState(!1);A.useEffect(()=>{L()},[]);const L=async()=>{try{const O=await Fs();a(O);const B={};for(const te of O)if(te.imageUrl)B[te.id]=te.imageUrl;else if(te.imageKey){const X=await Cf(te.imageKey);X&&(B[te.id]=X)}o(B)}catch(O){console.error("Failed to load stickers:",O)}},S=O=>{const B=O.target.files?.[0];if(B){v(B);const te=new FileReader;te.onload=X=>{x(X.target?.result)},te.readAsDataURL(B),d(!0)}C.current&&(C.current.value="")},K=async()=>{if(!g||!f.trim()){j({show:!0,message:""}),setTimeout(()=>j({show:!1,message:""}),3e3);return}y(!0);try{await c2(g,f.trim()),await L(),U()}catch(O){console.error("Failed to upload sticker:",O),j({show:!0,message:O.message||""}),setTimeout(()=>j({show:!1,message:""}),5e3)}finally{y(!1)}},U=()=>{d(!1),x(null),p(""),v(null)},I=O=>{n(O),e()},$=async(O,B)=>{if(O.stopPropagation(),confirm(""))try{await u2(B),await L()}catch(te){console.error("Failed to delete sticker:",te),j({show:!0,message:te.message||""}),setTimeout(()=>j({show:!1,message:""}),5e3)}},W=async()=>{if(!M.trim()){j({show:!0,message:"URL"}),setTimeout(()=>j({show:!1,message:""}),3e3);return}N(!0),H(null);try{const O=await d2(M.trim());H(O),await L(),O.success===0&&O.failed>0&&(j({show:!0,message:"URL"}),setTimeout(()=>j({show:!1,message:""}),5e3))}catch(O){console.error("Failed to batch import stickers:",O),j({show:!0,message:O.message||""}),setTimeout(()=>j({show:!1,message:""}),5e3)}finally{N(!1)}},Q=()=>{D(!1),F(""),H(null)};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-transparent z-[1050]",onClick:e,children:l.jsxs("div",{className:"absolute bottom-[70px] right-3 w-[320px] h-[300px] bg-white rounded-xl shadow-lg flex flex-col animate-in slide-in-from-bottom-2 fade-in duration-200",onClick:O=>O.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[16px] text-[#333]",children:Z?"":""}),l.jsx("button",{onClick:()=>E(!Z),className:`px-3 py-1.5 rounded-lg transition-colors ${Z?"bg-[#88A588] text-white":"bg-[#f0f0f0] text-[#666] hover:bg-[#e8e8e8]"}`,children:l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[13px]",children:Z?"":""})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:l.jsxs("div",{className:"grid grid-cols-[repeat(auto-fill,80px)] gap-2.5 justify-center",children:[!Z&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>C.current?.click(),className:"w-20 h-20 bg-[#e8e8e8] rounded-lg flex items-center justify-center cursor-pointer hover:bg-[#d8d8d8] active:bg-[#c8c8c8] transition-colors",children:l.jsx(zi,{className:"w-8 h-8 text-[#999]",strokeWidth:2})}),l.jsx("button",{onClick:()=>D(!0),className:"w-20 h-20 bg-[#e8e8e8] rounded-lg flex items-center justify-center cursor-pointer hover:bg-[#d8d8d8] active:bg-[#c8c8c8] transition-colors",children:l.jsx(bf,{className:"w-8 h-8 text-[#999]",strokeWidth:2})})]}),r.map(O=>l.jsxs("div",{className:"relative w-20 h-20 group",children:[l.jsx("button",{onClick:()=>!Z&&I(O.id),className:`w-full h-full bg-[#f9f9f9] rounded-lg p-1 transition-colors ${Z?"cursor-default":"cursor-pointer hover:bg-[#f0f0f0] active:bg-[#e8e8e8]"}`,children:i[O.id]&&l.jsx("img",{src:i[O.id],alt:O.meaning,className:"w-full h-full object-contain"})}),l.jsx("button",{onClick:B=>$(B,O.id),className:`absolute -top-1 -right-1 w-5 h-5 bg-[#ff3b30] rounded-full flex items-center justify-center transition-opacity ${Z?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:l.jsx(Wt,{className:"w-3 h-3 text-white",strokeWidth:3})})]},O.id))]})})]})}),l.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:S}),u&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[320px] shadow-xl",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-4",children:""}),h&&l.jsx("img",{src:h,alt:"preview",className:"w-[100px] h-[100px] object-cover rounded-lg mx-auto mb-4 bg-[#f0f0f0]"}),l.jsx("input",{type:"text",value:f,onChange:O=>p(O.target.value),placeholder:"AI(,:)",className:"w-full px-4 py-3 rounded-xl bg-[#f5f5f5] border-none outline-none font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333] mb-6"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:U,disabled:w,className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors disabled:opacity-50",children:""}),l.jsx("button",{onClick:K,disabled:w,className:"flex-1 py-2.5 rounded-xl bg-[#88A588] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity disabled:opacity-50",children:w?"...":""})]})]})}),T&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[400px] shadow-xl max-h-[80vh] overflow-y-auto",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-3",children:""}),l.jsxs("div",{className:"bg-[#f5f5f5] rounded-xl p-3 mb-4",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[13px] text-[#666] mb-2",children:""}),l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[12px] text-[#999] leading-relaxed",children:["",l.jsx("br",{}),l.jsx("span",{className:"text-[#88A588]",children:"-URL"}),l.jsx("br",{}),l.jsx("br",{}),"",l.jsx("br",{}),"-https://example.com/happy.jpg",l.jsx("br",{}),"-https://example.com/sad.png",l.jsx("br",{}),"-https://example.com/angry.gif"]})]}),l.jsx("textarea",{value:M,onChange:O=>F(O.target.value),placeholder:`-https://example.com/happy.jpg
-https://example.com/sad.png`,className:"w-full px-4 py-3 rounded-xl bg-[#f5f5f5] border-none outline-none font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333] mb-4 h-[150px] resize-y"}),P&&l.jsxs("div",{className:"bg-[#f9f9f9] rounded-xl p-4 mb-4",children:[l.jsxs("div",{className:"flex gap-4 mb-2",children:[l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#88A588]",children:[": ",P.success]}),l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#ff3b30]",children:[": ",P.failed]})]}),P.errors.length>0&&l.jsxs("div",{className:"max-h-[120px] overflow-y-auto",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[13px] text-[#666] mb-1",children:""}),l.jsxs("ul",{className:"space-y-1",children:[P.errors.slice(0,5).map((O,B)=>l.jsxs("li",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[12px] text-[#ff3b30] leading-relaxed",children:[" ",O]},B)),P.errors.length>5&&l.jsxs("li",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[12px] text-[#999]",children:["...  ",P.errors.length-5," "]})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:Q,disabled:z,className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors disabled:opacity-50",children:""}),l.jsx("button",{onClick:W,disabled:z,className:"flex-1 py-2.5 rounded-xl bg-[#88A588] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity disabled:opacity-50",children:z?"...":""})]})]})}),k.show&&l.jsx("div",{className:"fixed top-16 left-1/2 -translate-x-1/2 z-[1300] px-4 w-full max-w-[90vw]",children:l.jsx("div",{className:"bg-[#ff3b30] rounded-[12px] px-5 py-4 shadow-lg max-w-md mx-auto max-h-[60vh] overflow-y-auto",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 flex items-center justify-center mt-0.5",children:l.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-white mb-1",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px] text-white/90 leading-relaxed break-words whitespace-pre-wrap",children:k.message})]})]})})})]})}function kN({onImageSelect:e,onError:n,children:r}){const a=A.useRef(null),i=async u=>{const d=u.target.files?.[0];if(d){if(!d.type.startsWith("image/")){n("");return}if(d.size>10*1024*1024){n("10MB");return}try{const h=await wf(d,{maxWidth:1024,maxHeight:1024,quality:.85}),x=new File([h],d.name,{type:h.type}),f=`chat-image-${Date.now()}`;await Wn(f,x),e(f)}catch(h){console.error("Failed to compress image:",h),n(h.message||"")}finally{a.current&&(a.current.value="")}}},o=()=>{a.current?.click()};return l.jsxs(l.Fragment,{children:[l.jsx("div",{onClick:o,className:"cursor-pointer",children:r}),l.jsx("input",{ref:a,type:"file",accept:"image/*",className:"hidden",onChange:i})]})}async function CN(e,n,r){const a=`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i={taskId:a,chatId:e,type:n,status:"pending",createdAt:Date.now(),updatedAt:Date.now(),payload:r};if(await be.set(ue.AI_TASKS,a,i),console.log(`[TaskQueue]  ${a} (: ${n}, : ${e})`),"serviceWorker"in navigator&&navigator.serviceWorker.controller){const o={apiKey:r.apiKey,baseUrl:r.baseUrl,modelName:r.modelName,temperature:r.temperature,maxTokens:r.maxTokens},u=[{role:"system",content:r.systemPrompt},{role:"user",content:r.userPrompt}];navigator.serviceWorker.controller.postMessage({type:"PROCESS_AI_TASK",payload:{taskId:a,characterId:e,characterName:r.characterName,apiConfig:o,messages:u,pendingImageBase64:r.pendingImageBase64,imageRecognitionPrompt:r.imageRecognitionPrompt}}),console.log(`[TaskQueue]  Service Worker: ${a}`)}else console.warn("[TaskQueue] Service Worker "),window.dispatchEvent(new CustomEvent("ai-task-needs-fallback",{detail:{taskId:a,task:i}}));return a}const _N="modulepreload",NN=function(e){return"/"+e},K0={},jN=function(n,r,a){let i=Promise.resolve();if(r&&r.length>0){let u=function(x){return Promise.all(x.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");i=u(r.map(x=>{if(x=NN(x),x in K0)return;K0[x]=!0;const f=x.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":_N,f||(g.as="script"),g.crossOrigin="",g.href=x,h&&g.setAttribute("nonce",h),document.head.appendChild(g),f)return new Promise((v,w)=>{g.addEventListener("load",v),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${x}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return i.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return n().catch(o)})};var hl={exports:{}},EN=hl.exports,G0;function AN(){return G0||(G0=1,(function(e,n){(function(r,a){e.exports=a()})(EN,function(){return(function(r){function a(o){if(i[o])return i[o].exports;var u=i[o]={i:o,l:!1,exports:{}};return r[o].call(u.exports,u,u.exports,a),u.l=!0,u.exports}var i={};return a.m=r,a.c=i,a.d=function(o,u,d){a.o(o,u)||Object.defineProperty(o,u,{configurable:!1,enumerable:!0,get:d})},a.n=function(o){var u=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(u,"a",u),u},a.o=function(o,u){return Object.prototype.hasOwnProperty.call(o,u)},a.p="",a(a.s=0)})([function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o=i(1),u=(function(d){return d&&d.__esModule?d:{default:d}})(o);a.default=u.default,r.exports=a.default},function(r,a,i){function o(L){return L&&L.__esModule?L:{default:L}}Object.defineProperty(a,"__esModule",{value:!0});var u=i(2),d=o(u),h=i(3),x=o(h),f=i(4),p=o(f),g=i(5),v=o(g),w=i(6),y=o(w),C=i(7),k=o(C),j=i(8),T=o(j),D=i(9),M=o(D),F=i(10),z=o(F),N=i(11),P=o(N),H=i(12),Z=o(H),E={lunarInfo:d.default,solarMonth:x.default,gan:p.default,zhi:v.default,animals:y.default,lunarTerm:k.default,lTermInfo:T.default,nStr1:M.default,nStr2:z.default,nStr3:P.default,nStr4:Z.default,lYearDays:function(L){var S,K=348;for(S=32768;S>8;S>>=1)K+=E.lunarInfo[L-1900]&S?1:0;return K+E.leapDays(L)},leapMonth:function(L){return 15&E.lunarInfo[L-1900]},leapDays:function(L){return E.leapMonth(L)?65536&E.lunarInfo[L-1900]?30:29:0},monthDays:function(L,S){return S>12||S<1?-1:E.lunarInfo[L-1900]&65536>>S?30:29},solarDays:function(L,S){if(S>12||S<1)return-1;var K=S-1;return K==1?L%4==0&&L%100!=0||L%400==0?29:28:E.solarMonth[K]},toGanZhi:function(L){return E.gan[L%10]+E.zhi[L%12]},getTerm:function(L,S){if(L<1900||L>2100||S<1||S>24)return-1;var K=E.lTermInfo[L-1900],U=[parseInt("0x"+K.substr(0,5)).toString(),parseInt("0x"+K.substr(5,5)).toString(),parseInt("0x"+K.substr(10,5)).toString(),parseInt("0x"+K.substr(15,5)).toString(),parseInt("0x"+K.substr(20,5)).toString(),parseInt("0x"+K.substr(25,5)).toString()],I=[U[0].substr(0,1),U[0].substr(1,2),U[0].substr(3,1),U[0].substr(4,2),U[1].substr(0,1),U[1].substr(1,2),U[1].substr(3,1),U[1].substr(4,2),U[2].substr(0,1),U[2].substr(1,2),U[2].substr(3,1),U[2].substr(4,2),U[3].substr(0,1),U[3].substr(1,2),U[3].substr(3,1),U[3].substr(4,2),U[4].substr(0,1),U[4].substr(1,2),U[4].substr(3,1),U[4].substr(4,2),U[5].substr(0,1),U[5].substr(1,2),U[5].substr(3,1),U[5].substr(4,2)];return parseInt(I[S-1])},toChinaYear:function(L){var S=parseInt(L/1e3),K=parseInt(L%1e3/100),U=parseInt(L%100/10),I=L%10;return E.nStr4[S]+E.nStr4[K]+E.nStr4[U]+E.nStr4[I]+""},toChinaMonth:function(L){if(L>12||L<1)return-1;var S=E.nStr3[L-1];return S+=""},toChinaDay:function(L){var S;switch(L){case 10:S="";break;case 20:S="";break;case 30:S="";break;default:S=E.nStr2[Math.floor(L/10)],S+=E.nStr1[L%10]}return S},getAnimal:function(L){return E.animals[(L-4)%12]},solar2lunar:function(W,Q,O){if(W<1900||W>2100||W==1900&&Q==1&&O<31)return-1;if(W)var U=new Date(W,parseInt(Q)-1,O);else var U=new Date;var I,oe=0,$=0,W=U.getFullYear(),Q=U.getMonth()+1,O=U.getDate(),B=(Date.UTC(U.getFullYear(),U.getMonth(),U.getDate())-Date.UTC(1900,0,31))/864e5;for(I=1900;I<2101&&B>0;I++)$=E.lYearDays(I),B-=$;B<0&&(B+=$,I--);var te=new Date,X=!1;te.getFullYear()==W&&te.getMonth()+1==Q&&te.getDate()==O&&(X=!0);var G=U.getDay(),ee=E.nStr1[G];G==0&&(G=7);var ne=I,oe=E.leapMonth(I),me=!1;for(I=1;I<13&&B>0;I++)oe>0&&I==oe+1&&me==0?(--I,me=!0,$=E.leapDays(ne)):$=E.monthDays(ne,I),me==1&&I==oe+1&&(me=!1),B-=$;B==0&&oe>0&&I==oe+1&&(me?me=!1:(me=!0,--I)),B<0&&(B+=$,--I);var je=I,Pe=B+1,Ue=Q-1,nt=E.getTerm(W,3),R=E.toGanZhi(W-4),fe=new Date(W,1,nt).getTime();new Date(W,Ue,O).getTime()<fe&&(R=E.toGanZhi(W-5));var ce=E.getTerm(W,2*Q-1),Y=E.getTerm(W,2*Q),q=E.toGanZhi(12*(W-1900)+Q+11);O>=ce&&(q=E.toGanZhi(12*(W-1900)+Q+12));var se=!1,ve="";ce==O&&(se=!0,ve=E.lunarTerm[2*Q-2]),Y==O&&(se=!0,ve=E.lunarTerm[2*Q-1]);var pe=Date.UTC(W,Ue,1,0,0,0,0)/864e5+25567+10,ie=E.toGanZhi(pe+O-1);return{lYear:ne,lMonth:je,lDay:Pe,animal:E.getAnimal(ne),yearCn:E.toChinaYear(ne),monthCn:(me&&oe===je?"":"")+E.toChinaMonth(je),dayCn:E.toChinaDay(Pe),cYear:W,cMonth:Q,cDay:O,gzYear:R,gzMonth:q,gzDay:ie,isToday:X,isLeap:me,nWeek:G,ncWeek:""+ee,isTerm:se,term:ve}},lunar2solar:function(L,S,K,U){var I=E.leapMonth(L);if(E.leapDays(L),U&&I!=S||L==2100&&S==12&&K>1||L==1900&&S==1&&K<31)return-1;var $=E.monthDays(L,S);if(L<1900||L>2100||K>$)return-1;for(var W=0,Q=1900;Q<L;Q++)W+=E.lYearDays(Q);for(var O=0,B=!1,Q=1;Q<S;Q++)O=E.leapMonth(L),B||O<=Q&&O>0&&(W+=E.leapDays(L),B=!0),W+=E.monthDays(L,Q);U&&(W+=$);var te=Date.UTC(1900,1,30,0,0,0),X=new Date(864e5*(W+K-31)+te),G=X.getUTCFullYear(),ee=X.getUTCMonth()+1,ne=X.getUTCDate();return E.solar2lunar(G,ee,ne)}};a.default=E,r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=[31,28,31,30,31,30,31,31,30,31,30,31],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","","","","","","","",""],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","","","","","","","","","",""],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","","","","","","","","","",""],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","","","","","","","","","","","","","","","","","","","","","",""],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","","","","","","","","",""],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","",""],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","","","","","","","","","",""],r.exports=a.default},function(r,a,i){Object.defineProperty(a,"__esModule",{value:!0}),a.default=["","","","","","","","","","",""],r.exports=a.default}])})})(hl)),hl.exports}var TN=AN();const DN=jl(TN);async function PN(e){const{characterId:n,character:r,userNickname:a,allMessages:i}=e;try{const o=await MN(),u=await IN(n),d=await RN(),h=await FN(n),x=await ON(u.enabledWorldBooks,h.worldBooks),f=await zN(d,r),p=await LN(u.enableStickers,u.stickerProbability),{chatHistory:g,hasUnclaimedUserRedPacket:v}=await BN(i,u.contextMessageCount,a,r.name,p.stickerMeanings,u.timeAwareness);return{systemPrompt:VN({character:r,userData:d,userNickname:a,worldBooks:x,timeInfo:f,chatHistory:g,stickerInfo:p,chatSettings:u,hasUnclaimedUserRedPacket:v}),userPrompt:"",apiConfig:o,characterName:r.name}}catch(o){throw console.error("[PrivateChatPromptBuilder]  prompt :",o),o}}async function MN(){const e=await be.get(ue.API_SETTINGS,"api_configs"),n=parseInt(await be.get(ue.API_SETTINGS,"current_config_index")||"0");if(!e)throw new Error(" API");const a=JSON.parse(e)[n];if(!a||!a.apiKey||!a.baseUrl)throw new Error("API ");return{apiKey:a.apiKey,baseUrl:a.baseUrl,modelName:a.modelName,temperature:a.temperature||.9,maxTokens:a.maxTokens}}async function IN(e){const n=await be.get(ue.CHATS,"chat_settings")||{},r=await be.get(ue.CHAT_SETTINGS,`chat_detail_settings_${e}`)||{};return{contextMessageCount:n.contextMessageCount||10,enabledWorldBooks:n.enabledWorldBooks||[],timeAwareness:n.timeAwareness!==void 0?n.timeAwareness:!0,enableStickers:r.enableStickers!==void 0?r.enableStickers:!0,stickerProbability:r.stickerProbability!==void 0?r.stickerProbability:30}}async function RN(){const e=await be.get(ue.USER_DATA,"userData")||{},n=await be.get(ue.USER_DATA,"user_description")||"";return{name:e.name||"",country:e.country||"",fortress:e.fortress||"",date:e.date||"",birthday:e.birthday||"",description:n}}async function FN(e){return{worldBooks:(await be.get(ue.CHARACTERS,"characters")||[]).find(a=>a.id===e)?.worldBooks||[]}}async function ON(e,n){const r=await be.get(ue.WORLD_BOOKS,"world_books")||[],a=new Set([...e,...n]),i=r.filter(x=>x.scope==="global"),o=r.filter(x=>x.scope==="local"&&a.has(x.id)),u=[...i,...o],d=u.filter(x=>x.position==="before"),h=u.filter(x=>x.position==="after");return{before:d,after:h}}async function zN(e,n){const r=new Date,a=r.getHours(),i=r.getMonth()+1,o=r.getDate(),u=a<6?"":a<12?"":a<18?"":"";let d="",h="",x="";try{const y=DN.solar2lunar(r.getFullYear(),i,o);y.festival&&(h=y.festival),y.Term&&(x=y.Term),d=(j=>{if(!j)return null;const T=["","","","","",""],D=["","","","","",""],M=["","","","","",""],F=["","","","","",""];return T.includes(j)?"":D.includes(j)?"":M.includes(j)?"":F.includes(j)?"":null})(y.Term)||(i>=3&&i<=5?"":i>=6&&i<=8?"":i>=9&&i<=11?"":"")}catch(y){console.error(":",y),d=i>=3&&i<=5?"":i>=6&&i<=8?"":i>=9&&i<=11?"":""}const f=`${i}-${o}`,p={"1-1":"","2-3":"","2-4":"","2-14":"","3-3":"","3-8":"","4-1":"","5-1":"","5-4":"","6-1":"","8-13":"","8-14":"","8-15":"","10-1":"","12-24":"","12-25":"","12-31":""};!h&&p[f]&&(h=p[f]);let g="";if(e.date){const y=Qu(e.date);if(y&&y.month===i&&y.day===o){const C=r.getFullYear()-y.year;C>0?g=`${C}`:C===0&&(g="")}}let v="";if(e.birthday){const y=Qu(e.birthday);y&&y.month===i&&y.day===o&&(v="")}let w="";if(n?.manifestDate){const y=Qu(n.manifestDate);if(y&&y.month===i&&y.day===o){const C=r.getFullYear()-y.year;C>0?w=`${C}`:C===0?w="":w=""}}return{timeOfDay:u,season:d,holiday:h,term:x,anniversary:g,birthday:v,manifestAnniversary:w,currentTime:`${r.getFullYear()}${i.toString().padStart(2,"0")}${o.toString().padStart(2,"0")} ${r.getHours().toString().padStart(2,"0")}:${r.getMinutes().toString().padStart(2,"0")}`}}function Qu(e){try{if(e.includes("-")){const n=e.split("-");if(n.length>=3)return{year:parseInt(n[0]),month:parseInt(n[1]),day:parseInt(n[2])};if(n.length>=2)return{year:new Date().getFullYear(),month:parseInt(n[0]),day:parseInt(n[1])}}if(e.includes("")){const n=e.match(/(\d{4})/),r=e.match(/(\d+)/),a=e.match(/(\d+)/);if(r&&a)return{year:n?parseInt(n[1]):new Date().getFullYear(),month:parseInt(r[1]),day:parseInt(a[1])}}return null}catch(n){return console.error(":",n),null}}async function LN(e,n){if(!e)return{enabled:!1,stickers:[],stickerMeanings:{},stickerList:"",stickerGuidance:""};const{getAllStickers:r,getStickerMeaningsForAI:a}=await jN(async()=>{const{getAllStickers:h,getStickerMeaningsForAI:x}=await Promise.resolve().then(()=>wN);return{getAllStickers:h,getStickerMeaningsForAI:x}},void 0),i=await r(),o=await a(),u=i.length>0?i.map(h=>`- ID: ${h.id} | : ${h.meaning}`).join(`
`):"";let d="";return i.length>0&&(n<=20?d="":n<=40?d="":n<=60?d="":n<=80?d="":d=""),{enabled:!0,stickers:i,stickerMeanings:o,stickerList:u,stickerGuidance:d}}async function BN(e,n,r,a,i,o){const u=e.slice(-n);let d=!1;for(const f of u)if(f.senderId==="user"&&f.redPacket&&!f.redPacket.opened){d=!0;break}if(!o)return{chatHistory:u.map(p=>{if(p.senderId==="system")return null;if(p.isImageRecognition)return`${p.senderId==="user"?r:a}: ${p.text}`;if(p.isPlaceholderImage)return`${p.senderId==="user"?r:a}: [: ${p.text}]`;if(p.stickerId&&i[p.stickerId])return`${p.senderId==="user"?r:a}: [: ${i[p.stickerId]}]`;if(p.imageKey)return`${p.senderId==="user"?r:a}: []`;if(p.redPacket){const g=p.senderId==="user"?r:a;return p.redPacket.opened?`${g}: [-]`:`${g}: []`}return`${p.senderId==="user"?r:a}: ${p.text}`}).filter(p=>p!==null).join(`
`),hasUnclaimedUserRedPacket:d};const h=[];let x=null;return u.forEach((f,p)=>{if(f.senderId==="system")return;const g=f.timestamp instanceof Date?f.timestamp:new Date(f.timestamp),v=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}-${String(g.getDate()).padStart(2,"0")}`;(p===0||x!==v)&&(h.push(`${v}`),x=v);const w=`${String(g.getHours()).padStart(2,"0")}:${String(g.getMinutes()).padStart(2,"0")}`;let y="";const C=f.senderId==="user"?r:a;f.isImageRecognition?y=f.text:f.isPlaceholderImage?y=`[: ${f.text}]`:f.stickerId&&i[f.stickerId]?y=`[: ${i[f.stickerId]}]`:f.imageKey?y="[]":f.redPacket?f.redPacket.opened?y="[-]":y="[]":y=f.text,h.push(`[${w}] ${C}: ${y}`)}),{chatHistory:h.join(`
`),hasUnclaimedUserRedPacket:d}}function VN(e){const{character:n,userData:r,userNickname:a,worldBooks:i,timeInfo:o,chatHistory:u,stickerInfo:d,chatSettings:h,hasUnclaimedUserRedPacket:x}=e,f=i.before.map((C,k)=>`- **${k+1}${C.name}:** ${C.content}`).join(`
`),p=i.after.map((C,k)=>`- **${k+1}${C.name}:** ${C.content}`).join(`
`);let g="";h.timeAwareness&&(g=`- **:** ${o.currentTime} (${o.timeOfDay}, ${o.season})`,o.term&&(g+=`
- **:** ${o.term}`),o.holiday&&(g+=`
- **:** ${o.holiday}`),o.anniversary&&(g+=`
- **:** ${o.anniversary}`),o.birthday&&(g+=`
- **:** ${o.birthday}`),o.manifestAnniversary&&(g+=`
- **:** ${o.manifestAnniversary}`));const v=h.timeAwareness?`** **
1. "" [HH:MM] YYYY-MM-DD
2. "23:15"23:15
3. 

`:"",w=d.enabled&&d.stickers.length>0?`${d.stickerGuidance}
${d.stickerList}
-  "stickerId" ID
- : { "sender": "${n.name}", "stickerId": "sticker_xxxxx" }
- 
- `:"",y=x?`

** ():**
- "[]"
- **"[-]"**
- : { "sender": "system", "content": "" }
- `:"";return`""

**:**
- **:** 
- **:** 

**:**
${f||"- "}

**:**
-  **** 
- 
- """"""""""
- 
-  emoji 
- **** """AI"""""""

**:**
- **:** ${n.name}
- **:** ${n.description||""}${n.manifestDate?`
- **:** ${n.manifestDate}`:""}
${g?`- ${g}`:""}
- ** ():**
  - **:** ${a}
  - **:** ${r.name}
  - **:** ${r.country}
  - **:** ${r.fortress}
  - **:** ${r.date}${r.birthday?`
  - **:** ${r.birthday}`:""}${r.description?`
  - **:** ${r.description}`:""}

** ():**
- **:**  
    1. 

**:**
-  **${n.name}**  
- 1-4
- 
- quote

** ():**
- ****
- ****
- 
-   
    
  -   
  -   
  -   
  
- **** quotecontent"[]"

${v}
**:**
${u||""}

**:**
${p||"- "}

** ():**
${w}

** ():**
- ""
- 
-  "isPlaceholderImage"  "content" 100
- : { "sender": "${n.name}", "content": "", "isPlaceholderImage": true }
- 100
- 
${y}

** ():**
- 
- 
- : { "sender": "${n.name}", "redPacket": { "amount": , "blessing": "" } }
- amount:  500-10000
- blessing: 
- 

** ( JSON):**
{
    "messages": [
        { "sender": "${n.name}", "content": "" },
        {
            "sender": "${n.name}",
            "content": "",
            "quote": {
                "sender": "${a}",
                "content": ""
            }
        },
        {
            "sender": "${n.name}",
            "content": "/",
            "quote": {
                "sender": "${a}",
                "content": "[]"
            }
        },
        { "sender": "${n.name}", "stickerId": "sticker_xxxxx" },
        { "sender": "${n.name}", "content": "100", "isPlaceholderImage": true },
        { "sender": "${n.name}", "redPacket": { "amount": 200, "blessing": "" } }
    ]
}`}async function UN(e,n=1024,r=1024,a=.8){return new Promise((i,o)=>{const u=new FileReader;u.onload=d=>{const h=new Image;h.onload=()=>{let x=h.width,f=h.height;if(x>n||f>r){const w=Math.min(n/x,r/f);x*=w,f*=w}const p=document.createElement("canvas");p.width=x,p.height=f;const g=p.getContext("2d");if(!g){o(new Error(" canvas context"));return}g.drawImage(h,0,0,x,f);const v=p.toDataURL("image/jpeg",a);i(v)},h.onerror=()=>o(new Error("")),h.src=d.target?.result},u.onerror=()=>o(new Error("")),u.readAsDataURL(e)})}async function HN(e,n){try{console.log("[AITaskManager]  AI ...");const r=await PN(e);let a;n&&(console.log("[AITaskManager] ..."),a=await UN(n,1024,1024,.8));const i={apiKey:r.apiConfig.apiKey,baseUrl:r.apiConfig.baseUrl,modelName:r.apiConfig.modelName,temperature:r.apiConfig.temperature,maxTokens:r.apiConfig.maxTokens,systemPrompt:r.systemPrompt,userPrompt:r.userPrompt,pendingImageBase64:a,imageRecognitionPrompt:"100",characterName:r.characterName,userNickname:e.userNickname,displayName:e.displayName},o=await CN(e.characterId,"private_chat_reply",i);return console.log(`[AITaskManager] : ${o}`),o}catch(r){throw console.error("[AITaskManager] :",r),r}}function WN({characterId:e,characterName:n,onClose:r}){const[a,i]=A.useState([]),[o,u]=A.useState(""),[d,h]=A.useState(()=>$e.chatSettings?.userAvatar||null),[x,f]=A.useState(()=>$e.characters?.find(ye=>ye.id===e)?.avatar||null),[p,g]=A.useState(()=>$e.chatSettings?.chatBackground||null),[v,w]=A.useState(null),[y,C]=A.useState(null),[k,j]=A.useState(null),[T,D]=A.useState(()=>$e.chatSettings?.userNickname||$e.userData?.name||""),[M,F]=A.useState(!1),[z,N]=A.useState(()=>$e.chatSettingsDetail?.[e]?.remark||n),[P,H]=A.useState(()=>$e.chatSettings?.bubbleStyles?.user||`background: linear-gradient(75deg, rgba(172, 188, 166, 1), rgba(172, 188, 166, 1), rgba(172, 188, 166, 1));
color: #ffffff;
border-radius: 8px;
padding: 0.625rem 0.875rem;
max-width: 70vw;`),[Z,E]=A.useState(()=>$e.chatSettings?.bubbleStyles?.character||`background: linear-gradient(-75deg, rgba(245, 245, 245, 1), rgba(245, 245, 245, 1), rgba(245, 245, 245, 1));
color: #333333;
border-radius: 8px;
padding: 0.625rem 0.875rem;
max-width: 70vw;`),[L,S]=A.useState(()=>$e.chatSettings?.bubbleStyles?.userQuote||`background: #9BAD96;
color: rgba(255, 255, 255, 0.8);
border-radius: 4px;
padding: 0.5rem;
margin-bottom: 0.5rem;`),[K,U]=A.useState(()=>$e.chatSettings?.bubbleStyles?.characterQuote||`background: #e8e8e8;
color: #666666;
border-radius: 4px;
padding: 0.5rem;
margin-bottom: 0.5rem;`),[I,$]=A.useState([]),[W,Q]=A.useState(null),[O,B]=A.useState(!1);A.useRef(null);const te=A.useRef(null),X=A.useRef(!0),G=A.useRef(!1),ee=A.useRef([]),[ne,oe]=A.useState(!1),[me,je]=A.useState(null),[Pe,Ue]=A.useState({x:0,y:0}),[nt,R]=A.useState(!1),[fe,ce]=A.useState(""),[Y,q]=A.useState(null),se=A.useRef(null),[ve,pe]=A.useState({show:!1,message:""}),[ie,we]=A.useState(!1),[ke,Se]=A.useState(new Set),[Me,qe]=A.useState(!1),[Ve,ut]=A.useState(!1),[rt,it]=A.useState(""),[Nt,Xe]=A.useState(!1),[xt,sn]=A.useState({}),[Mt,sr]=A.useState(0),[Kn,Tn]=A.useState(0),[$t,Sn]=A.useState({}),[vt,It]=A.useState(null),[Dn,pr]=A.useState(null),[ss,dn]=A.useState(!1),[fn,Os]=A.useState(""),[Rr,as]=A.useState(""),[is,Bi]=A.useState(0);A.useEffect(()=>{(async()=>{if(d)if(d.startsWith("data:"))w(d);else{const ye=await dt(d);w(ye)}else w(null);if(x)if(x.startsWith("data:"))C(x);else{const ye=await dt(x);C(ye)}else C(null);if(p)if(p.startsWith("data:"))j(p);else{const ye=await dt(p);j(ye)}else j(null)})()},[d,x,p]),A.useEffect(()=>{(async()=>{const ye={},ge=await Fs(),Ye=new Map(ge.map(Ze=>[Ze.id,Ze]));for(const Ze of ee.current)if(Ze.stickerId&&!xt[Ze.stickerId]){const Qe=Ye.get(Ze.stickerId);if(Qe){if(Qe.imageUrl)ye[Ze.stickerId]=Qe.imageUrl;else if(Qe.imageKey){const Be=await Cf(Qe.imageKey);Be&&(ye[Ze.stickerId]=Be)}}}Object.keys(ye).length>0&&sn(Ze=>({...Ze,...ye}))})()},[a]),A.useEffect(()=>{(async()=>{const ye={};for(const ge of ee.current)if(ge.imageKey&&!$t[ge.imageKey]){const Ye=await dt(ge.imageKey);Ye&&(ye[ge.imageKey]=Ye)}Object.keys(ye).length>0&&Sn(ge=>({...ge,...ye}))})()},[a]);const mr=xe=>{const ye=xe.getHours().toString().padStart(2,"0"),ge=xe.getMinutes().toString().padStart(2,"0");return`${ye}:${ge}`},gr=xe=>{const ye={};return xe&&xe.split(";").filter(Ye=>Ye.trim()).forEach(Ye=>{const[Ze,Qe]=Ye.split(":").map(Be=>Be.trim());if(Ze&&Qe){const Be=Ze.replace(/-([a-z])/g,ct=>ct[1].toUpperCase());ye[Be]=Qe}}),ye},zs=(xe,ye)=>xe.getFullYear()===ye.getFullYear()&&xe.getMonth()===ye.getMonth()&&xe.getDate()===ye.getDate(),za=xe=>{const ye=xe.getFullYear(),ge=(xe.getMonth()+1).toString().padStart(2,"0"),Ye=xe.getDate().toString().padStart(2,"0");return`${ye}/${ge}/${Ye}`},os=A.useMemo(()=>{const xe=[],ye=ee.current.filter(ge=>!ge.isImageRecognition);return ye.forEach((ge,Ye)=>{(Ye===0||!zs(ge.timestamp,ye[Ye-1].timestamp))&&xe.push({type:"date",date:za(ge.timestamp),id:`date-${ge.timestamp.getTime()}`});const Qe=ge.senderId==="user"&&ye.slice(Ye+1).some(Be=>Be.senderId==="character");xe.push({type:"message",message:ge,isUserMessageRead:Qe})}),xe},[a,Mt]),ls=vN({count:os.length,getScrollElement:()=>te.current,estimateSize:xe=>{const ye=os[xe];if(ye?.type==="date")return 30;if(ye?.type==="message"){const ge=ye.message;return ge.imageKey||ge.stickerId?280:80}return 80},overscan:10});A.useEffect(()=>{ee.current.length>0&&!G.current&&(Vi(),ee.current.some(ye=>ye.senderId==="character"&&!ye.isRead)?(G.current=!0,ee.current=ee.current.map(ye=>ye.senderId==="character"?{...ye,isRead:!0}:ye),Yt(ee.current),i([...ee.current])):G.current=!0)},[ee.current.length]),A.useLayoutEffect(()=>{os.length!==0&&(X.current?requestAnimationFrame(()=>{ls.getTotalSize()>0&&te.current&&(te.current.scrollTop=te.current.scrollHeight,X.current=!1)}):requestAnimationFrame(()=>{te.current&&(te.current.scrollTop=te.current.scrollHeight)}))},[os.length]),A.useEffect(()=>{X.current=!0,G.current=!1;const xe=async()=>{try{const Qe=$e.messages[e];if(Qe&&Qe.length>0&&(ee.current=Qe,i([...Qe])),$e.chatSettings){const De=$e.chatSettings;De.userAvatar!==void 0&&h(De.userAvatar),De.chatBackground!==void 0&&g(De.chatBackground),De.userNickname!==void 0&&D(De.userNickname),De.bubbleStyles?.user&&H(De.bubbleStyles.user),De.bubbleStyles?.character&&E(De.bubbleStyles.character),De.bubbleStyles?.userQuote&&S(De.bubbleStyles.userQuote),De.bubbleStyles?.characterQuote&&U(De.bubbleStyles.characterQuote)}const Be=$e.chatSettingsDetail[e];if(Be&&Be.remark!==void 0&&N(Be.remark),$e.userData&&!$e.chatSettings?.userNickname&&D($e.userData.name||""),$e.characters){const De=$e.characters.find(Qt=>Qt.id===e);De&&(f(De.avatar),Q(De))}const ct=[be.get(ue.CHAT_MESSAGES,`chat_messages_${e}`),be.get(ue.CHAT_SETTINGS,`chat_detail_settings_${e}`)];S6()?(ct.push(Promise.resolve($e.chatSettings)),ct.push(Promise.resolve($e.userData)),ct.push(Promise.resolve($e.characters))):(ct.push(be.get(ue.CHATS,"chat_settings").then(De=>($e.chatSettings=De,De))),ct.push(be.get(ue.USER_DATA,"userData").then(De=>($e.userData=De,De))),ct.push(be.get(ue.CHARACTERS,"characters").then(De=>($e.characters=De,$e.lastUpdate=Date.now(),De))));const[Tt,ft,st,an,Ks]=await Promise.all(ct),Bt=await be.get(ue.USER_DATA,"balance");Bt!=null&&Bi(Bt);const tt={};if(Tt&&Tt.length>0){const De=Tt.map(Mn=>({...Mn,timestamp:new Date(Mn.timestamp)}));(!Qe||Qe.length!==De.length||De.length>0&&Qe.length>0&&De[De.length-1].id!==Qe[Qe.length-1].id)&&($e.messages[e]=De,ee.current=De,tt.messages=De)}else(!Qe||Qe.length>0)&&(tt.messages=[],$e.messages[e]=[],ee.current=[]);if(st){st.userAvatar!==d&&(tt.userAvatarKey=st.userAvatar),st.chatBackground!==p&&(tt.chatBackgroundKey=st.chatBackground);const De=st.userNickname||"";De!==T&&(tt.userNickname=De),st.bubbleStyles?.user&&H(st.bubbleStyles.user),st.bubbleStyles?.character&&E(st.bubbleStyles.character),st.bubbleStyles?.userQuote&&S(st.bubbleStyles.userQuote),st.bubbleStyles?.characterQuote&&U(st.bubbleStyles.characterQuote)}else if(an){const De=an.name||"";De!==T&&(tt.userNickname=De)}else T!==""&&(tt.userNickname="");if(ft){$e.chatSettingsDetail[e]=ft;const De=ft.remark||"";De&&De!==z&&(tt.displayName=De)}if(Ks){const De=Ks.find(Qt=>Qt.id===e);De&&(De.avatar!==x&&(tt.characterAvatarKey=De.avatar),(!W||De.id!==W?.id||De.name!==W?.name)&&(tt.character=De))}tt.messages!==void 0&&i(tt.messages),tt.userAvatarKey!==void 0&&h(tt.userAvatarKey),tt.chatBackgroundKey!==void 0&&g(tt.chatBackgroundKey),tt.userNickname!==void 0&&D(tt.userNickname),tt.displayName!==void 0&&N(tt.displayName),tt.characterAvatarKey!==void 0&&f(tt.characterAvatarKey),tt.character!==void 0&&Q(tt.character)}catch(Qe){console.error("Failed to load chat data:",Qe)}};xe();const ye=()=>{i([]),ee.current=[],$e.messages[e]=[]},ge=()=>{Nd(),xe()};window.addEventListener("chat-messages-cleared",ye),window.addEventListener("chat-settings-updated",ge);const Ye=Qe=>{const{type:Be,payload:ct}=Qe.data;if(Be==="AI_TASK_COMPLETED"){if(console.log("[PrivateChat]  AI :",ct),ct.characterId===e){const Tt=ct.messages.map(st=>({...st,timestamp:new Date(st.timestamp)}));if(Tt.some(st=>st.senderId==="system"&&st.text.includes("")))for(let st=ee.current.length-1;st>=0;st--){const an=ee.current[st];if(an.senderId==="user"&&an.redPacket&&!an.redPacket.opened){ee.current[st]={...an,redPacket:{...an.redPacket,opened:!0}};break}}ee.current=[...ee.current,...Tt],i([...ee.current]),Yt(ee.current),hn(ee.current),B(!1)}}else Be==="AI_TASK_FAILED"&&(console.error("[PrivateChat] AI :",ct),ct.characterId===e&&(pe({show:!0,message:`AI: ${ct.error}`}),setTimeout(()=>pe({show:!1,message:""}),5e3),B(!1)))},Ze=async Qe=>{const Be=Qe,{taskId:ct,task:Tt}=Be.detail;if(console.log("[PrivateChat] Service Worker :",ct),Tt.chatId===e)try{const{payload:ft}=Tt;let st=[{role:"system",content:ft.systemPrompt},{role:"user",content:ft.userPrompt}];if(ft.pendingImageBase64&&ft.imageRecognitionPrompt){console.log("[] ...");const ot=await fetch(`${ft.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ft.apiKey}`},body:JSON.stringify({model:ft.modelName,messages:[{role:"user",content:[{type:"text",text:ft.imageRecognitionPrompt},{type:"image_url",image_url:{url:ft.pendingImageBase64}}]}],temperature:.7,max_tokens:500})});if(!ot.ok)throw new Error("");const Rt=(await ot.json()).choices?.[0]?.message?.content||"";console.log("[] :",Rt),st=[st[0],{role:"user",content:st[1].content+`

[: ${Rt}]`}]}const an=await fetch(`${ft.baseUrl}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ft.apiKey}`},body:JSON.stringify({model:ft.modelName,messages:st,temperature:ft.temperature,max_tokens:ft.maxTokens})});if(!an.ok)throw new Error(`AI API : ${an.status}`);const Bt=(await an.json()).choices[0]?.message?.content||"";if(!Bt)throw new Error("AI");console.log("[] AI :",Bt);let tt,De=[];try{tt=JSON.parse(Bt),De=tt.messages||[]}catch{console.log("[]  JSON...");try{const St=Bt.match(/```(?:json)?\s*(\{[\s\S]*?\})\s*```/);if(St)tt=JSON.parse(St[1]),De=tt.messages||[];else{const Rt=Bt.indexOf("{");if(Rt===-1)throw new Error(" JSON ");let ds=0,Gs=-1;for(let hs=Rt;hs<Bt.length;hs++)if(Bt[hs]==="{"&&ds++,Bt[hs]==="}"&&ds--,ds===0){Gs=hs+1;break}if(Gs===-1)throw new Error("JSON ");const fs=Bt.substring(Rt,Gs);tt=JSON.parse(fs),De=tt.messages||[]}}catch(St){throw console.error("[] JSON :",St.message),console.error("[] AI :",Bt),new Error(`AI: ${St.message}`)}}if(De.length===0)throw new Error("AI");console.log("[] :",De);const Qt=De.map((ot,St)=>{if(ot.sender==="system")return{id:`${Date.now()}-${St}`,text:ot.content,senderId:"system",senderName:"",timestamp:new Date,isRead:!0};if(ot.isPlaceholderImage){const ds=(ot.content||"").slice(0,100);return{id:`${Date.now()}-${St}`,text:ds,senderId:"character",senderName:z,timestamp:new Date,isPlaceholderImage:!0,isRead:!0}}if(ot.redPacket)return{id:`${Date.now()}-${St}`,text:"[]",senderId:"character",senderName:z,timestamp:new Date,redPacket:{amount:ot.redPacket.amount,blessing:ot.redPacket.blessing,opened:!1},isRead:!0};const Rt={id:`${Date.now()}-${St}`,text:ot.stickerId?"[]":ot.content||"",senderId:"character",senderName:z,timestamp:new Date,isRead:!0};return ot.stickerId&&(Rt.stickerId=ot.stickerId),ot.quote&&(Rt.quote={sender:ot.quote.sender,content:ot.quote.content}),Rt});if(Qt.some(ot=>ot.senderId==="system"&&ot.text.includes("")))for(let ot=ee.current.length-1;ot>=0;ot--){const St=ee.current[ot];if(St.senderId==="user"&&St.redPacket&&!St.redPacket.opened){ee.current[ot]={...St,redPacket:{...St.redPacket,opened:!0}};break}}ee.current=[...ee.current,...Qt],i([...ee.current]),await Yt(ee.current),await hn(ee.current),B(!1)}catch(ft){console.error("[PrivateChat]  AI :",ft),pe({show:!0,message:`AI: ${ft.message}`}),setTimeout(()=>pe({show:!1,message:""}),5e3),B(!1)}};return"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("message",Ye),window.addEventListener("ai-task-needs-fallback",Ze),()=>{window.removeEventListener("chat-messages-cleared",ye),window.removeEventListener("chat-settings-updated",ge),window.removeEventListener("ai-task-needs-fallback",Ze),"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",Ye),se.current&&clearTimeout(se.current),cs.current&&clearTimeout(cs.current)}},[e]);const cs=A.useRef(null),Pn=()=>{cs.current&&clearTimeout(cs.current),cs.current=setTimeout(()=>{sr(xe=>xe+1)},100)},Yt=async xe=>{try{const ye=`chat_messages_${e}`;await be.set(ue.CHAT_MESSAGES,ye,xe),$e.messages[e]=xe}catch(ye){console.error("Failed to save messages:",ye)}},Vi=async()=>{try{const xe=await be.get(ue.CHATS,"chat_list")||[],ye=xe.findIndex(ge=>ge.id===e);ye!==-1&&xe[ye].unread&&(delete xe[ye].unread,await be.set(ue.CHATS,"chat_list",xe))}catch(xe){console.error("Failed to clear unread count:",xe)}},hn=async xe=>{try{let ye=await be.get(ue.CHATS,"chat_list")||[];const ge=ye.findIndex(Tt=>Tt.id===e),Ye=new Date,Ze=`${Ye.getHours().toString().padStart(2,"0")}:${Ye.getMinutes().toString().padStart(2,"0")}`;let Qe="",Be="";if(xe.length>0){const Tt=xe[xe.length-1];Tt.senderId==="character"?Be=z:Be=T,Qe=Tt.text}const ct={id:e,name:n,lastMessage:Qe,lastSender:Be,time:Ze,timestamp:Ye.getTime()};if(ge!==-1){const Tt=ye[ge];ct.isPinned=Tt.isPinned,ct.remark=Tt.remark,ye[ge]=ct}else ye.unshift(ct);await be.set(ue.CHATS,"chat_list",ye)}catch(ye){console.error("Failed to update chat list:",ye)}},La=()=>{if(o.trim()){const xe={id:Date.now().toString(),text:o.trim(),senderId:"user",senderName:T,timestamp:new Date};if(Y){let ye=Y.text;Y.isPlaceholderImage||Y.imageUrl||Y.imageKey?ye="[]":Y.stickerId&&(ye="[]"),xe.quote={sender:Y.senderId==="user"?T:z,content:ye}}ee.current=[...ee.current,xe],i([...ee.current]),Yt(ee.current),hn(ee.current),u(""),q(null)}},Ui=xe=>{xe.key==="Enter"&&!xe.shiftKey&&(xe.preventDefault(),La())},Hi=async xe=>{const ye={id:Date.now().toString(),text:"[]",senderId:"user",senderName:T,timestamp:new Date,stickerId:xe};ee.current=[...ee.current,ye],i([...ee.current]),Yt(ee.current),hn(ee.current),Xe(!1),qe(!1)},Ba=()=>{if(!rt.trim())return;const xe={id:Date.now().toString(),text:rt.trim(),senderId:"user",senderName:T,timestamp:new Date,isPlaceholderImage:!0};ee.current=[...ee.current,xe],i([...ee.current]),Yt(ee.current),hn(ee.current),ut(!1),it("")},[Kt,Ls]=A.useState(null),yt=(xe,ye)=>l.jsxs("div",{className:"w-[240px] overflow-hidden rounded-lg select-none cursor-pointer active:opacity-90 transition-opacity",onClick:async ge=>{if(ge.stopPropagation(),ye.senderId==="character"&&!xe.opened){const Ye=is+xe.amount;Bi(Ye),await be.set(ue.USER_DATA,"balance",Ye);const Ze=ee.current.map(Be=>Be.id===ye.id?{...Be,redPacket:{...Be.redPacket,opened:!0}}:Be),Qe={id:`${Date.now()}-system`,text:`${z}`,senderId:"system",senderName:"",timestamp:new Date,isRead:!0};Ze.push(Qe),ee.current=Ze,i([...Ze]),await Yt(Ze),hn(Ze),Ls({...ye,redPacket:{...xe,opened:!0}})}else Ls(ye)},children:[l.jsxs("div",{className:"bg-[#ea5e4f] p-4 flex items-center gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsxs("div",{className:"w-[36px] h-[52px] bg-[#f4d03f] rounded-[18px] border-2 border-[#e6b333] flex flex-col items-center justify-center gap-[5px] relative",children:[l.jsx("div",{className:"w-[20px] h-[2px] bg-[#dba830] rounded-full opacity-80"}),l.jsx("div",{className:"w-[20px] h-[2px] bg-[#dba830] rounded-full opacity-80"}),l.jsx("div",{className:"w-[20px] h-[2px] bg-[#dba830] rounded-full opacity-80"}),l.jsx("div",{className:"w-[20px] h-[2px] bg-[#dba830] rounded-full opacity-80"}),l.jsx("div",{className:"w-[20px] h-[2px] bg-[#dba830] rounded-full opacity-80"})]})}),l.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center text-white",children:[l.jsx("p",{className:"text-[15px] font-medium leading-snug truncate mb-1",children:xe.blessing}),l.jsx("p",{className:"text-[12px] opacity-85 font-normal",children:xe.opened?"":""})]})]}),l.jsx("div",{className:"bg-white px-4 py-2 border-t border-black/5",children:l.jsx("p",{className:"text-[#999] text-[11px] tracking-wide",children:""})})]}),Ll=async()=>{const xe=parseInt(fn);if(!xe||xe<=0){pe({show:!0,message:""}),setTimeout(()=>pe({show:!1,message:""}),3e3);return}const ye=Rr.trim()||"",ge={id:Date.now().toString(),text:"[]",senderId:"user",senderName:T,timestamp:new Date,redPacket:{amount:xe,blessing:ye,opened:!1}};ee.current=[...ee.current,ge],i([...ee.current]),Yt(ee.current),hn(ee.current),dn(!1),Os(""),as(""),qe(!1)},Va=async xe=>{try{if(!await dt(xe)){pe({show:!0,message:""}),setTimeout(()=>pe({show:!1,message:""}),3e3);return}const ge=xe.replace("_chat_image",""),Ye=await dt(ge);if(Ye){const Be=await(await fetch(Ye)).blob(),ct=new File([Be],`image_${Date.now()}.jpg`,{type:Be.type});It(ct)}const Ze={id:Date.now().toString(),text:"",senderId:"user",senderName:T||"",timestamp:new Date,imageKey:xe};ee.current.push(Ze),i([...ee.current]),await Yt(ee.current),await hn(ee.current),qe(!1)}catch(ye){console.error(":",ye),pe({show:!0,message:""}),setTimeout(()=>pe({show:!1,message:""}),3e3)}},Wi=async()=>{if(!O){B(!0);try{if(o.trim()){const ye={id:Date.now().toString(),text:o.trim(),senderId:"user",senderName:T,timestamp:new Date};if(Y){let ge=Y.text;Y.isPlaceholderImage||Y.imageUrl||Y.imageKey?ge="[]":Y.stickerId&&(ge="[]"),ye.quote={sender:Y.senderId==="user"?T:z,content:ge}}ee.current=[...ee.current,ye],i([...ee.current]),await Yt(ee.current),await hn(ee.current),u(""),q(null)}const xe=await HN({characterId:e,character:W||{id:e,name:n,description:"",manifestDate:void 0},userNickname:T,displayName:z,allMessages:ee.current},vt);console.log("[PrivateChat] AI :",xe),vt&&It(null)}catch(xe){console.error("[PrivateChat] :",xe),pe({show:!0,message:`AI: ${xe.message}`}),setTimeout(()=>pe({show:!1,message:""}),5e3),B(!1)}}},Bs=async()=>{try{let xe=await be.get(ue.CHATS,"chat_list")||[];if(xe.findIndex(ge=>ge.id===e)===-1&&a.length===0){const ge=new Date,Ye=`${ge.getHours().toString().padStart(2,"0")}:${ge.getMinutes().toString().padStart(2,"0")}`,Ze={id:e,name:n,lastMessage:"",lastSender:"",time:Ye,timestamp:ge.getTime()};xe.unshift(Ze),await be.set(ue.CHATS,"chat_list",xe)}r()}catch(xe){console.error("Failed to save chat list:",xe),r()}},Vs=(xe,ye)=>{if(ie){$i(xe.id);return}const ge="touches"in ye?ye.touches[0]:ye;se.current=setTimeout(()=>{je(xe),Ue({x:ge.clientX,y:ge.clientY}),oe(!0)},500)},xr=()=>{se.current&&(clearTimeout(se.current),se.current=null)},Us=()=>{if(me){const xe=me.text;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(xe).then(()=>{console.log("")}).catch(()=>{kn(xe)}):kn(xe),oe(!1),je(null)}},kn=xe=>{const ye=document.createElement("textarea");ye.value=xe,ye.style.position="fixed",ye.style.top="0",ye.style.left="0",ye.style.width="2em",ye.style.height="2em",ye.style.padding="0",ye.style.border="none",ye.style.outline="none",ye.style.boxShadow="none",ye.style.background="transparent",document.body.appendChild(ye),ye.focus(),ye.select();try{document.execCommand("copy")&&console.log("fallback")}catch(ge){console.error(":",ge)}document.body.removeChild(ye)},Bl=()=>{me&&(ee.current=ee.current.filter(xe=>xe.id!==me.id),oe(!1),je(null),setTimeout(()=>{i([...ee.current]),Yt(ee.current),hn(ee.current),requestAnimationFrame(()=>{requestAnimationFrame(()=>{Tn(xe=>xe+1)})})},0))},Cn=()=>{we(!0),oe(!1),je(null)},Vl=()=>{we(!1),Se(new Set)},$i=xe=>{Se(ye=>{const ge=new Set(ye);return ge.has(xe)?ge.delete(xe):ge.add(xe),ge})},Ul=()=>{ke.size!==0&&(ee.current=ee.current.filter(xe=>!ke.has(xe.id)),we(!1),Se(new Set),setTimeout(()=>{i([...ee.current]),Yt(ee.current),hn(ee.current),requestAnimationFrame(()=>{requestAnimationFrame(()=>{Tn(xe=>xe+1)})})},0))},Hs=()=>{me&&(ce(me.text),R(!0),oe(!1))},Ws=()=>{me&&fe.trim()&&(ee.current=ee.current.map(xe=>xe.id===me.id?{...xe,text:fe}:xe),R(!1),je(null),ce(""),setTimeout(()=>{i([...ee.current]),Yt(ee.current),hn(ee.current),requestAnimationFrame(()=>{requestAnimationFrame(()=>{Tn(xe=>xe+1)})})},0))},us=()=>{R(!1),je(null),ce("")},$s=()=>{me&&(q(me),oe(!1),je(null))},Hl=()=>{q(null)},Wl=()=>{F(!1),Nd(),(async()=>{try{const[ye,ge,Ye]=await Promise.all([be.get(ue.CHAT_MESSAGES,`chat_messages_${e}`),be.get(ue.CHATS,"chat_settings"),be.get(ue.CHAT_SETTINGS,`chat_detail_settings_${e}`)]);if(ye&&ye.length>0){const Ze=ye.map(Qe=>({...Qe,timestamp:new Date(Qe.timestamp)}));ee.current=Ze,$e.messages[e]=Ze,i([...Ze])}else i([]),ee.current=[],$e.messages[e]=[];if(ge&&($e.chatSettings=ge,ge.chatBackground&&ge.chatBackground!==p&&g(ge.chatBackground)),Ye){$e.chatSettingsDetail[e]=Ye;const Ze=Ye.remark||n;Ze!==z&&N(Ze)}else n!==z&&N(n)}catch(ye){console.error("Failed to reload data:",ye)}})()};return M?l.jsx(yN,{characterId:e,characterName:n,onClose:Wl,onUpdate:()=>{},onDelete:r}):l.jsxs("div",{className:"fixed inset-0 bg-white z-[60] flex flex-col",children:[l.jsxs("div",{className:"h-16 bg-white flex items-center justify-between px-4",children:[l.jsx("button",{onClick:Bs,className:"p-2 -ml-2 active:opacity-60 transition-opacity",children:l.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx("path",{d:"M15 18l-6-6 6-6"})})}),l.jsx("h1",{className:"font-semibold text-[18px] text-[#333] text-center",children:z}),l.jsx("button",{onClick:()=>F(!0),className:"p-2 -mr-2 active:opacity-60 transition-opacity",children:l.jsx(N_,{className:"w-6 h-6 text-[#333]",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})]}),l.jsx("div",{ref:te,className:"flex-1 overflow-y-auto px-4 py-4",style:{backgroundColor:k?"transparent":"white",backgroundImage:k?`url(${k})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",position:"relative"},children:ee.current.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[14px] text-[#999]",children:""})}):l.jsx("div",{style:{height:`${ls.getTotalSize()}px`,position:"relative"},children:ls.getVirtualItems().map(xe=>{const ye=os[xe.index];if(!ye)return null;if(ye.type==="date")return l.jsx("div",{ref:ls.measureElement,"data-index":xe.index,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${xe.start}px)`},children:l.jsx(l2,{dateString:ye.date})},ye.id);const{message:ge,isUserMessageRead:Ye}=ye;return l.jsx("div",{ref:ls.measureElement,"data-index":xe.index,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${xe.start}px)`},children:l.jsx("div",{className:"pb-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[ie&&l.jsx("div",{className:"w-6 h-6 flex items-center justify-center cursor-pointer flex-shrink-0",onClick:()=>$i(ge.id),children:l.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${ke.has(ge.id)?"bg-[#7B9E7B] border-[#7B9E7B]":"bg-white border-[#ccc]"}`,children:ke.has(ge.id)&&l.jsx(Hn,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})})}),l.jsxs("div",{className:`flex gap-2 items-start flex-1 ${ge.senderId==="user"?"justify-end":"justify-start"}`,children:[ge.senderId==="system"&&l.jsx("div",{className:"w-full flex justify-center py-1",children:l.jsx("div",{className:"bg-black/20 rounded-full px-2 py-0 flex items-center justify-center",children:l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-white",children:ge.text.includes("")?`${z}`:ge.text})})}),ge.senderId==="character"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-9 h-9 rounded-full bg-[#f5f5f5] flex items-center justify-center overflow-hidden flex-shrink-0",children:y?l.jsx("img",{src:y,alt:n,className:"w-full h-full object-cover"}):l.jsx(jr,{className:"w-5 h-5 text-[#999]",strokeWidth:2})}),l.jsx("div",{style:ge.stickerId||ge.isPlaceholderImage||ge.redPacket||ge.imageKey&&(!ge.text||ge.text==="[]")?{}:gr(Z),onTouchStart:Ze=>Vs(ge,Ze),onTouchEnd:xr,onMouseDown:Ze=>Vs(ge,Ze),onMouseUp:xr,onMouseLeave:xr,children:ge.stickerId&&xt[ge.stickerId]?l.jsx("img",{src:xt[ge.stickerId],alt:"",className:"max-w-[150px] max-h-[150px] rounded-lg",onLoad:Pn}):ge.isPlaceholderImage?l.jsx("div",{className:"w-[250px] h-[180px] bg-[#f0f0f0] rounded-lg flex items-center justify-center px-6 py-4",children:l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#666] text-center",children:["[",ge.text,".jpg]"]})}):ge.redPacket?yt(ge.redPacket,ge):l.jsxs(l.Fragment,{children:[ge.quote&&l.jsxs("div",{style:gr(K),children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px]",children:ge.quote.sender}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px] line-clamp-2",children:ge.quote.content})]}),ge.imageKey&&$t[ge.imageKey]&&l.jsx("img",{src:$t[ge.imageKey],alt:"",className:`max-w-[250px] max-h-[250px] rounded-lg ${ge.text&&ge.text!=="[]"?"mb-2":""}`,onLoad:Pn}),ge.text&&ge.text!=="[]"&&l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] break-words",children:ge.text})]})}),l.jsxs("div",{className:"flex flex-col items-start gap-0.5 ml-1 self-end",children:[l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#999]",children:mr(ge.timestamp)}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#999]",children:ge.isRead?"":""})]})]}),ge.senderId==="user"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col items-end gap-0.5 mr-1 self-end",children:[l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#999]",children:mr(ge.timestamp)}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[11px] text-[#999]",children:Ye?"":""})]}),l.jsx("div",{style:ge.stickerId||ge.isPlaceholderImage||ge.redPacket||ge.imageKey&&(!ge.text||ge.text==="[]")?{}:gr(P),onTouchStart:Ze=>Vs(ge,Ze),onTouchEnd:xr,onMouseDown:Ze=>Vs(ge,Ze),onMouseUp:xr,onMouseLeave:xr,children:ge.stickerId&&xt[ge.stickerId]?l.jsx("img",{src:xt[ge.stickerId],alt:"",className:"max-w-[150px] max-h-[150px] rounded-lg",onLoad:Pn}):ge.isPlaceholderImage?l.jsx("div",{className:"w-[250px] h-[180px] bg-[#f0f0f0] rounded-lg flex items-center justify-center px-6 py-4",children:l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#666] text-center",children:["[",ge.text,".jpg]"]})}):ge.redPacket?yt(ge.redPacket,ge):l.jsxs(l.Fragment,{children:[ge.quote&&l.jsxs("div",{style:gr(L),children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px]",children:ge.quote.sender}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px] line-clamp-2",children:ge.quote.content})]}),ge.imageKey&&$t[ge.imageKey]&&l.jsx("img",{src:$t[ge.imageKey],alt:"",className:`max-w-[250px] max-h-[250px] rounded-lg ${ge.text&&ge.text!=="[]"?"mb-2":""}`,onLoad:Pn}),ge.text&&ge.text!=="[]"&&l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] break-words",children:ge.text})]})}),l.jsx("div",{className:"w-9 h-9 rounded-full bg-[#f5f5f5] flex items-center justify-center overflow-hidden flex-shrink-0",children:v?l.jsx("img",{src:v,alt:"User",className:"w-full h-full object-cover"}):l.jsx(jr,{className:"w-5 h-5 text-[#999]",strokeWidth:2})})]})]})]})})},ge.id)})},`virtual-list-${Kn}`)}),ie&&l.jsxs("div",{className:"bg-white border-t border-[#e5e5e5] px-4 py-3 safe-area-inset-bottom flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#666]",children:[" ",ke.size," "]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:Vl,className:"px-4 py-2 rounded-lg font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#666] bg-[#f5f5f5] active:bg-[#e8e8e8] transition-colors",children:""}),l.jsx("button",{onClick:Ul,disabled:ke.size===0,className:`px-4 py-2 rounded-lg font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-white transition-colors ${ke.size===0?"bg-[#ccc] cursor-not-allowed":"bg-red-500 active:opacity-80"}`,children:""})]})]}),!ie&&l.jsxs("div",{className:"bg-white px-3 py-2 safe-area-inset-bottom",children:[Y&&l.jsxs("div",{className:"mb-2 flex items-center justify-between bg-[#f5f5f5] p-2 rounded-lg",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[12px] text-[#666]",children:[" ",Y.senderId==="user"?T:z]}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px] text-[#333] truncate",children:Y.isPlaceholderImage||Y.imageUrl||Y.imageKey?"[]":Y.stickerId?"[]":Y.text})]}),l.jsx("button",{onClick:Hl,className:"ml-2 p-1 active:bg-[#e8e8e8] rounded transition-colors",children:l.jsx(Wt,{className:"w-4 h-4 text-[#666]"})})]}),Dn&&l.jsxs("div",{className:"mb-2 flex items-start gap-2 bg-[#f5f5f5] p-2 rounded-lg",children:[l.jsx("img",{src:Dn,alt:"",className:"w-20 h-20 object-cover rounded-lg"}),l.jsx("button",{onClick:handleCancelPendingImage,className:"ml-auto p-1 active:bg-[#e8e8e8] rounded transition-colors",children:l.jsx(Wt,{className:"w-4 h-4 text-[#666]"})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:Wi,disabled:O,className:`w-10 h-10 flex items-center justify-center transition-opacity flex-shrink-0 ${O?"opacity-40":"active:opacity-60"}`,children:l.jsxs("svg",{className:"w-5 h-5 text-[#333]",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M12 2L15 9L22 12L15 15L12 22L9 15L2 12L9 9Z"}),l.jsx("path",{d:"M20 1L20.7 3.3L23 4L20.7 4.7L20 7L19.3 4.7L17 4L19.3 3.3Z",fill:"currentColor"}),l.jsx("path",{d:"M4 17L4.5 18.5L6 19L4.5 19.5L4 21L3.5 19.5L2 19L3.5 18.5Z",fill:"currentColor"})]})}),l.jsx("div",{className:"flex-1 bg-[#f5f5f5] rounded-lg px-4 py-2 min-h-[40px] max-h-[100px] flex items-center",children:l.jsx("textarea",{value:o,onChange:xe=>u(xe.target.value),onKeyPress:Ui,onFocus:()=>{qe(!1),Xe(!1)},className:"w-full resize-none outline-none font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[15px] text-[#333] placeholder:text-[#999] bg-transparent leading-normal",rows:1,style:{maxHeight:"68px",overflowY:"auto"}})}),o.trim()===""?l.jsx("button",{onClick:()=>qe(!Me),className:"w-10 h-10 flex items-center justify-center active:opacity-60 transition-opacity flex-shrink-0",children:l.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#333333",strokeWidth:"2.5",children:[l.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),l.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}):l.jsx("button",{onClick:La,className:"w-10 h-10 bg-[#7B9E7B] rounded-full flex items-center justify-center active:opacity-80 transition-opacity flex-shrink-0",children:l.jsx(XC,{className:"w-6 h-6 text-white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})]})]}),Me&&l.jsx("div",{className:"absolute bottom-[70px] right-3 bg-white rounded-xl shadow-lg z-[998] p-2",children:l.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[l.jsx("button",{onClick:()=>{Xe(!0),qe(!1)},className:"p-0 bg-transparent border-none cursor-pointer",children:l.jsx("div",{className:"w-[50px] h-[50px] bg-white rounded-lg flex items-center justify-center hover:bg-[#f5f5f5] active:bg-[#e8e8e8] transition-colors",children:l.jsx(T4,{className:"w-[24px] h-[24px] text-[#333]",strokeWidth:2.5})})}),l.jsx(kN,{onImageSelect:Va,onError:xe=>{pe({show:!0,message:xe}),setTimeout(()=>pe({show:!1,message:""}),3e3)},children:l.jsx("button",{className:"p-0 bg-transparent border-none cursor-pointer",children:l.jsx("div",{className:"w-[50px] h-[50px] bg-white rounded-lg flex items-center justify-center hover:bg-[#f5f5f5] active:bg-[#e8e8e8] transition-colors",children:l.jsx(Oi,{className:"w-[24px] h-[24px] text-[#333]",strokeWidth:2.5})})})}),l.jsx("button",{onClick:()=>{qe(!1),ut(!0)},className:"p-0 bg-transparent border-none cursor-pointer",children:l.jsx("div",{className:"w-[50px] h-[50px] bg-white rounded-lg flex items-center justify-center hover:bg-[#f5f5f5] active:bg-[#e8e8e8] transition-colors",children:l.jsx(xf,{className:"w-[24px] h-[24px] text-[#333]",strokeWidth:2.5})})}),l.jsx("button",{onClick:()=>{dn(!0),qe(!1)},className:"p-0 bg-transparent border-none cursor-pointer",children:l.jsx("div",{className:"w-[50px] h-[50px] bg-white rounded-lg flex items-center justify-center hover:bg-[#f5f5f5] active:bg-[#e8e8e8] transition-colors",children:l.jsx("svg",{className:"w-[22px] h-[22px] text-[#333]",viewBox:"80 80 864 864",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",strokeWidth:"20",children:l.jsx("path",{d:"M604.928 416.682667a425.856 425.856 0 0 0 205.952-111.872V170.794667h-597.333333v134.016a425.813333 425.813333 0 0 0 205.952 111.872 106.666667 106.666667 0 0 1 185.429333 0z m8.874667 85.333333a106.709333 106.709333 0 0 1-203.178667 0 509.482667 509.482667 0 0 1-197.12-85.973333v437.418666h597.333333V416a509.525333 509.525333 0 0 1-197.034666 86.016zM170.88 85.504h682.666667a42.666667 42.666667 0 0 1 42.666666 42.666667v768a42.666667 42.666667 0 0 1-42.666666 42.666666h-682.666667a42.666667 42.666667 0 0 1-42.666667-42.666666v-768a42.666667 42.666667 0 0 1 42.666667-42.666667z"})})})})]})}),Nt&&l.jsx(SN,{onClose:()=>Xe(!1),onSelect:Hi}),Ve&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[320px] shadow-xl",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-4",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#666] text-center mb-4",children:""}),l.jsx("input",{type:"text",value:rt,onChange:xe=>it(xe.target.value),placeholder:"",className:"w-full px-4 py-3 rounded-xl bg-[#f5f5f5] border-none outline-none font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333] mb-6",autoFocus:!0,onKeyPress:xe=>{xe.key==="Enter"&&rt.trim()&&Ba()}}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{ut(!1),it("")},className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors disabled:opacity-50",children:""}),l.jsx("button",{onClick:Ba,disabled:!rt.trim(),className:"flex-1 py-2.5 rounded-xl bg-[#7B9E7B] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity disabled:opacity-50",children:""})]})]})}),ss&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[360px] shadow-xl",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-4",children:""}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#666] mb-2 block",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:fn,onChange:xe=>{const ye=xe.target.value;(ye===""||/^\d+$/.test(ye))&&Os(ye)},placeholder:"0",className:"w-full px-4 py-3 pr-16 rounded-xl bg-[#f5f5f5] border-none outline-none font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-[#333] placeholder:text-[#999]",autoFocus:!0}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#999]",children:""})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#666] mb-2 block",children:""}),l.jsx("input",{type:"text",value:Rr,onChange:xe=>as(xe.target.value),placeholder:"",maxLength:20,className:"w-full px-4 py-3 rounded-xl bg-[#f5f5f5] border-none outline-none font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333] placeholder:text-[#999]"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>{dn(!1),Os(""),as("")},className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors",children:""}),l.jsx("button",{onClick:Ll,className:"flex-1 py-2.5 rounded-xl bg-[#ff6b6b] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity",children:""})]})]})}),ne&&l.jsx("div",{className:"fixed inset-0 z-[70]",onClick:()=>{oe(!1),je(null)},children:l.jsxs("div",{className:"absolute bg-white rounded-lg shadow-lg py-1 min-w-[120px]",style:{left:Math.min(Pe.x,window.innerWidth-140),top:Math.min(Pe.y,window.innerHeight-200)},onClick:xe=>xe.stopPropagation(),children:[l.jsxs("button",{onClick:Us,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-[#f5f5f5] transition-colors",children:[l.jsx(w_,{className:"w-4 h-4 text-[#666]"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333]",children:""})]}),l.jsxs("button",{onClick:$s,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-[#f5f5f5] transition-colors",children:[l.jsx(g4,{className:"w-4 h-4 text-[#666]"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333]",children:""})]}),l.jsxs("button",{onClick:Hs,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-[#f5f5f5] transition-colors",children:[l.jsx(u4,{className:"w-4 h-4 text-[#666]"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333]",children:""})]}),l.jsxs("button",{onClick:Cn,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-[#f5f5f5] transition-colors",children:[l.jsx(Hn,{className:"w-4 h-4 text-[#666]"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333]",children:""})]}),l.jsxs("button",{onClick:Bl,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-[#f5f5f5] transition-colors",children:[l.jsx(Dr,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-red-500",children:""})]})]})}),nt&&me&&l.jsx("div",{className:"fixed inset-0 bg-black/40 z-[1200] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-[360px] shadow-xl",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[18px] text-center mb-4",children:""}),l.jsx("textarea",{value:fe,onChange:xe=>ce(xe.target.value),className:"w-full px-4 py-3 rounded-xl bg-[#f5f5f5] border-none outline-none font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[14px] text-[#333] resize-none mb-6 focus:bg-[#ebebeb] transition-colors",rows:4,autoFocus:!0,placeholder:""}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:us,className:"flex-1 py-2.5 rounded-xl bg-[#f0f0f0] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-[#666] hover:bg-[#e8e8e8] active:bg-[#e0e0e0] transition-colors",children:""}),l.jsx("button",{onClick:Ws,className:"flex-1 py-2.5 rounded-xl bg-[#7B9E7B] font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] text-white hover:opacity-90 active:opacity-80 transition-opacity",children:""})]})]})}),ve.show&&l.jsx("div",{className:"fixed top-16 left-1/2 -translate-x-1/2 z-[80] px-4 w-full max-w-[90vw]",children:l.jsx("div",{className:"bg-[#ff3b30] rounded-[12px] px-5 py-4 shadow-lg max-w-md mx-auto max-h-[60vh] overflow-y-auto",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-white/20 flex items-center justify-center mt-0.5",children:l.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-white mb-1",children:""}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Regular',sans-serif] text-[13px] text-white/90 leading-relaxed break-words whitespace-pre-wrap",children:ve.message})]})]})})}),Kt&&Kt.redPacket&&l.jsx("div",{className:"fixed inset-0 z-[1300] flex items-center justify-center animate-in fade-in duration-200",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:()=>Ls(null),children:l.jsxs("div",{className:"bg-[#ea5e4f] w-[320px] rounded-[8px] overflow-hidden relative shadow-2xl transform transition-all scale-100",onClick:xe=>xe.stopPropagation(),children:[l.jsx("button",{onClick:()=>Ls(null),className:"absolute top-3 left-3 z-10 text-white/70 hover:text-white active:opacity-50 transition-colors",children:l.jsx(Wt,{size:20})}),l.jsxs("div",{className:"pt-12 pb-8 px-6 flex flex-col items-center text-white relative",children:[l.jsx("div",{className:"absolute top-[-100px] w-[500px] h-[300px] bg-[#d95345] rounded-[50%] -z-0"}),l.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-[#fcdb9a] bg-white p-0.5 mb-3 z-10 shadow-md",children:l.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-gray-100",children:Kt.senderId==="user"?v?l.jsx("img",{src:v,alt:"User",className:"w-full h-full object-cover"}):l.jsx(jr,{className:"w-full h-full p-3 text-gray-400"}):y?l.jsx("img",{src:y,alt:"Character",className:"w-full h-full object-cover"}):l.jsx(jr,{className:"w-full h-full p-3 text-gray-400"})})}),l.jsxs("h3",{className:"text-[16px] font-medium mb-1 tracking-wide z-10",children:[Kt.senderName,""]}),l.jsx("p",{className:"text-[14px] opacity-80 mb-12 tracking-wide z-10",children:Kt.redPacket.blessing}),l.jsxs("div",{className:"z-10 flex flex-col items-center",children:[l.jsxs("div",{className:"text-[48px] font-bold leading-none tracking-tighter text-[#fcdb9a] mb-3 flex items-baseline gap-1",children:[l.jsx("span",{children:Kt.redPacket.amount.toLocaleString()}),l.jsx("span",{className:"text-[14px] font-normal tracking-normal opacity-80",children:""})]}),l.jsx("div",{className:"text-[12px] text-[#fcdb9a]/80 tracking-wide flex items-center gap-1",children:l.jsx("span",{children:Kt.senderId==="user"?Kt.redPacket.opened?"":"":""})})]})]}),l.jsxs("div",{className:"bg-white px-4 py-4 min-h-[80px]",children:[l.jsx("div",{className:"border-b border-gray-100 pb-2 mb-2",children:l.jsxs("p",{className:"text-[12px] text-gray-400 tracking-wide",children:["1",Kt.redPacket.amount,""]})}),Kt.redPacket.opened||Kt.senderId!=="user"?l.jsxs("div",{className:"flex items-center justify-between py-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-100 overflow-hidden flex-shrink-0",children:Kt.senderId==="user"?y?l.jsx("img",{src:y,alt:"Receiver",className:"w-full h-full object-cover"}):l.jsx(jr,{className:"w-full h-full p-2 text-gray-400"}):v?l.jsx("img",{src:v,alt:"Receiver",className:"w-full h-full object-cover"}):l.jsx(jr,{className:"w-full h-full p-2 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[14px] text-[#333] font-medium leading-tight",children:Kt.senderId==="user"?z:T}),l.jsx("p",{className:"text-[12px] text-gray-400 mt-0.5",children:mr(Kt.timestamp)})]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("p",{className:"text-[14px] text-[#333] font-medium",children:[Kt.redPacket.amount.toLocaleString()," "]})})]}):l.jsx("div",{className:"py-8 text-center text-gray-400 text-[13px]",children:"..."})]})]})})]})}function $N({onClose:e,initialChatId:n}){const[r,a]=A.useState(n?"chat":"list"),[i,o]=A.useState(n||null),[u,d]=A.useState(""),[h,x]=A.useState(0);A.useEffect(()=>{if(n){o(n);const g=jd(n,"");d(g),a("chat")}},[n]);const f=(g,v)=>{o(g),d(v),a("chat")},p=()=>{a("list"),o(null),d(""),x(g=>g+1)};return l.jsxs(l.Fragment,{children:[r==="list"&&l.jsx(iN,{onClose:e,onOpenChat:f},h),r==="chat"&&i&&l.jsx(WN,{characterId:i,characterName:u,onClose:p})]})}function KN({userData:e,preloadedImages:n={},initialChatId:r}){const[a,i]=A.useState(0),[o,u]=A.useState(0),[d,h]=A.useState(!1),[x,f]=A.useState(e),[p,g]=A.useState(!1),[v,w]=A.useState(!1),[y,C]=A.useState(!1),[k,j]=A.useState(!1),[T,D]=A.useState(r||null),[M,F]=A.useState(n.desktop_wallpaper||null),z=A.useRef(0),N=A.useRef(0),P=A.useRef(null);A.useEffect(()=>{r&&(j(!0),D(r))},[r]),A.useEffect(()=>{const G=ee=>{if(ee.data&&ee.data.type==="open-conversation"){const{conversationId:ne}=ee.data;j(!0),D(ne)}};return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",G),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",G)}},[]),A.useEffect(()=>{(async()=>{try{const ne=await be.get(ue.MISC,"desktop_wallpaper");if(ne)if(ne.startsWith("data:"))F(ne);else{const oe=await dt(ne);F(oe)}}catch(ne){console.error("Failed to load wallpaper:",ne)}})();const ee=ne=>{F(ne.detail)};return window.addEventListener("wallpaperChange",ee),()=>{window.removeEventListener("wallpaperChange",ee)}},[]);const H=G=>{f(G)},Z=()=>{g(!0)},E=()=>{g(!1)},L=()=>{w(!0)},S=()=>{w(!1)},K=()=>{C(!0)},U=()=>{C(!1)},I=()=>{j(!0)},$=()=>{j(!1)},W=G=>{h(!0),z.current=G.touches[0].clientX,N.current=G.touches[0].clientX},Q=G=>{if(!d)return;N.current=G.touches[0].clientX;const ee=N.current-z.current,oe=a*-50+ee/window.innerWidth*50;oe<=0&&oe>=-50&&u(oe)},O=()=>{if(!d)return;const G=N.current-z.current,ee=window.innerWidth*.3;G<-ee&&a===0?(i(1),u(-50)):G>ee&&a===1?(i(0),u(0)):u(a*-50),h(!1)},B=G=>{h(!0),z.current=G.clientX,N.current=G.clientX},te=G=>{if(!d)return;N.current=G.clientX;const ee=N.current-z.current,oe=a*-50+ee/window.innerWidth*50;oe<=0&&oe>=-50&&u(oe)},X=()=>{if(!d)return;const G=N.current-z.current,ee=window.innerWidth*.3;G<-ee&&a===0?(i(1),u(-50)):G>ee&&a===1?(i(0),u(0)):u(a*-50),h(!1)};return A.useEffect(()=>{const G=()=>{d&&(h(!1),u(a*-50))};return window.addEventListener("mouseup",G),()=>window.removeEventListener("mouseup",G)},[d,a]),l.jsxs("div",{ref:P,className:"relative w-full h-screen overflow-hidden","data-name":"",onTouchStart:W,onTouchMove:Q,onTouchEnd:O,onMouseDown:B,onMouseMove:te,onMouseUp:X,children:[M?l.jsx("img",{alt:"",className:"absolute inset-0 w-full h-full object-cover pointer-events-none",src:M}):l.jsx("div",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{backgroundColor:"#D5EAE3"}}),l.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full max-w-[414px] max-h-[920px] aspect-[414/920]",children:[l.jsxs("div",{className:"absolute inset-0 flex transition-transform",style:{transform:`translateX(${o}%)`,transitionDuration:d?"0ms":"300ms",width:"200%"},children:[l.jsx("div",{className:"relative w-1/2 h-full flex-shrink-0",children:l.jsx(_6,{userData:x,onUserDataChange:H,onChatClick:I,preloadedImages:n})}),l.jsx("div",{className:"relative w-1/2 h-full flex-shrink-0",children:l.jsx(T6,{preloadedImages:n})})]}),l.jsx(I6,{onSettingsClick:Z,onWorldBookClick:L,onCharacterClick:K,onChatClick:I}),l.jsx(R6,{currentPage:a})]}),p&&l.jsx(Q6,{onClose:E}),v&&l.jsx(eN,{onClose:S}),y&&l.jsx(sN,{onClose:U}),k&&l.jsx($N,{onClose:$,initialChatId:T})]})}function Z0(){const[e,n]=A.useState(null),[r,a]=A.useState(!1),[i,o]=A.useState(!1),[u,d]=A.useState(!1);A.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent);o(f);const p=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");d(p);const g=w=>{w.preventDefault(),n(w),!localStorage.getItem("pwa-install-prompt-closed")&&!p&&a(!0)};window.addEventListener("beforeinstallprompt",g),f&&!p&&(localStorage.getItem("pwa-install-ios-prompt-closed")||a(!0));const v=()=>{a(!1),n(null),localStorage.removeItem("pwa-install-prompt-closed"),localStorage.removeItem("pwa-install-ios-prompt-closed")};return window.addEventListener("appinstalled",v),()=>{window.removeEventListener("beforeinstallprompt",g),window.removeEventListener("appinstalled",v)}},[]);const h=async()=>{if(!e)return;e.prompt();const{outcome:f}=await e.userChoice;console.log(f==="accepted"?"":""),n(null),a(!1)},x=()=>{a(!1),i?localStorage.setItem("pwa-install-ios-prompt-closed","true"):localStorage.setItem("pwa-install-prompt-closed","true")};return u||!r?null:i?l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 shadow-lg z-50 animate-slide-up",children:l.jsx("div",{className:"max-w-[420px] mx-auto p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-black mb-2",children:" Touken OS "}),l.jsxs("div",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[13px] text-[#666] space-y-1",children:[l.jsxs("p",{className:"flex items-center gap-1",children:[" ",l.jsx(k4,{className:"w-4 h-4 inline"})," "]}),l.jsx("p",{children:'""'})]})]}),l.jsx("button",{onClick:x,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(Wt,{className:"w-5 h-5 text-gray-500"})})]})})}):l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 shadow-lg z-50 animate-slide-up",children:l.jsx("div",{className:"max-w-[420px] mx-auto p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[15px] text-black mb-1",children:" Touken OS"}),l.jsx("p",{className:"font-['Source_Han_Sans_CN_VF:Light',sans-serif] text-[13px] text-[#666]",children:""})]}),l.jsxs("button",{onClick:h,className:"bg-black text-white px-4 py-2 rounded-lg font-['Source_Han_Sans_CN_VF:Medium',sans-serif] text-[14px] flex items-center gap-2 hover:bg-gray-800 transition-colors",children:[l.jsx(C_,{className:"w-4 h-4"}),""]}),l.jsx("button",{onClick:x,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:l.jsx(Wt,{className:"w-5 h-5 text-gray-500"})})]})})})}function q0(){return A.useEffect(()=>{(async()=>{try{const n=new Image;n.crossOrigin="anonymous",await new Promise((i,o)=>{n.onload=i,n.onerror=o,n.src=uf});const r=[192,512],a={};for(const i of r){const o=document.createElement("canvas");o.width=i,o.height=i;const u=o.getContext("2d");if(u){u.fillStyle="#ffffff",u.fillRect(0,0,i,i);const d=Math.min(i/n.width,i/n.height)*.9,h=(i-n.width*d)/2,x=(i-n.height*d)/2;u.drawImage(n,h,x,n.width*d,n.height*d);const f=o.toDataURL("image/png");if(a[i]=f,i===192){let p=document.querySelector('link[rel="icon"]');p||(p=document.createElement("link"),p.rel="icon",document.head.appendChild(p)),p.href=f;let g=document.querySelector('link[rel="apple-touch-icon"]');g||(g=document.createElement("link"),g.rel="apple-touch-icon",document.head.appendChild(g)),g.href=f}}}GN(a)}catch(n){console.error("PWA:",n)}})()},[]),null}function GN(e){const n={name:"Touken OS",short_name:"Touken OS",description:"",start_url:window.location.origin+"/",display:"standalone",background_color:"#ffffff",theme_color:"#000000",orientation:"portrait",scope:"/",icons:[{src:e[192]||"/icon-192.png",sizes:"192x192",type:"image/png",purpose:"any"},{src:e[192]||"/icon-192.png",sizes:"192x192",type:"image/png",purpose:"maskable"},{src:e[512]||"/icon-512.png",sizes:"512x512",type:"image/png",purpose:"any"},{src:e[512]||"/icon-512.png",sizes:"512x512",type:"image/png",purpose:"maskable"}],categories:["entertainment","lifestyle"],lang:"zh-CN",dir:"ltr"},r=new Blob([JSON.stringify(n)],{type:"application/json"}),a=URL.createObjectURL(r);let i=document.querySelector('link[rel="manifest"]');i||(i=document.createElement("link"),i.rel="manifest",document.head.appendChild(i)),i.href=a}function ZN(){const[e,n]=A.useState(0),[r,a]=A.useState([]);return A.useEffect(()=>{let d=0;const h=setInterval(()=>{d++;const x=Math.min(100,d/100*100);n(x),x>10&&r.length===0&&a(f=>[...f,">> ..."]),x>30&&r.length===1&&a(f=>[...f,">> ..."]),x>50&&r.length===2&&a(f=>[...f,">> ..."]),x>70&&r.length===3&&a(f=>[...f,">> ..."]),x>90&&r.length===4&&a(f=>[...f,">> Touken OS "]),d>=100&&clearInterval(h)},20);return()=>clearInterval(h)},[r.length]),l.jsxs("div",{className:"fixed inset-0 bg-[#F5F5F5] flex flex-col items-center justify-center font-['Source_Han_Sans_CN_VF',sans-serif] z-50",children:[l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-[0.03]",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"40px 40px"}}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-[#2C2C2C]"}),l.jsxs("div",{className:"w-full max-w-[320px] flex flex-col items-center relative z-10",children:[l.jsxs(un.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"w-32 h-32 mb-12 relative",children:[l.jsx("div",{className:"absolute inset-0 bg-white rounded-full shadow-2xl opacity-50 blur-xl scale-90"}),l.jsx("img",{src:uf,alt:"Touken OS Logo",className:"w-full h-full object-contain relative z-10 drop-shadow-lg"})]}),l.jsx("div",{className:"w-full h-1 bg-[#D6D3CC] mb-6 relative overflow-hidden rounded-full",children:l.jsx(un.div,{className:"absolute top-0 left-0 bottom-0 bg-[#2C2C2C]",initial:{width:"0%"},animate:{width:`${e}%`},transition:{ease:"linear",duration:.1}})}),l.jsx("div",{className:"w-full h-24 font-mono text-[10px] text-[#5A5A55] space-y-1.5 overflow-hidden flex flex-col justify-end",children:l.jsx(nr,{mode:"popLayout",children:r.map((i,o)=>l.jsxs(un.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[l.jsx("span",{className:"w-1 h-1 bg-[#34C759] rounded-full shrink-0 animate-pulse"}),l.jsx("span",{className:"truncate tracking-tight",children:i})]},o))})}),l.jsx("div",{className:"absolute -bottom-24 text-[9px] text-[#8C8C89] font-mono tracking-widest opacity-60",children:"CHRONOS GOVERNMENT TERMINAL V1.0"})]})]})}function qN(){A.useEffect(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("SW registered: ",r),r.addEventListener("updatefound",()=>{const a=r.installing;a&&a.addEventListener("statechange",()=>{a.state==="installed"&&navigator.serviceWorker.controller&&(console.log("New content is available; please refresh."),confirm("")&&(a.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(r=>{console.log("SW registration failed: ",r)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{window.location.reload()})}),(()=>{let r=document.querySelector('meta[name="viewport"]');r||(r=document.createElement("meta"),r.setAttribute("name","viewport"),document.head.appendChild(r)),r.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover");let a=document.querySelector('meta[name="theme-color"]');a||(a=document.createElement("meta"),a.setAttribute("name","theme-color"),document.head.appendChild(a)),a.setAttribute("content","#000000");let i=document.querySelector('meta[name="apple-mobile-web-app-capable"]');i||(i=document.createElement("meta"),i.setAttribute("name","apple-mobile-web-app-capable"),document.head.appendChild(i)),i.setAttribute("content","yes");let o=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');o||(o=document.createElement("meta"),o.setAttribute("name","apple-mobile-web-app-status-bar-style"),document.head.appendChild(o)),o.setAttribute("content","black-translucent");let u=document.querySelector('meta[name="apple-mobile-web-app-title"]');u||(u=document.createElement("meta"),u.setAttribute("name","apple-mobile-web-app-title"),document.head.appendChild(u)),u.setAttribute("content","Touken OS");let d=document.querySelector('meta[name="description"]');d||(d=document.createElement("meta"),d.setAttribute("name","description"),document.head.appendChild(d)),d.setAttribute("content","");let h=document.querySelector('link[rel="manifest"]');h||(h=document.createElement("link"),h.setAttribute("rel","manifest"),document.head.appendChild(h)),h.setAttribute("href","/manifest.json");let x=document.querySelector('link[rel="apple-touch-icon"]');x||(x=document.createElement("link"),x.setAttribute("rel","apple-touch-icon"),document.head.appendChild(x)),x.setAttribute("href","/icon-192.png");let f=document.querySelector('link[rel="icon"]');f||(f=document.createElement("link"),f.setAttribute("rel","icon"),document.head.appendChild(f)),f.setAttribute("href","/icon-192.png")})(),document.addEventListener("gesturestart",r=>{r.preventDefault()}),document.addEventListener("gesturechange",r=>{r.preventDefault()}),document.addEventListener("gestureend",r=>{r.preventDefault()});let n=0;document.addEventListener("touchend",r=>{const a=Date.now();a-n<=300&&r.preventDefault(),n=a},!1)},[])}function YN(){const[e,n]=A.useState("loading"),[r,a]=A.useState(null),[i,o]=A.useState(!0),[u,d]=A.useState({}),[h,x]=A.useState(null);qN(),A.useEffect(()=>{window.debugImageStorage=async()=>{console.log("=== Image Storage Debug ===");const p=await K1();console.log("Category stats:",p);const g=await G1();return console.log("All images:",g),console.log("Total images:",g.length),{stats:p,images:g}},console.log("Debug tools available:"),console.log("- window.debugImageStorage() - ")},[]),A.useEffect(()=>{const p=[{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"},{name:"apple-mobile-web-app-title",content:"Touken OS"},{name:"mobile-web-app-capable",content:"yes"}],g=[{rel:"apple-touch-icon",href:"/icon-192.png"}];p.forEach(v=>{let w=document.querySelector(`meta[name="${v.name}"]`);w||(w=document.createElement("meta"),w.setAttribute("name",v.name),document.head.appendChild(w)),w.setAttribute("content",v.content)}),g.forEach(v=>{let w=document.querySelector(`link[rel="${v.rel}"]`);w||(w=document.createElement("link"),w.setAttribute("rel",v.rel),document.head.appendChild(w)),w.setAttribute("href",v.href)})},[]),A.useEffect(()=>{(async()=>{try{if(console.log("Initializing application..."),console.log("Initializing database..."),await be.init(),"serviceWorker"in navigator)try{const T=await navigator.serviceWorker.register("/sw.js");"Notification"in window&&Notification.permission==="default"&&await Notification.requestPermission()}catch(T){console.warn("[SW] Service Worker registration issue:",T)}const v=new URLSearchParams(window.location.search).get("chatId");v&&(console.log("Found chatId in URL:",v),x(v),window.history.replaceState({},"","/"));const w=be.get(ue.USER_DATA,"userData"),y=new Promise(T=>setTimeout(T,2500)),C=(async()=>{const T=["desktop_wallpaper","profileBackground","avatar","anniversary","system-icon-desktop1-chat","system-icon-desktop1-forum","system-icon-desktop1-memory","system-icon-desktop1-transfer","desktop2_timeImage","desktop2_card1","desktop2_card2","desktop2_card3","desktop2_card4","system-icon-desktop2-shop","system-icon-desktop2-game","system-icon-desktop2-schedule","system-icon-desktop2-health"],D={};return await Promise.all(T.map(async M=>{try{D[M]=await dt(M)}catch(F){console.warn(`Failed to preload image ${M}`,F),D[M]=null}})),D})(),[k,j]=await Promise.all([w,C,y]);d(j),k?(console.log("User data found, redirecting to desktop"),a(k),o(!1),n("desktop")):(console.log("No user data found, showing login page"),o(!1),n("login"))}catch(g){console.error("Failed to initialize app:",g),o(!1),n("login")}})()},[]);const f=p=>{a(p),n("desktop")};return i&&e==="loading"?l.jsx(ZN,{}):e==="login"?l.jsxs(l.Fragment,{children:[l.jsx(q0,{}),l.jsx(s6,{onLoginSuccess:f}),l.jsx(Z0,{})]}):e==="desktop"&&r?l.jsxs(l.Fragment,{children:[l.jsx(q0,{}),l.jsx(KN,{userData:r,preloadedImages:u,initialChatId:h}),l.jsx(Z0,{})]}):null}Yv.createRoot(document.getElementById("root")).render(l.jsx(YN,{}));
